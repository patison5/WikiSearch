<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Полиморфные связи / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/79431\/"},"headline":"Полиморфные связи","datePublished":"2009-12-28T12:39:38+03:00","dateModified":"2010-01-03T16:35:36+03:00","author":{"@type":"Person","name":"Огневский Андрей"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и...","url":"https:\/\/habr.com\/ru\/post\/79431\/#post-content-body","about":["h_ror","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/79431\/4c7e202850aba8e365ff957b6bb4be1a\/"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Полиморфные связи" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Полиморфные связи" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Полиморфные связи" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же,..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же,..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же,..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же,..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же,..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/79431/4c7e202850aba8e365ff957b6bb4be1a/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/79431/4c7e202850aba8e365ff957b6bb4be1a/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/79431/4c7e202850aba8e365ff957b6bb4be1a/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/79431/4c7e202850aba8e365ff957b6bb4be1a/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/79431/4c7e202850aba8e365ff957b6bb4be1a/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="79431" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2009-12-28T09:39:38.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/79431/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/79431/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/79431/4c7e202850aba8e365ff957b6bb4be1a/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/ognevsky/" title="ognevsky" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/64f/d60/746/64fd6074631db50b87fd2e9d02976ab3.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/ognevsky/" class="tm-user-info__username">
      ognevsky
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2009-12-28T09:39:38.000Z" title="2009-12-28, 12:39">28  декабря  2009 в 12:39</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Полиморфные связи</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/ror/" class="tm-article-snippet__hubs-item-link"><span>Ruby on Rails</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">На днях в блоге <a href="http://habrahabr.ru/blogs/ror/">Ruby on Rails</a> появилась <a href="http://habrahabr.ru/blogs/ror/79389/">статья</a> о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же, исправился, но все равно написал достаточно поверхностно). <br/>
Поначалу я даже испугался, что это моя статья каким-то непостижимым образом вырвалась из «черновиков» и попала в общую ленту. Потом разобрался, собрался с мыслями, и решил таки дописать свою.<br/>
<br/>
Что же такое полиморфные связи и для чего они нужны? В <a href="http://railscasts.com/episodes/154-polymorphic-association">одном из</a> своих <a href="http://railscasts.com">скринкастов</a> Ryan Bates уже рассказывал об этом, и я ни в коем случае не хочу рассказывать то же самое. Ситуация была следующей:<blockquote>у нас есть модели <b>Статьи</b>, <b>Фотографии</b> и <b>События</b>. А еще есть модель <b>Комментарии</b>. А еще очень хочется все комментарии (комментарии статей, фотографий и событий) хранить в одной таблице.</blockquote>Статей по этой проблеме в интернете очень много, но бывают и случаи «наоборот». Далеко ходить не нужно, давайте попробуем разработать функционал постов Хабрахабра!<br/>
<a name="habracut"></a><br/>
Здесь мы можем писать статьи, при этом сами статьи могут быть разных типов: Топик, Ссылка, Вопрос, Подкаст, Перевод и Вакансия. Но согласитесь, было бы довольно глупо создавать шесть отдельных таблиц, содержащих практически одинаковые поля: заголовок, дата создания/изменения, разного рода сео-информация, теги, статус (опубликовано/нет) и обязательно что-нибудь еще.<br/>
<br/>
<i>Хотел расписать все «для самых маленьких», но примерно в середине статьи понял, что как-то много получается (да и пользуются полиморфными связями, в основном, далеко не новички). И да, совсем забыл: давайте немного урежем наш функционал и будем проектировать связи из расчета 3 моделей: Топик, Ссылка и Подкаст (а то уж больно много кода получится, а делается все аналогично.</i><br/>
<br/>
Итак, поехали!<br/>
Создадим 4 модели: Post, Topic, Link и Podcast. Непонятная модель Post как раз и будет «родительской» для остальных и, собственно, будет содержать все <s>ненужные</s> общие поля.<blockquote><code>bash-3.2$ script/generate model post title:string published:boolean content_id:integer content_type:string<br/>
bash-3.2$ script/generate model topic body:text <br/>
bash-3.2$ script/generate model podcast link:string description:text <br/>
bash-3.2$ script/generate model link link:string description:text </code></blockquote><s>Как видите, ссылки и подкасты имеют одинаковые поля, давайте сделаем еще одну полиморфную связь :)</s><br/>
<br/>
При создании миграции Post мы указали общие поля для всех остальных таблиц (в данном случае это заголовок (title), статус статьи (published) и дату создания/изменения(они дописались автоматически)). Кроме того, есть 2 поля, в которых будут храниться идентификатор элемента (content_id) и модель, которой принадлежит данный элемент (content_type; мы разберемся с этим чуть позже).<br/>
Миграцию модели Post трогать больше не будем, а вот во всех остальных миграциях удалим эту строку:<blockquote><code>t.timestamps</code></blockquote>Ведь поля created_at и updated_at (которые генерирует хелпер timestamps) теперь одни на всех — в таблице posts.<br/>
<br/>
Делаем rake db:migrate и… и остается последний штрих: добавляем связи моделям.<blockquote><code><font color="black"><font color="#696969"># app/models/post.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">Post</font> &lt; <font color="#cc6633">ActiveRecord::Base</font>&lt;br/>  belongs_to :content, :polymorphic => <font color="#0000ff">true</font>, :dependent => :destroy&lt;br/><font color="#0000ff">end</font>&lt;br/> &lt;br/><font color="#696969"># app/models/topic.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">Topic</font> &lt; <font color="#cc6633">ActiveRecord::Base</font>&lt;br/>  has_one :post, :as => :content, :dependent => :destroy&lt;br/><font color="#0000ff">end</font>&lt;br/> &lt;br/><font color="#696969"># app/models/link.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">Link</font> &lt; <font color="#cc6633">ActiveRecord::Base</font>&lt;br/>  has_one :post, :as => :content, :dependent => :destroy&lt;br/><font color="#0000ff">end</font>&lt;br/> &lt;br/><font color="#696969"># app/models/podcast.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">Podcast</font> &lt; <font color="#cc6633">ActiveRecord::Base</font>&lt;br/>  has_one :post, :as => :content, :dependent => :destroy&lt;br/><font color="#0000ff">end</font> &lt;br/></font></code></blockquote>Вместо того, чтобы в модели Post писать «has_many :links (:topics, :podcasts)», мы говорим, что Post крепко-накрепко связан <s>семейными узами</s> полиморфной связью с неким :content, при этом теперь любая модель, в которой мы напишем <blockquote><code>:has_one :post, :as => content </code></blockquote>станет дочерней для нашего Post'a. Что мы, собственно, и проделали выше.<br/>
Теперь мы полностью готовы перейти в консоль и возрадоваться:)<blockquote><code>bash-3.2$ script/console<br/>
>> t = Topic.new(:body => "Just one more test topic body here")<br/>
>> t.save<br/>
>> p = Post.new(:title => "Some test title", :published => true, :content => t)<br/>
>> p.save<br/>
</code></blockquote>Создали новый топик (указав только тело), сохранили, создали новый пост (указав заголовок, статус и сам контент (можно было написать и :content_id => t.id, :content_type => t.class (как бы подразумевая при этом еще и .to_s)). <br/>
<br/>
Вне всякого сомнения, чтобы поле content_type сразу заполнялось значением, мы можем написать так:<blockquote><code>>> Post.topics.new<br/>
=> #&lt;Post id: nil, title: nil, published: nil, content_id: nil, content_type: "Topic", created_at: nil, updated_at: nil></code></blockquote><br/>
Попробуем просмотреть все топики:<br/>
<blockquote><code>>> Post.find_all_by_content_type("Topic")</code></blockquote>Согласен, неудобно; давайте добавим немного named_scope'ов в модель Post:<blockquote><code><font color="black">named_scope :topics, :conditions => { :content_type => <font color="#008000">"Topic"</font> }&lt;br/>named_scope :links, :conditions => { :content_type => <font color="#008000">"Link"</font> }&lt;br/>named_scope :podcasts, :conditions => { :content_type => <font color="#008000">"Podcast"</font> } &lt;br/></font></code></blockquote>Заходим опять в консоль, делаем reload! и осматриваемся:<br/>
<blockquote><code>>> Post.topics<br/>
>> Post.links<br/>
>> Post.podcasts</code></blockquote>Теперь нужно понять, как получать доступ ко всем свойствам наших постов. <br/>
<blockquote><code>>> p.body<br/>
NoMethodError: undefined method `body' for #&lt;Post:0x2653e00><br/>
>> t.title<br/>
NoMethodError: undefined method `title' for #&lt;Topic id: 8, body: "Just one more test topic body here"></code></blockquote>Оказывается, что не так:) Попробуем что-нибудь вроде этого:<br/>
<blockquote><code>>> p.content.body<br/>
=> "Just one more test topic body here"<br/>
>> t.post.title<br/>
=> "Some test title"</code></blockquote>Поигрались и хватит, пора делать контроллеры (а там и до представления недалеко). Выходим из рельсо-консоли, нас ждет обычная:)<br/>
<blockquote><code>bash-3.2$ script/generate controller posts index<br/>
bash-3.2$ script/generate controller posts/topics index show<br/>
bash-3.2$ script/generate controller posts/podcasts index show<br/>
bash-3.2$ script/generate controller posts/links index show<br/>
bash-3.2$ script/generate controller home index<br/>
</code></blockquote>Дальше идем в config/routes.rb и приводим его в такой вид:<blockquote><code><font color="black"><font color="#cc6633">ActionController::Routing</font>::Routes.draw <font color="#0000ff">do</font> |map|&lt;br/>  map.root :controller => <font color="#008000">'home'</font>&lt;br/> &lt;br/>  map.namespace(:posts) <font color="#0000ff">do</font> |post|&lt;br/>    post.resources :topics, :links, :podcasts&lt;br/>  <font color="#0000ff">end</font>&lt;br/>  map.resources :posts&lt;br/> &lt;br/>  map.connect <font color="#008000">':controller/:action/:id'</font>&lt;br/>  map.connect <font color="#008000">':controller/:action/:id.:format'</font>&lt;br/><font color="#0000ff">end</font> &lt;br/></font></code></blockquote><blockquote>А теперь запустим сервер и посмотрим, что у нас получилось:<code>bash-3.2$ script/server</code></blockquote>А получилось у нас вот что:<blockquote><code>/posts (здесь будет список всех постов)<br/>
/posts/topics (здесь — только посты–топики)<br/>
/posts/links (а тут — только посты–ссылки)<br/>
/posts/podcasts (и вы никогда не угадаете, что же будет тут ;)</code></blockquote><br/>
Само собой, доступен весь REST, в нем можно даже не сомневаться ;)<br/>
<br/>
Теперь заполним кодом контроллеры:<blockquote><code><font color="black"><font color="#696969"># app/controllers/posts_controller.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">PostsController</font> &lt; ApplicationController&lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">index</font>&lt;br/>    @posts = Post.find(:all)&lt;br/>  <font color="#0000ff">end</font>&lt;br/><font color="#0000ff">end</font>&lt;br/> &lt;br/><font color="#696969"># app/controllers/posts/topics_controller.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">Posts</font>::TopicsController &lt; ApplicationController&lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">index</font>&lt;br/>    @posts = Post.topics.find(:all)&lt;br/>  <font color="#0000ff">end</font>&lt;br/> &lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">show</font>&lt;br/>    @post = Post.topics.find(params[:id])&lt;br/>  <font color="#0000ff">end</font>&lt;br/><font color="#0000ff">end</font>&lt;br/> &lt;br/><font color="#696969"># app/controllers/posts/links_controller.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">Posts</font>::LinksController &lt; ApplicationController&lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">index</font>&lt;br/>    @posts = Post.links.find(:all)&lt;br/>  <font color="#0000ff">end</font>&lt;br/> &lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">show</font>&lt;br/>    @post = Post.links.find(params[:id])&lt;br/>  <font color="#0000ff">end</font>&lt;br/><font color="#0000ff">end</font>&lt;br/> &lt;br/><font color="#696969"># app/controllers/posts/podcasts_controller.rb</font>&lt;br/><font color="#0000ff">class</font> <font color="#cc6633">Posts</font>::PodcastsController &lt; ApplicationController&lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">index</font>&lt;br/>    @posts = Post.podcasts.find(:all)&lt;br/>  <font color="#0000ff">end</font>&lt;br/> &lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">show</font>&lt;br/>    @post = Post.podcasts.find(params[:id])&lt;br/>  <font color="#0000ff">end</font>&lt;br/><font color="#0000ff">end</font> &lt;br/></font></code></blockquote>В posts_controller пока что заполним только index, show там не нужен. В остальных заполняем и index (там, как видно, будут отображаться только «нужные» посты), и show (а здесь будет отображаться сама статья/ссылка/подкаст). Думаю, тут можно обойтись без пояснений, весь этот код мы уже писали в консоли.<br/>
<br/>
Сразу перейдем к представлениям, и первое — posts#index:<blockquote><code><font color="black">&lt;!-- app/views/posts/index.html.erb -->&lt;br/>&lt;% @posts.each <font color="#0000ff">do</font> |post| %>&lt;br/>  &lt;%= link_to post.content.<font color="#0000ff">class</font>.<b>to_s</b>.pluralize, <font color="#008000">"/posts/#{post.content.class.to_s.downcase.pluralize}"</font> %> &amp;rarr;&lt;br/>  &lt;%= link_to post.title, <font color="#008000">"/posts/#{post.content.class.to_s.downcase.pluralize}/#{post.id}"</font> %>&lt;br/>&lt;br/>&lt;% <font color="#0000ff">end</font> %> &lt;br/></font></code></blockquote>Сначала я написал именно так, потому что городить в представлении тонны if'ов — еще хуже (имхо). Потом мне стало стыдно, что на Хабре люди увидят такой ужас, и решил сделать этот ужас чуть менее ужасным. Итак, открываем app/helpers/posts_helper.rb и пишем в него что-нибудь вроде<blockquote><code><font color="black"><font color="#0000ff">module</font> PostsHelper&lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">posts_smth_path</font>(post)&lt;br/>    <font color="#0000ff">case</font> post.content.<font color="#0000ff">class</font>.<b>to_s</b>.downcase&lt;br/>      <font color="#0000ff">when</font> <font color="#008000">"topic"</font> : posts_topic_path(post)&lt;br/>      <font color="#0000ff">when</font> <font color="#008000">"link"</font> : posts_link_path(post)&lt;br/>      <font color="#0000ff">when</font> <font color="#008000">"podcast"</font> : posts_podcast_path(post)&lt;br/>    <font color="#0000ff">end</font>&lt;br/>  <font color="#0000ff">end</font>&lt;br/> &lt;br/>  <font color="#0000ff">def</font> <font color="#cc6633">posts_smths_path</font>(post)&lt;br/>    <font color="#0000ff">case</font> post.content.<font color="#0000ff">class</font>.<b>to_s</b>.downcase&lt;br/>      <font color="#0000ff">when</font> <font color="#008000">"topic"</font> : posts_topics_path&lt;br/>      <font color="#0000ff">when</font> <font color="#008000">"link"</font> : posts_links_path&lt;br/>      <font color="#0000ff">when</font> <font color="#008000">"podcast"</font> : posts_podcasts_path&lt;br/>    <font color="#0000ff">end</font>&lt;br/>  <font color="#0000ff">end</font>&lt;br/><font color="#0000ff">end</font> &lt;br/></font></code></blockquote>Теперь у нас есть 2 метода: posts_smth_path и posts_smths_path, которые являются частным случаем posts_topic_path и posts_topics_path (вместо topic/topics, само собой, там может быть еще link/links и podcast/podcasts). Сделав работу над ошибками, смотрим что у нас получилось:<blockquote><code><font color="black">&lt;!-- app/views/posts/index.html.erb -->&lt;br/>&lt;% @posts.each <font color="#0000ff">do</font> |post| %>&lt;br/>  &lt;%= link_to post.content.<font color="#0000ff">class</font>.<b>to_s</b>.pluralize, posts_smths_path(post) %> &amp;rarr;&lt;br/>  &lt;%= link_to post.title, posts_smth_path(post) %>&lt;br/>&lt;br/>&lt;% <font color="#0000ff">end</font> %> &lt;br/></font></code></blockquote>Думаю, для черновика вполне достаточно. Теперь остальные представления:<blockquote><code><font color="black">&lt;!-- app/views/posts/topics/index.html.erb -->&lt;br/>&lt;% @posts.each <font color="#0000ff">do</font> |post| %>&lt;br/>  &lt;%= link_to post.title, posts_topic_path(post) %>&lt;br/>&lt;br/>&lt;% <font color="#0000ff">end</font> %>&lt;br/>&lt;<font color="#0000ff">p</font>>&lt;br/>  &lt;%= link_to <font color="#008000">"Add new Topic"</font>, new_posts_topic_path %>&lt;br/>&lt;/<font color="#0000ff">p</font>> &lt;br/></font></code></blockquote>Это метод index, и за исключением методов posts_topic_path и new_posts_topic_path он везде одинаковый, нет смысла городить тут еще тонну кода. В двух других будет posts_link_path/new_posts_link_path и posts_podcast_path/new_posts_podcast_path соответственно.<blockquote><code><font color="black">&lt;h1>&lt;%= @post.title %>&lt;/h1>&lt;br/>&lt;%= @post.content.body %> &lt;br/></font></code></blockquote>А это show, и в данном примере он вообще везде одинаковый :)<br/>
<br/>
А теперь — самое, пожалуй, интересное: добавление новый записей. Как вы уже заметили, в предыдущем листинге присутствует строка <blockquote><code><font color="black">&lt;%= link_to <font color="#008000">"Add new Topic"</font>, new_posts_topic_path %></font></code></blockquote>Хелпер link_to сгенерирует ссылку, при нажатии на которую мы перейдем на страницу /posts/topics/new, поэтому нам просто жизненно необходимо создать файл app/views/posts/topics/new.html.erb и написать в него что-нибудь такое:<blockquote><code><font color="black">&lt;!-- app/views/posts/topics/<b>new</b>.html.erb -->&lt;br/>&lt;% form_for [:posts, @topic] <font color="#0000ff">do</font> |form| %>&lt;br/>  &lt;% <b>form</b>.fields_for @post <font color="#0000ff">do</font> |<font color="#0000ff">p</font>| %> &lt;br/>    &lt;<font color="#0000ff">p</font>>&lt;br/>      &lt;%= <font color="#0000ff">p</font>.label :title %>&lt;br/>&lt;br/>      &lt;%= <font color="#0000ff">p</font>.text_field :title %> &lt;br/>    &lt;/<font color="#0000ff">p</font>>&lt;br/>    &lt;<font color="#0000ff">p</font>>&lt;br/>      &lt;%= <font color="#0000ff">p</font>.check_box :published %>&lt;br/>      &lt;%= <font color="#0000ff">p</font>.label :published %>&lt;br/>    &lt;/<font color="#0000ff">p</font>>&lt;br/>  &lt;% <font color="#0000ff">end</font> %>&lt;br/> &lt;br/>  &lt;<font color="#0000ff">p</font>>&lt;br/>    &lt;%= <b>form</b>.label :body %>&lt;br/>&lt;br/>    &lt;%= <b>form</b>.text_area :body %> &lt;br/>  &lt;/<font color="#0000ff">p</font>>&lt;br/> &lt;br/>  &lt;<font color="#0000ff">p</font>>&lt;%= <b>form</b>.submit <font color="#008000">"Create"</font> %>&lt;/<font color="#0000ff">p</font>>&lt;br/>&lt;% <font color="#0000ff">end</font> %> &lt;br/></font></code></blockquote>Сразу оговорюсь, пока что речь будет идти только про топики, в остальных контроллерах/представлениях будет аналогичный код.<br/>
<br/>
Чтобы все встало на свои места, я приведу код метода new контроллера topics:<blockquote><code><font color="black"><font color="#0000ff">def</font> <font color="#cc6633">new</font>&lt;br/>  @topic = Topic.<font color="#cc6633">new</font>&lt;br/>  @post = Post.topics.<font color="#cc6633">new</font>&lt;br/><font color="#0000ff">end</font>&lt;br/></font></code></blockquote>И, для полной ясности, я повторю код, который мы писали в файле routes.rb:<blockquote><code><font color="black">map.namespace(:posts) <font color="#0000ff">do</font> |post|&lt;br/>  post.resources :topics, :links, :podcasts&lt;br/><font color="#0000ff">end</font> &lt;br/></font></code></blockquote>Когда-то давно мы определили namespace, и теперь при создании форм для топиков вместо form_for  <a href="https://habrahabr.ru/users/topic/" class="user_link">topic</a> do… мы будем указывать наш namespace, то есть писать form_for [:posts,  <a href="https://habrahabr.ru/users/topic/" class="user_link">topic</a>] do… (аналогично для ссылок и подкастов). <br/>
В самом конце формы мы помещаем поле body и кнопку submit'a формы, а перед этим пользуемся хелпером fields_for, который аналогичен по поведению хелперу form_for, разве что не создает теги формы. Таким образом у нас получается как бы 2 формы, при этом одна вложена в другую.<br/>
<br/>
Заполняем форму, нажимаем кнопку Create и переходим к методу create контроллера topics. Напишем в него что-нибудь работающее, и добавление статей готово!<blockquote><code><font color="black"><font color="#0000ff">def</font> <font color="#cc6633">create</font>&lt;br/>  @topic = Topic.<b>new</b>(:body => params[:topic][:body])&lt;br/>  <font color="#0000ff">if</font> @topic.save&lt;br/>    @post = Post.<b>new</b>({ :content => @topic }.merge params[:topic][:post])&lt;br/>    <font color="#0000ff">if</font> @post.save&lt;br/>      redirect_to root_url&lt;br/>    <font color="#0000ff">else</font>&lt;br/>      render :new&lt;br/>    <font color="#0000ff">end</font>&lt;br/>  <font color="#0000ff">else</font>&lt;br/>    render :new&lt;br/>  <font color="#0000ff">end</font>&lt;br/><font color="#0000ff">end</font> &lt;br/></font></code></blockquote>Я искренне извиняюсь за такое обилие кода в методе, я уверен что этот код можно (и нужно!) вынести в модель, но я так не умею. Надеюсь, кто-нибудь из более опытных товарищей меня поправит.<br/>
<br/>
На этом, думаю, все. Обновление элементов делается аналогично созданию, с этим не должно возникнуть сложностей. Прошу прощения за ошибки, опечатки, занудство и за размер статьи: я не хотел!<br/>
<br/>
<s>Отнеситесь со всей строгостью, это уже не первая моя статья на Хабре!</s><br/>
<br/>
<b>UPD:</b><br/>
Полезные материалы по теме:<br/>
<a href="http://habrahabr.ru/blogs/ror/79630/">STI — одна таблица и много моделей</a><br/>
<a href="http://habrahabr.ru/blogs/ror/79595/">Создание мульти-модельных форм</a></div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bruby%5D" class="tm-article-body__tags-item-link">ruby</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bruby%20on%20rails%5D" class="tm-article-body__tags-item-link">ruby on rails</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%BE%D0%BB%D0%B8%D0%BC%D0%BE%D1%80%D1%84%D0%BD%D1%8B%D0%B5%20%D1%81%D0%B2%D1%8F%D0%B7%D0%B8%5D" class="tm-article-body__tags-item-link">полиморфные связи</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/ror/" class="tm-article-body__tags-item-link">
                  Ruby on Rails
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 58: ↑49 и ↓9</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 58: ↑49 и ↓9" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+40</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    63
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/79431/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      37
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/ognevsky/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/64f/d60/746/64fd6074631db50b87fd2e9d02976ab3.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 17 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    9
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><span class="tm-user-card__name">Огневский Андрей</span> <a href="/ru/users/ognevsky/" class="tm-user-card__nickname">
          @ognevsky
        </a> <!----></div> <p class="tm-user-card__short-info">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/79431/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 37 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2015-02-07T15:58:52.000Z" title="2015-02-07, 18:58">7  февраля  2015 в 18:58</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/250007/" class="tm-article-title__link"><span>10 ошибок в Ruby / Ruby on Rails, которые легко исправить</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 27: ↑23 и ↓4</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 27: ↑23 и ↓4" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+19</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">29K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    146
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/250007/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      38
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2013-08-14T12:48:49.000Z" title="2013-08-14, 16:48">14  августа  2013 в 16:48</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/railsclub/blog/190052/" class="tm-article-title__link"><span>RailsClub'Moscow 2013 – 28 сентября в Москве. Конференция ruby / ruby on rails разработчиков</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 15: ↑15 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 15: ↑15 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+15</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.2K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    7
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/railsclub/blog/190052/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      4
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2012-07-30T19:58:34.000Z" title="2012-07-30, 23:58">30  июля  2012 в 23:58</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/railsclub/blog/148768/" class="tm-article-title__link"><span>RailsClub'Moscow 2012 – 15 сентября в Москве. Конференция ruby / ruby on rails разработчиков</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 13: ↑13 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 13: ↑13 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+13</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2.5K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    10
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/railsclub/blog/148768/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      7
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T09:00:04.000Z" title="2021-09-27, 12:00">вчера в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580060/" class="tm-article-title__link"><span>Арракис, который мы заслужили</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 145: ↑139 и ↓6</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 145: ↑139 и ↓6" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+133</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">22K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    39
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580060/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      112
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T16:41:21.000Z" title="2021-09-27, 19:41">вчера в 19:41</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/lamptest/blog/580228/" class="tm-article-title__link"><span>Идеальная светодиодная лампа за 21 рубль</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 78: ↑76 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 78: ↑76 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+74</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">10K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    43
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/lamptest/blog/580228/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      26
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T13:03:14.000Z" title="2021-09-27, 16:03">вчера в 16:03</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580124/" class="tm-article-title__link"><span>Электролюминесцентные индикаторы из прошлого</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 74: ↑74 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 74: ↑74 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+74</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">5K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    37
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580124/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      13
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T12:53:02.000Z" title="2021-09-27, 15:53">вчера в 15:53</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580210/" class="tm-article-title__link"><span>PHP Дайджест № 212 (13 – 27 сентября 2021)</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 41: ↑41 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 41: ↑41 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+41</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.6K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    14
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580210/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T10:50:03.000Z" title="2021-09-27, 13:50">вчера в 13:50</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/oleg-bunin/blog/580150/" class="tm-article-title__link"><span>Топ-5 когнитивных искажений при планировании в IT</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 39: ↑38 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 39: ↑38 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+37</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">5.8K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    54
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/oleg-bunin/blog/580150/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      7
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="79431" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/79431/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/79431/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"79431":{"id":"79431","timePublished":"2009-12-28T09:39:38+00:00","isCorporative":false,"lang":"ru","titleHtml":"Полиморфные связи","leadData":{"textHtml":"На днях в блоге \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fror\u002F\"\u003ERuby on Rails\u003C\u002Fa\u003E появилась \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fror\u002F79389\u002F\"\u003Eстатья\u003C\u002Fa\u003E о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же, исправился, но все равно написал достаточно поверхностно). \u003Cbr\u002F\u003E\r\nПоначалу я даже испугался, что это моя статья каким-то непостижимым образом вырвалась из «черновиков» и попала в общую ленту. Потом разобрался, собрался с мыслями, и решил таки дописать свою.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто же такое полиморфные связи и для чего они нужны? В \u003Ca href=\"http:\u002F\u002Frailscasts.com\u002Fepisodes\u002F154-polymorphic-association\"\u003Eодном из\u003C\u002Fa\u003E своих \u003Ca href=\"http:\u002F\u002Frailscasts.com\"\u003Eскринкастов\u003C\u002Fa\u003E Ryan Bates уже рассказывал об этом, и я ни в коем случае не хочу рассказывать то же самое. Ситуация была следующей:\u003Cblockquote\u003Eу нас есть модели \u003Cb\u003EСтатьи\u003C\u002Fb\u003E, \u003Cb\u003EФотографии\u003C\u002Fb\u003E и \u003Cb\u003EСобытия\u003C\u002Fb\u003E. А еще есть модель \u003Cb\u003EКомментарии\u003C\u002Fb\u003E. А еще очень хочется все комментарии (комментарии статей, фотографий и событий) хранить в одной таблице.\u003C\u002Fblockquote\u003EСтатей по этой проблеме в интернете очень много, но бывают и случаи «наоборот». Далеко ходить не нужно, давайте попробуем разработать функционал постов Хабрахабра!\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":9,"votesCount":17},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"20819","alias":"ognevsky","fullname":"Огневский Андрей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F64f\u002Fd60\u002F746\u002F64fd6074631db50b87fd2e9d02976ab3.jpg","speciality":null},"statistics":{"commentsCount":37,"favoritesCount":63,"readingCount":9091,"score":40,"votesCount":58},"hubs":[{"relatedData":null,"id":"8279","alias":"ror","type":"collective","title":"Ruby on Rails","titleHtml":"Ruby on Rails","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНа днях в блоге \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fror\u002F\"\u003ERuby on Rails\u003C\u002Fa\u003E появилась \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fror\u002F79389\u002F\"\u003Eстатья\u003C\u002Fa\u003E о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же, исправился, но все равно написал достаточно поверхностно). \u003Cbr\u002F\u003E\r\nПоначалу я даже испугался, что это моя статья каким-то непостижимым образом вырвалась из «черновиков» и попала в общую ленту. Потом разобрался, собрался с мыслями, и решил таки дописать свою.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто же такое полиморфные связи и для чего они нужны? В \u003Ca href=\"http:\u002F\u002Frailscasts.com\u002Fepisodes\u002F154-polymorphic-association\"\u003Eодном из\u003C\u002Fa\u003E своих \u003Ca href=\"http:\u002F\u002Frailscasts.com\"\u003Eскринкастов\u003C\u002Fa\u003E Ryan Bates уже рассказывал об этом, и я ни в коем случае не хочу рассказывать то же самое. Ситуация была следующей:\u003Cblockquote\u003Eу нас есть модели \u003Cb\u003EСтатьи\u003C\u002Fb\u003E, \u003Cb\u003EФотографии\u003C\u002Fb\u003E и \u003Cb\u003EСобытия\u003C\u002Fb\u003E. А еще есть модель \u003Cb\u003EКомментарии\u003C\u002Fb\u003E. А еще очень хочется все комментарии (комментарии статей, фотографий и событий) хранить в одной таблице.\u003C\u002Fblockquote\u003EСтатей по этой проблеме в интернете очень много, но бывают и случаи «наоборот». Далеко ходить не нужно, давайте попробуем разработать функционал постов Хабрахабра!\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nЗдесь мы можем писать статьи, при этом сами статьи могут быть разных типов: Топик, Ссылка, Вопрос, Подкаст, Перевод и Вакансия. Но согласитесь, было бы довольно глупо создавать шесть отдельных таблиц, содержащих практически одинаковые поля: заголовок, дата создания\u002Fизменения, разного рода сео-информация, теги, статус (опубликовано\u002Fнет) и обязательно что-нибудь еще.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EХотел расписать все «для самых маленьких», но примерно в середине статьи понял, что как-то много получается (да и пользуются полиморфными связями, в основном, далеко не новички). И да, совсем забыл: давайте немного урежем наш функционал и будем проектировать связи из расчета 3 моделей: Топик, Ссылка и Подкаст (а то уж больно много кода получится, а делается все аналогично.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак, поехали!\u003Cbr\u002F\u003E\r\nСоздадим 4 модели: Post, Topic, Link и Podcast. Непонятная модель Post как раз и будет «родительской» для остальных и, собственно, будет содержать все \u003Cs\u003Eненужные\u003C\u002Fs\u003E общие поля.\u003Cblockquote\u003E\u003Ccode\u003Ebash-3.2$ script\u002Fgenerate model post title:string published:boolean content_id:integer content_type:string\u003Cbr\u002F\u003E\r\nbash-3.2$ script\u002Fgenerate model topic body:text \u003Cbr\u002F\u003E\r\nbash-3.2$ script\u002Fgenerate model podcast link:string description:text \u003Cbr\u002F\u003E\r\nbash-3.2$ script\u002Fgenerate model link link:string description:text \u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cs\u003EКак видите, ссылки и подкасты имеют одинаковые поля, давайте сделаем еще одну полиморфную связь :)\u003C\u002Fs\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри создании миграции Post мы указали общие поля для всех остальных таблиц (в данном случае это заголовок (title), статус статьи (published) и дату создания\u002Fизменения(они дописались автоматически)). Кроме того, есть 2 поля, в которых будут храниться идентификатор элемента (content_id) и модель, которой принадлежит данный элемент (content_type; мы разберемся с этим чуть позже).\u003Cbr\u002F\u003E\r\nМиграцию модели Post трогать больше не будем, а вот во всех остальных миграциях удалим эту строку:\u003Cblockquote\u003E\u003Ccode\u003Et.timestamps\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EВедь поля created_at и updated_at (которые генерирует хелпер timestamps) теперь одни на всех — в таблице posts.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДелаем rake db:migrate и… и остается последний штрих: добавляем связи моделям.\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fmodels\u002Fpost.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003EPost\u003C\u002Ffont\u003E &lt; \u003Cfont color=\"#cc6633\"\u003EActiveRecord::Base\u003C\u002Ffont\u003E&lt;br\u002F\u003E  belongs_to :content, :polymorphic =\u003E \u003Cfont color=\"#0000ff\"\u003Etrue\u003C\u002Ffont\u003E, :dependent =\u003E :destroy&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fmodels\u002Ftopic.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003ETopic\u003C\u002Ffont\u003E &lt; \u003Cfont color=\"#cc6633\"\u003EActiveRecord::Base\u003C\u002Ffont\u003E&lt;br\u002F\u003E  has_one :post, :as =\u003E :content, :dependent =\u003E :destroy&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fmodels\u002Flink.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003ELink\u003C\u002Ffont\u003E &lt; \u003Cfont color=\"#cc6633\"\u003EActiveRecord::Base\u003C\u002Ffont\u003E&lt;br\u002F\u003E  has_one :post, :as =\u003E :content, :dependent =\u003E :destroy&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fmodels\u002Fpodcast.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003EPodcast\u003C\u002Ffont\u003E &lt; \u003Cfont color=\"#cc6633\"\u003EActiveRecord::Base\u003C\u002Ffont\u003E&lt;br\u002F\u003E  has_one :post, :as =\u003E :content, :dependent =\u003E :destroy&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EВместо того, чтобы в модели Post писать «has_many :links (:topics, :podcasts)», мы говорим, что Post крепко-накрепко связан \u003Cs\u003Eсемейными узами\u003C\u002Fs\u003E полиморфной связью с неким :content, при этом теперь любая модель, в которой мы напишем \u003Cblockquote\u003E\u003Ccode\u003E:has_one :post, :as =\u003E content \u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003Eстанет дочерней для нашего Post'a. Что мы, собственно, и проделали выше.\u003Cbr\u002F\u003E\r\nТеперь мы полностью готовы перейти в консоль и возрадоваться:)\u003Cblockquote\u003E\u003Ccode\u003Ebash-3.2$ script\u002Fconsole\u003Cbr\u002F\u003E\r\n\u003E\u003E t = Topic.new(:body =\u003E \"Just one more test topic body here\")\u003Cbr\u002F\u003E\r\n\u003E\u003E t.save\u003Cbr\u002F\u003E\r\n\u003E\u003E p = Post.new(:title =\u003E \"Some test title\", :published =\u003E true, :content =\u003E t)\u003Cbr\u002F\u003E\r\n\u003E\u003E p.save\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EСоздали новый топик (указав только тело), сохранили, создали новый пост (указав заголовок, статус и сам контент (можно было написать и :content_id =\u003E t.id, :content_type =\u003E t.class (как бы подразумевая при этом еще и .to_s)). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВне всякого сомнения, чтобы поле content_type сразу заполнялось значением, мы можем написать так:\u003Cblockquote\u003E\u003Ccode\u003E\u003E\u003E Post.topics.new\u003Cbr\u002F\u003E\r\n=\u003E #&lt;Post id: nil, title: nil, published: nil, content_id: nil, content_type: \"Topic\", created_at: nil, updated_at: nil\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nПопробуем просмотреть все топики:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003E\u003E Post.find_all_by_content_type(\"Topic\")\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EСогласен, неудобно; давайте добавим немного named_scope'ов в модель Post:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003Enamed_scope :topics, :conditions =\u003E { :content_type =\u003E \u003Cfont color=\"#008000\"\u003E\"Topic\"\u003C\u002Ffont\u003E }&lt;br\u002F\u003Enamed_scope :links, :conditions =\u003E { :content_type =\u003E \u003Cfont color=\"#008000\"\u003E\"Link\"\u003C\u002Ffont\u003E }&lt;br\u002F\u003Enamed_scope :podcasts, :conditions =\u003E { :content_type =\u003E \u003Cfont color=\"#008000\"\u003E\"Podcast\"\u003C\u002Ffont\u003E } &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EЗаходим опять в консоль, делаем reload! и осматриваемся:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003E\u003E Post.topics\u003Cbr\u002F\u003E\r\n\u003E\u003E Post.links\u003Cbr\u002F\u003E\r\n\u003E\u003E Post.podcasts\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EТеперь нужно понять, как получать доступ ко всем свойствам наших постов. \u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003E\u003E p.body\u003Cbr\u002F\u003E\r\nNoMethodError: undefined method `body' for #&lt;Post:0x2653e00\u003E\u003Cbr\u002F\u003E\r\n\u003E\u003E t.title\u003Cbr\u002F\u003E\r\nNoMethodError: undefined method `title' for #&lt;Topic id: 8, body: \"Just one more test topic body here\"\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EОказывается, что не так:) Попробуем что-нибудь вроде этого:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003E\u003E p.content.body\u003Cbr\u002F\u003E\r\n=\u003E \"Just one more test topic body here\"\u003Cbr\u002F\u003E\r\n\u003E\u003E t.post.title\u003Cbr\u002F\u003E\r\n=\u003E \"Some test title\"\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EПоигрались и хватит, пора делать контроллеры (а там и до представления недалеко). Выходим из рельсо-консоли, нас ждет обычная:)\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003Ebash-3.2$ script\u002Fgenerate controller posts index\u003Cbr\u002F\u003E\r\nbash-3.2$ script\u002Fgenerate controller posts\u002Ftopics index show\u003Cbr\u002F\u003E\r\nbash-3.2$ script\u002Fgenerate controller posts\u002Fpodcasts index show\u003Cbr\u002F\u003E\r\nbash-3.2$ script\u002Fgenerate controller posts\u002Flinks index show\u003Cbr\u002F\u003E\r\nbash-3.2$ script\u002Fgenerate controller home index\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EДальше идем в config\u002Froutes.rb и приводим его в такой вид:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#cc6633\"\u003EActionController::Routing\u003C\u002Ffont\u003E::Routes.draw \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |map|&lt;br\u002F\u003E  map.root :controller =\u003E \u003Cfont color=\"#008000\"\u003E'home'\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E  map.namespace(:posts) \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |post|&lt;br\u002F\u003E    post.resources :topics, :links, :podcasts&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E  map.resources :posts&lt;br\u002F\u003E &lt;br\u002F\u003E  map.connect \u003Cfont color=\"#008000\"\u003E':controller\u002F:action\u002F:id'\u003C\u002Ffont\u003E&lt;br\u002F\u003E  map.connect \u003Cfont color=\"#008000\"\u003E':controller\u002F:action\u002F:id.:format'\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cblockquote\u003EА теперь запустим сервер и посмотрим, что у нас получилось:\u003Ccode\u003Ebash-3.2$ script\u002Fserver\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EА получилось у нас вот что:\u003Cblockquote\u003E\u003Ccode\u003E\u002Fposts (здесь будет список всех постов)\u003Cbr\u002F\u003E\r\n\u002Fposts\u002Ftopics (здесь — только посты–топики)\u003Cbr\u002F\u003E\r\n\u002Fposts\u002Flinks (а тут — только посты–ссылки)\u003Cbr\u002F\u003E\r\n\u002Fposts\u002Fpodcasts (и вы никогда не угадаете, что же будет тут ;)\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nСамо собой, доступен весь REST, в нем можно даже не сомневаться ;)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь заполним кодом контроллеры:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fcontrollers\u002Fposts_controller.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003EPostsController\u003C\u002Ffont\u003E &lt; ApplicationController&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eindex\u003C\u002Ffont\u003E&lt;br\u002F\u003E    @posts = Post.find(:all)&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fcontrollers\u002Fposts\u002Ftopics_controller.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003EPosts\u003C\u002Ffont\u003E::TopicsController &lt; ApplicationController&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eindex\u003C\u002Ffont\u003E&lt;br\u002F\u003E    @posts = Post.topics.find(:all)&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eshow\u003C\u002Ffont\u003E&lt;br\u002F\u003E    @post = Post.topics.find(params[:id])&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fcontrollers\u002Fposts\u002Flinks_controller.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003EPosts\u003C\u002Ffont\u003E::LinksController &lt; ApplicationController&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eindex\u003C\u002Ffont\u003E&lt;br\u002F\u003E    @posts = Post.links.find(:all)&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eshow\u003C\u002Ffont\u003E&lt;br\u002F\u003E    @post = Post.links.find(params[:id])&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E\u003Cfont color=\"#696969\"\u003E# app\u002Fcontrollers\u002Fposts\u002Fpodcasts_controller.rb\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003EPosts\u003C\u002Ffont\u003E::PodcastsController &lt; ApplicationController&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eindex\u003C\u002Ffont\u003E&lt;br\u002F\u003E    @posts = Post.podcasts.find(:all)&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eshow\u003C\u002Ffont\u003E&lt;br\u002F\u003E    @post = Post.podcasts.find(params[:id])&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EВ posts_controller пока что заполним только index, show там не нужен. В остальных заполняем и index (там, как видно, будут отображаться только «нужные» посты), и show (а здесь будет отображаться сама статья\u002Fссылка\u002Fподкаст). Думаю, тут можно обойтись без пояснений, весь этот код мы уже писали в консоли.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСразу перейдем к представлениям, и первое — posts#index:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E&lt;!-- app\u002Fviews\u002Fposts\u002Findex.html.erb --\u003E&lt;br\u002F\u003E&lt;% @posts.each \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |post| %\u003E&lt;br\u002F\u003E  &lt;%= link_to post.content.\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E.\u003Cb\u003Eto_s\u003C\u002Fb\u003E.pluralize, \u003Cfont color=\"#008000\"\u003E\"\u002Fposts\u002F#{post.content.class.to_s.downcase.pluralize}\"\u003C\u002Ffont\u003E %\u003E &amp;rarr;&lt;br\u002F\u003E  &lt;%= link_to post.title, \u003Cfont color=\"#008000\"\u003E\"\u002Fposts\u002F#{post.content.class.to_s.downcase.pluralize}\u002F#{post.id}\"\u003C\u002Ffont\u003E %\u003E&lt;br\u002F\u003E&lt;br\u002F\u003E&lt;% \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E %\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EСначала я написал именно так, потому что городить в представлении тонны if'ов — еще хуже (имхо). Потом мне стало стыдно, что на Хабре люди увидят такой ужас, и решил сделать этот ужас чуть менее ужасным. Итак, открываем app\u002Fhelpers\u002Fposts_helper.rb и пишем в него что-нибудь вроде\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Emodule\u003C\u002Ffont\u003E PostsHelper&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eposts_smth_path\u003C\u002Ffont\u003E(post)&lt;br\u002F\u003E    \u003Cfont color=\"#0000ff\"\u003Ecase\u003C\u002Ffont\u003E post.content.\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E.\u003Cb\u003Eto_s\u003C\u002Fb\u003E.downcase&lt;br\u002F\u003E      \u003Cfont color=\"#0000ff\"\u003Ewhen\u003C\u002Ffont\u003E \u003Cfont color=\"#008000\"\u003E\"topic\"\u003C\u002Ffont\u003E : posts_topic_path(post)&lt;br\u002F\u003E      \u003Cfont color=\"#0000ff\"\u003Ewhen\u003C\u002Ffont\u003E \u003Cfont color=\"#008000\"\u003E\"link\"\u003C\u002Ffont\u003E : posts_link_path(post)&lt;br\u002F\u003E      \u003Cfont color=\"#0000ff\"\u003Ewhen\u003C\u002Ffont\u003E \u003Cfont color=\"#008000\"\u003E\"podcast\"\u003C\u002Ffont\u003E : posts_podcast_path(post)&lt;br\u002F\u003E    \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Eposts_smths_path\u003C\u002Ffont\u003E(post)&lt;br\u002F\u003E    \u003Cfont color=\"#0000ff\"\u003Ecase\u003C\u002Ffont\u003E post.content.\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E.\u003Cb\u003Eto_s\u003C\u002Fb\u003E.downcase&lt;br\u002F\u003E      \u003Cfont color=\"#0000ff\"\u003Ewhen\u003C\u002Ffont\u003E \u003Cfont color=\"#008000\"\u003E\"topic\"\u003C\u002Ffont\u003E : posts_topics_path&lt;br\u002F\u003E      \u003Cfont color=\"#0000ff\"\u003Ewhen\u003C\u002Ffont\u003E \u003Cfont color=\"#008000\"\u003E\"link\"\u003C\u002Ffont\u003E : posts_links_path&lt;br\u002F\u003E      \u003Cfont color=\"#0000ff\"\u003Ewhen\u003C\u002Ffont\u003E \u003Cfont color=\"#008000\"\u003E\"podcast\"\u003C\u002Ffont\u003E : posts_podcasts_path&lt;br\u002F\u003E    \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EТеперь у нас есть 2 метода: posts_smth_path и posts_smths_path, которые являются частным случаем posts_topic_path и posts_topics_path (вместо topic\u002Ftopics, само собой, там может быть еще link\u002Flinks и podcast\u002Fpodcasts). Сделав работу над ошибками, смотрим что у нас получилось:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E&lt;!-- app\u002Fviews\u002Fposts\u002Findex.html.erb --\u003E&lt;br\u002F\u003E&lt;% @posts.each \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |post| %\u003E&lt;br\u002F\u003E  &lt;%= link_to post.content.\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E.\u003Cb\u003Eto_s\u003C\u002Fb\u003E.pluralize, posts_smths_path(post) %\u003E &amp;rarr;&lt;br\u002F\u003E  &lt;%= link_to post.title, posts_smth_path(post) %\u003E&lt;br\u002F\u003E&lt;br\u002F\u003E&lt;% \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E %\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EДумаю, для черновика вполне достаточно. Теперь остальные представления:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E&lt;!-- app\u002Fviews\u002Fposts\u002Ftopics\u002Findex.html.erb --\u003E&lt;br\u002F\u003E&lt;% @posts.each \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |post| %\u003E&lt;br\u002F\u003E  &lt;%= link_to post.title, posts_topic_path(post) %\u003E&lt;br\u002F\u003E&lt;br\u002F\u003E&lt;% \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E %\u003E&lt;br\u002F\u003E&lt;\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E  &lt;%= link_to \u003Cfont color=\"#008000\"\u003E\"Add new Topic\"\u003C\u002Ffont\u003E, new_posts_topic_path %\u003E&lt;br\u002F\u003E&lt;\u002F\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EЭто метод index, и за исключением методов posts_topic_path и new_posts_topic_path он везде одинаковый, нет смысла городить тут еще тонну кода. В двух других будет posts_link_path\u002Fnew_posts_link_path и posts_podcast_path\u002Fnew_posts_podcast_path соответственно.\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E&lt;h1\u003E&lt;%= @post.title %\u003E&lt;\u002Fh1\u003E&lt;br\u002F\u003E&lt;%= @post.content.body %\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EА это show, и в данном примере он вообще везде одинаковый :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nА теперь — самое, пожалуй, интересное: добавление новый записей. Как вы уже заметили, в предыдущем листинге присутствует строка \u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E&lt;%= link_to \u003Cfont color=\"#008000\"\u003E\"Add new Topic\"\u003C\u002Ffont\u003E, new_posts_topic_path %\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EХелпер link_to сгенерирует ссылку, при нажатии на которую мы перейдем на страницу \u002Fposts\u002Ftopics\u002Fnew, поэтому нам просто жизненно необходимо создать файл app\u002Fviews\u002Fposts\u002Ftopics\u002Fnew.html.erb и написать в него что-нибудь такое:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E&lt;!-- app\u002Fviews\u002Fposts\u002Ftopics\u002F\u003Cb\u003Enew\u003C\u002Fb\u003E.html.erb --\u003E&lt;br\u002F\u003E&lt;% form_for [:posts, @topic] \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |form| %\u003E&lt;br\u002F\u003E  &lt;% \u003Cb\u003Eform\u003C\u002Fb\u003E.fields_for @post \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E| %\u003E &lt;br\u002F\u003E    &lt;\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E      &lt;%= \u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E.label :title %\u003E&lt;br\u002F\u003E&lt;br\u002F\u003E      &lt;%= \u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E.text_field :title %\u003E &lt;br\u002F\u003E    &lt;\u002F\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E    &lt;\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E      &lt;%= \u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E.check_box :published %\u003E&lt;br\u002F\u003E      &lt;%= \u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E.label :published %\u003E&lt;br\u002F\u003E    &lt;\u002F\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E  &lt;% \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E %\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E  &lt;\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E    &lt;%= \u003Cb\u003Eform\u003C\u002Fb\u003E.label :body %\u003E&lt;br\u002F\u003E&lt;br\u002F\u003E    &lt;%= \u003Cb\u003Eform\u003C\u002Fb\u003E.text_area :body %\u003E &lt;br\u002F\u003E  &lt;\u002F\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E &lt;br\u002F\u003E  &lt;\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;%= \u003Cb\u003Eform\u003C\u002Fb\u003E.submit \u003Cfont color=\"#008000\"\u003E\"Create\"\u003C\u002Ffont\u003E %\u003E&lt;\u002F\u003Cfont color=\"#0000ff\"\u003Ep\u003C\u002Ffont\u003E\u003E&lt;br\u002F\u003E&lt;% \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E %\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EСразу оговорюсь, пока что речь будет идти только про топики, в остальных контроллерах\u002Fпредставлениях будет аналогичный код.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы все встало на свои места, я приведу код метода new контроллера topics:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Enew\u003C\u002Ffont\u003E&lt;br\u002F\u003E  @topic = Topic.\u003Cfont color=\"#cc6633\"\u003Enew\u003C\u002Ffont\u003E&lt;br\u002F\u003E  @post = Post.topics.\u003Cfont color=\"#cc6633\"\u003Enew\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EИ, для полной ясности, я повторю код, который мы писали в файле routes.rb:\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003Emap.namespace(:posts) \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E |post|&lt;br\u002F\u003E  post.resources :topics, :links, :podcasts&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EКогда-то давно мы определили namespace, и теперь при создании форм для топиков вместо form_for  \u003Ca href=\"https:\u002F\u002Fhabrahabr.ru\u002Fusers\u002Ftopic\u002F\" class=\"user_link\"\u003Etopic\u003C\u002Fa\u003E do… мы будем указывать наш namespace, то есть писать form_for [:posts,  \u003Ca href=\"https:\u002F\u002Fhabrahabr.ru\u002Fusers\u002Ftopic\u002F\" class=\"user_link\"\u003Etopic\u003C\u002Fa\u003E] do… (аналогично для ссылок и подкастов). \u003Cbr\u002F\u003E\r\nВ самом конце формы мы помещаем поле body и кнопку submit'a формы, а перед этим пользуемся хелпером fields_for, который аналогичен по поведению хелперу form_for, разве что не создает теги формы. Таким образом у нас получается как бы 2 формы, при этом одна вложена в другую.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗаполняем форму, нажимаем кнопку Create и переходим к методу create контроллера topics. Напишем в него что-нибудь работающее, и добавление статей готово!\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Edef\u003C\u002Ffont\u003E \u003Cfont color=\"#cc6633\"\u003Ecreate\u003C\u002Ffont\u003E&lt;br\u002F\u003E  @topic = Topic.\u003Cb\u003Enew\u003C\u002Fb\u003E(:body =\u003E params[:topic][:body])&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E @topic.save&lt;br\u002F\u003E    @post = Post.\u003Cb\u003Enew\u003C\u002Fb\u003E({ :content =\u003E @topic }.merge params[:topic][:post])&lt;br\u002F\u003E    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E @post.save&lt;br\u002F\u003E      redirect_to root_url&lt;br\u002F\u003E    \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E&lt;br\u002F\u003E      render :new&lt;br\u002F\u003E    \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E&lt;br\u002F\u003E    render :new&lt;br\u002F\u003E  \u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E&lt;br\u002F\u003E\u003Cfont color=\"#0000ff\"\u003Eend\u003C\u002Ffont\u003E &lt;br\u002F\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003EЯ искренне извиняюсь за такое обилие кода в методе, я уверен что этот код можно (и нужно!) вынести в модель, но я так не умею. Надеюсь, кто-нибудь из более опытных товарищей меня поправит.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа этом, думаю, все. Обновление элементов делается аналогично созданию, с этим не должно возникнуть сложностей. Прошу прощения за ошибки, опечатки, занудство и за размер статьи: я не хотел!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cs\u003EОтнеситесь со всей строгостью, это уже не первая моя статья на Хабре!\u003C\u002Fs\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EUPD:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nПолезные материалы по теме:\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fror\u002F79630\u002F\"\u003ESTI — одна таблица и много моделей\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fror\u002F79595\u002F\"\u003EСоздание мульти-модельных форм\u003C\u002Fa\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"ruby"},{"titleHtml":"ruby on rails"},{"titleHtml":"полиморфные связи"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F79431\u002F4c7e202850aba8e365ff957b6bb4be1a\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F79431\u002F4c7e202850aba8e365ff957b6bb4be1a\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F79431\\\u002F\"},\"headline\":\"Полиморфные связи\",\"datePublished\":\"2009-12-28T12:39:38+03:00\",\"dateModified\":\"2010-01-03T16:35:36+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Огневский Андрей\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F79431\\\u002F#post-content-body\",\"about\":[\"h_ror\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F79431\\\u002F4c7e202850aba8e365ff957b6bb4be1a\\\u002F\"]}","metaDescription":"На днях в блоге Ruby on Rails появилась статья о полиморфных связях, в которой автор писал всякие разные вещи, но при этом забыл упоминуть, как их использовать и зачем они нужны (потом, конечно же,...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"572164":{"id":"572164","timePublished":"2021-09-27T11:37:23+00:00","isCorporative":false,"lang":"ru","titleHtml":"Первые шаги в ОТО: прецессия орбиты Меркурия","editorVersion":"2.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"1832999","alias":"Yermack","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F690\u002F140\u002F823\u002F690140823f555d03574a59d46f648d24.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":25,"readingCount":3115,"score":18,"votesCount":18},"hubs":[{"relatedData":null,"id":"18840","alias":"julia","type":"collective","title":"Julia","titleHtml":"Julia","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21968","alias":"physics","type":"collective","title":"Физика","titleHtml":"Физика","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКогда речь заходит о теории относительности, частенько на ровном месте разрастаются споры, которые были занесены в почву непонимания и обильно удобрены мифами, недосказанностью и недостаточной математической подготовкой. Даже на лекциях от некоторых профессоров можно услышать, что детище гения Эйнштейна не имеет практической пользы, а на робкие попытки пролепетать что-то про спутниковые системы навигации они пренебрежительно отмахиваются, дескать, там все сложно и двояко. \u003C\u002Fp\u003E\u003Cp\u003EТак что совершенно естественно желание попробовать провести некоторые расчеты самолично, потрогать формулы, покрутить параметры, чтобы постепенно заложить интуицию в столь горячей теме.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"прецессия"},{"titleHtml":"меркурий"},{"titleHtml":"теория относительности"},{"titleHtml":"уравнения эйнштейна"},{"titleHtml":"метрики"},{"titleHtml":"спасибо scihub"},{"titleHtml":"спасибо mathpix"},{"titleHtml":"астрология_точная_наука"}]},"579370":{"id":"579370","timePublished":"2021-09-27T12:46:37+00:00","isCorporative":true,"lang":"ru","titleHtml":"WebAssembly в действии. Создание вашего первого модуля WebAssembly","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"224938","alias":"ph_piter","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3be\u002Fb11\u002F2b0\u002F3beb112b076924a916b27c845d88dcfa.jpg","speciality":""},"statistics":{"commentsCount":1,"favoritesCount":13,"readingCount":1164,"score":7,"votesCount":7},"hubs":[{"relatedData":null,"id":"17823","alias":"piter","type":"corporative","title":"Блог компании Издательский дом «Питер»","titleHtml":"Блог компании Издательский дом «Питер»","isProfiled":false},{"relatedData":null,"id":"22083","alias":"webassembly","type":"collective","title":"WebAssembly","titleHtml":"WebAssembly","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fpiter\u002Fblog\u002F579370\u002F\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F6r\u002Fkw\u002Fr1\u002F6rkwr16xmpxt2b1prdbnizbnjdo.jpeg\" align=\"left\" alt=\"image\"\u003E\u003C\u002Fa\u003E Привет, Хабр! Обращаем ваше внимание на одну новинку (сдана в типографию), доступную уже сейчас для покупки в \u003Ca href=\"https:\u002F\u002Fwww.piter.com\u002Fproduct\u002Fwebassembly-v-deystvii\" rel=\"nofollow noopener noreferrer\"\u003Eэлектронном виде\u003C\u002Fa\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКнига была написана, чтобы помочь вам понять, что такое WebAssembly, как он работает и что с ним можно и нельзя сделать. Она показывает разные варианты сборки модуля WebAssembly в зависимости от ваших потребностей. Мы начинаем с простых примеров и затем переходим к более сложным темам, например к динамическому связыванию, параллельной обработке и отладке.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКнига предназначена для разработчиков, имеющих базовое знание C и C++, JavaScript и HTML. По WebAssembly есть информация в Интернете, однако она частично устарела и обычно не очень подробна и не освещает сложные темы.. В этой книге информация подана в удобочитаемом формате, который поможет как начинающим, так и опытным разработчикам создавать модули WebAssembly и взаимодействовать с ними.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"предзаказ"}]},"579772":{"id":"579772","timePublished":"2021-09-27T05:32:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сливы процветают. Эксперт-«параноик» Майкл Баззель о защите личных данных","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Michael Bazzell","originalUrl":"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F"}}],"author":{"id":"2297567","alias":"SearchInform_team","fullname":null,"avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":8,"readingCount":2412,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"22418","alias":"searchinform","type":"corporative","title":"Блог компании SearchInform","titleHtml":"Блог компании SearchInform","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНаш очередной пост из серии «интересное на иностранном языке» – рассказ Майкла Баззеля о том, как сберечь свои персональные данные от утечек. Майкл – знаковая фигура в сфере OSINT, работал в правительстве США и ФБР, его приглашали в качестве технического эксперта в сериал «Мистер Робот», который считают достойным с точки зрения достоверности. В личной жизни эксперт придерживается настолько жестких правил в отношении информационной гигиены, что некоторые считают его «неадекватом». Так ли это – может быть несколько мнений. \u003C\u002Fp\u003E\u003Cp\u003EОдин из факторов, который убеждает в правильном подходе Майкла, – что риски обнаружить свои данные в интернете стали существенно выше, потому что шифровальщики без разбору сливают в сеть все, до чего дотягиваются при атаках на бизнес. Приводим перевод \u003Ca href=\"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F\"\u003Eпоста Майкла Баззеля\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EАтакуют корпорации, а страдают люди\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EБольшинство людей не задумываются о том, как их касается проблема распространения вирусов-шифровальщиков. Логика такова: речь идет о проблемах компаний, это они вынуждены платить выкуп. При чем тут, казалось бы, обычные люди?! \u003C\u002Fp\u003E\u003Cp\u003EА при том, что преступники сменили тактику: сейчас они не просто шифруют данные, но и скачивают их, выкладывают в открытый доступ, если компании не платят им выкуп. Теперь давайте подумаем, что в этих слитых базах? Множество данных о сотрудниках, клиентах, контрагентах, с которыми компания-жертва работает.\u003C\u002Fp\u003E\u003Cp\u003EХочу сразу уточнить: я это пишу не потому что выступаю за уплату выкупа. Я за то, чтобы сопротивляться избыточному сбору данных там, где это не обязательно. Мы халатно относимся к своим ПДн, раздавая их по первому требованию.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"персональные данные"},{"titleHtml":"пдн"},{"titleHtml":"сёрчинформ"},{"titleHtml":"Майкл Баззел"},{"titleHtml":"утечки информации"}]},"579854":{"id":"579854","timePublished":"2021-09-27T06:03:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Видишь уязвимости? А они есть! Наше исследование популярных CMS-систем","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2684283","alias":"Solar_Pentest","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":25,"readingCount":4029,"score":27,"votesCount":29},"hubs":[{"relatedData":null,"id":"20826","alias":"solarsecurity","type":"corporative","title":"Блог компании Ростелеком-Солар","titleHtml":"Блог компании Ростелеком-Солар","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛьвиная доля всех работ по анализу защищенности внешнего периметра – это тестирование веб-приложений. Здесь могут быть как корпоративные решения, так и «домашние» разработки на базе различных публичных систем управления контентом (CMS). Мы всегда проводим глубокий анализ подобных решений на тестовых стендах и зачастую находим уязвимости нулевого дня. Собственно, из опыта таких проектов и родилась идея собрать исследовательскую команду и провести глубокий анализ популярных CMS-систем и различных плагинов для них. В этом посте мы поделимся результатами нашего исследования, а также продемонстрируем примеры уязвимого кода наиболее интересных, на наш взгляд, уязвимостей и примеры их эксплуатации. Конечно все эти уязвимости уже исправлены и описываются здесь с разрешения владельцев систем.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","buttonTextHtml":"Не всё то в безопасности, что с Bug Bounty","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"cms"},{"titleHtml":"уязвимости"},{"titleHtml":"уязвимости и их эксплуатация"},{"titleHtml":"уязвимость нулевого дня"}]},"580008":{"id":"580008","timePublished":"2021-09-27T06:30:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Летний Магнитогорск","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2614609","alias":"city_scraper","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F8f8\u002Fd6c\u002F328\u002F8f8d6c328ec3a513103b6757c2c21610.png","speciality":"Пользователь"},"statistics":{"commentsCount":6,"favoritesCount":3,"readingCount":3782,"score":14,"votesCount":20},"hubs":[{"relatedData":null,"id":"22012","alias":"Ecology","type":"collective","title":"Экология","titleHtml":"Экология","isProfiled":false},{"relatedData":null,"id":"22024","alias":"urban","type":"collective","title":"Урбанизм","titleHtml":"Урбанизм","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EМагнитогорск Челябинской области – один из крупнейших мировых центров чёрной металлургии. В России это шестой из крупнейших городов, которые не являются центрами субъектов страны. \u003C\u002Fp\u003E\u003Cp\u003EСовсем недавно город был одним из наиболее неблагополучных с точки зрения загрязнения атмосферного воздуха, но в 2021 году был зафиксирован «повышенный» уровень – то есть не «высокий» или «очень высокий», как раньше. \u003C\u002Fp\u003E\u003Cp\u003EКак этот город выглядит летом? Где и как его жители могут проводить время?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Магнитогорск"},{"titleHtml":"промышленность"},{"titleHtml":"промышленные города"},{"titleHtml":"урбанизм\u002Fурбания"},{"titleHtml":"урбанистика"},{"titleHtml":"города России"},{"titleHtml":"города"}]},"580050":{"id":"580050","timePublished":"2021-09-27T10:23:25+00:00","isCorporative":false,"lang":"ru","titleHtml":"Один человек ответил на 85+ тысяч вопросов на Stack Overflow (24,1 ответа в день)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1585037","alias":"sahsAGU","fullname":"Александр Гуреев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F43c\u002F6c7\u002F0ab\u002F43c6c70ab024d45474e6abe8db797573.jpg","speciality":"Автор"},"statistics":{"commentsCount":36,"favoritesCount":10,"readingCount":11048,"score":12,"votesCount":20},"hubs":[{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"306","alias":"mysql","type":"collective","title":"MySQL","titleHtml":"MySQL","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"594","alias":"sql","type":"collective","title":"SQL","titleHtml":"SQL","isProfiled":true},{"relatedData":null,"id":"7152","alias":"data_mining","type":"collective","title":"Data Mining","titleHtml":"Data Mining","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cstrong\u003EВ среднем 24,1 ответа в день (если все 365 дней в году считать рабочими) на протяжении почти 10 лет.\u003C\u002Fstrong\u003E \u003C\u002Fp\u003E\u003Cp\u003EНесколько дней назад на некоторых англоязычных ресурсах началось обсуждение одного очень необычного пользователя Stack Overflow. Его зовут Гордон Линофф (Gordon Linoff), он из Нью-Йорка, и за 9 лет и 8 месяцев своего присутствия на платформе он дал 85,201 ответов на различные вопросы, в основном связанные с SQL и дата-майнингом (цифра актуальна на 27.09.2021). \u003C\u002Fp\u003E\u003Cp\u003EЧто это за маг?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"sql"},{"titleHtml":"mysql"},{"titleHtml":"stackoverflow"},{"titleHtml":"базы данных"},{"titleHtml":"дата майнинг"},{"titleHtml":"data mining"}]},"580060":{"id":"580060","timePublished":"2021-09-27T09:00:04+00:00","isCorporative":true,"lang":"ru","titleHtml":"Арракис, который мы заслужили","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"238277","alias":"Zelenyikot","fullname":"Виталий Егоров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F22b\u002F2d7\u002F7a5\u002F22b2d77a57b687aae24784a3e53089c9.jpg","speciality":"Популяризатор космонавтики"},"statistics":{"commentsCount":112,"favoritesCount":39,"readingCount":21876,"score":133,"votesCount":145},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false},{"relatedData":null,"id":"21984","alias":"sci-fi","type":"collective","title":"Научная фантастика","titleHtml":"Научная фантастика","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F580060\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk0\u002Fds\u002Fy5\u002Fk0dsy5npxclyjdytiroqga7-leu.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nВо вселенной писателя-фантаста Фрэнка Герберта, Дюна, она же Арракис &mdash; это пустынная и маловодная планета с двумя лунами. По сюжету, она находится за пределами Солнечной системы, но если мы захотим поискать ближайшую схожую параллель,&nbsp;то больше всего подходит планета Марс. Предлагаю воспользоваться возможностями, которые даёт современная космонавтика, и совершить воображаемую прогулку на нашу Дюну.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Марс"},{"titleHtml":"Дюна"},{"titleHtml":"MRO"},{"titleHtml":"Curiosity"},{"titleHtml":"марсоход"},{"titleHtml":"ruvds_статьи"}]},"580124":{"id":"580124","timePublished":"2021-09-27T13:03:14+00:00","isCorporative":true,"lang":"ru","titleHtml":"Электролюминесцентные индикаторы из прошлого","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"146371","alias":"radiolok","fullname":"Артем Кашканов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa46\u002Fc6a\u002F151\u002Fa46c6a15193f7c0cac79d2736b107358.jpg","speciality":"Релейно-декатронный маньяк"},"statistics":{"commentsCount":13,"favoritesCount":37,"readingCount":5024,"score":74,"votesCount":74},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false},{"relatedData":null,"id":"21930","alias":"antikvariat","type":"collective","title":"Старое железо","titleHtml":"Старое железо","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Сегодня речь пойдёт об электролюминесцентных индикаторах. Но, не о тех, которые окружают вас повсюду и к которым вы привыкли, а о других — получивших огромную популярность в 60-е годы прошлого века, и так же стремительно канувших в небытие. Заодно запущу свою коллекцию индикаторов, как серийно выпускавшихся, так и уникальных опытных и даже — лабораторных образцов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F523004\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F94e\u002F51f\u002F459\u002F94e51f459ae59c9d2fe6c448cb07bcca.gif\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Индикатор"},{"titleHtml":"электролюминесцентность"},{"titleHtml":"ruvds_статьи"}]},"580150":{"id":"580150","timePublished":"2021-09-27T10:50:03+00:00","isCorporative":true,"lang":"ru","titleHtml":"Топ-5 когнитивных искажений при планировании в IT","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2794469","alias":"KM_QA","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":7,"favoritesCount":54,"readingCount":5813,"score":37,"votesCount":39},"hubs":[{"relatedData":null,"id":"14332","alias":"oleg-bunin","type":"corporative","title":"Блог компании Конференции Олега Бунина (Онтико)","titleHtml":"Блог компании Конференции Олега Бунина (Онтико)","isProfiled":false},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true},{"relatedData":null,"id":"20754","alias":"tech_events","type":"collective","title":"Конференции","titleHtml":"Конференции","isProfiled":false},{"relatedData":null,"id":"21990","alias":"brain","type":"collective","title":"Мозг","titleHtml":"Мозг","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"4","alias":"marketing","title":"Маркетинг"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта статья подходит для тимлидов и их подопечных, а также для всех, кто оценивает проекты и задачи. Я расскажу, как и почему мы делаем ошибки из-за когнитивных искажений. Попадаем в них мы почти все, просто потому что мы живые люди. И на примере одного дня из жизни тимлида я хочу показать, в какие искажения чаще всего влетают в IT, и&nbsp; — самое полезное&nbsp; —&nbsp; как из них можно выходить.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EЗамечу, что искать когнитивные искажения стоит, в первую очередь, у себя, а не у коллег. \u003C\u002Fstrong\u003EИ что рассказывать про искажения намного проще, чем не влетать в их на практике, однако, если этому научиться, то в перспективе это изрядно окупается, потому что экономит и время, и деньги, помогая и нам, и команде.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"когнитивные искажения"},{"titleHtml":"нейрофизиология"},{"titleHtml":"мозг"},{"titleHtml":"психология"},{"titleHtml":"тимлидство"},{"titleHtml":"тимлид"},{"titleHtml":"управление людьми"},{"titleHtml":"управление проектами и командой"},{"titleHtml":"управление командой"},{"titleHtml":"управление персоналом"}]},"580164":{"id":"580164","timePublished":"2021-09-27T11:17:58+00:00","isCorporative":true,"lang":"ru","titleHtml":"Измеряем производительность String.format() в Java","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"@cowtowncoder","originalUrl":"https:\u002F\u002Fcowtowncoder.medium.com\u002Fmeasuring-performance-of-java-string-format-or-lack-thereof-2e1c6a13362c"}}],"author":{"id":"2571061","alias":"GolovinDS","fullname":"Дмитрий Головин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd27\u002Fccd\u002F743\u002Fd27ccd743d8bccbf1a885e5dadaa7ffe.jpg","speciality":"Контент-маркетолог"},"statistics":{"commentsCount":0,"favoritesCount":16,"readingCount":1710,"score":9,"votesCount":11},"hubs":[{"relatedData":null,"id":"21052","alias":"otus","type":"corporative","title":"Блог компании OTUS","titleHtml":"Блог компании OTUS","isProfiled":false},{"relatedData":null,"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true},{"relatedData":null,"id":"375","alias":"java","type":"collective","title":"Java","titleHtml":"Java","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЯ раньше считал, что JDK в целом хорошо оптимизирована, и если в JDK есть простой способ решения какой-то задачи, то он вполне подойдет для большинства ситуаций и будет работать хорошо.\u003C\u002Fp\u003E\u003Cp\u003EНо я обнаружил, что иногда некоторые классы или методы работают на удивление плохо. Знание таких аномалий полезно при работе с требовательным к производительности кодом.\u003C\u002Fp\u003E\u003Cp\u003EВ этом посте рассмотрим один из подобных кейсов: поразительно низкая производительность \u003Ccode\u003EString.format()\u003C\u002Fcode\u003E при простой конкатенации строк.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fed4\u002F612\u002F7ef\u002Fed46127ef6d1b8f8d650482dfd335220.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fed4\u002F612\u002F7ef\u002Fed46127ef6d1b8f8d650482dfd335220.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"java"},{"titleHtml":"performance"},{"titleHtml":"jdk"}]},"580166":{"id":"580166","timePublished":"2021-09-27T11:22:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"Новости из жизни Haiku за август-сентябрь 2021","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"375413","alias":"petr97","fullname":"Ахламов Петр","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fadf\u002F830\u002F79c\u002Fadf83079c33fd56935b929935559572a.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":3,"readingCount":1713,"score":8,"votesCount":8},"hubs":[{"relatedData":null,"id":"144","alias":"open_source","type":"collective","title":"Open source","titleHtml":"Open source","isProfiled":true},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"7330","alias":"qt_software","type":"collective","title":"Qt","titleHtml":"Qt","isProfiled":true},{"relatedData":null,"id":"21918","alias":"soft","type":"collective","title":"Софт","titleHtml":"Софт","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЗдравствуйте, дорогие друзья. Продолжаю Вас знакомить на Хабре с новостями проекта Haiku.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F877\u002Fa0f\u002Fc9c\u002F877a0fc9c92663d8cd2acc965493dacc.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F877\u002Fa0f\u002Fc9c\u002F877a0fc9c92663d8cd2acc965493dacc.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Haiku"},{"titleHtml":"Intel"},{"titleHtml":"VESA"},{"titleHtml":"RISC-V"},{"titleHtml":"Веб-камера"},{"titleHtml":"Превью"},{"titleHtml":"Куба"},{"titleHtml":"Wine"},{"titleHtml":"Менеджер окон"}]},"580172":{"id":"580172","timePublished":"2021-09-27T11:45:49+00:00","isCorporative":true,"lang":"ru","titleHtml":"Небинарный ngIf*","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1050218","alias":"Waterplea","fullname":"Александр Инкин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa70\u002F569\u002Ff31\u002Fa70569f31346559ce2b8b875e7f97480.jpg","speciality":"Google Developer Expert | Angular"},"statistics":{"commentsCount":1,"favoritesCount":12,"readingCount":930,"score":15,"votesCount":15},"hubs":[{"relatedData":null,"id":"17420","alias":"tinkoff","type":"corporative","title":"Блог компании TINKOFF","titleHtml":"Блог компании TINKOFF","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"18109","alias":"angular","type":"collective","title":"Angular","titleHtml":"Angular","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВам когда-нибудь хотелось отобразить состояние загрузки, пока \u003Ccode\u003EngIf\u003C\u002Fcode\u003E ждет ответа от \u003Ccode\u003Easync\u003C\u002Fcode\u003E-пайпа? Или, может, вы мечтали передать в \u003Ccode\u003EngFor\u003C\u002Fcode\u003E шаблон для пустого массива? Возможно, вы бросили это, потому что вам не хотелось реализовывать базовую логику этих директив самому. На самом деле в этом нет нужды! Один и тот же селектор может подцепить несколько директив, что позволяет расширить функциональность встроенных директив дополнительной логикой.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"template"},{"titleHtml":"directive"},{"titleHtml":"angular"},{"titleHtml":"structural"}]},"580194":{"id":"580194","timePublished":"2021-09-27T12:36:12+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сотрудники на карте: отвечаем на 10 важных вопросов о трекинге","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1254716","alias":"Axelus","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F118\u002Fc4f\u002F08f\u002F118c4f08ffa66438ad6be22e205d563d.png","speciality":"Разработчик"},"statistics":{"commentsCount":0,"favoritesCount":7,"readingCount":1072,"score":13,"votesCount":15},"hubs":[{"relatedData":null,"id":"20758","alias":"regionsoft","type":"corporative","title":"Блог компании RegionSoft","titleHtml":"Блог компании RegionSoft","isProfiled":false},{"relatedData":null,"id":"6398","alias":"it-infrastructure","type":"collective","title":"IT-инфраструктура","titleHtml":"IT-инфраструктура","isProfiled":true},{"relatedData":null,"id":"12365","alias":"saas","type":"collective","title":"SaaS \u002F S+S","titleHtml":"SaaS \u002F S+S","isProfiled":true},{"relatedData":null,"id":"17783","alias":"geo","type":"collective","title":"Геоинформационные сервисы","titleHtml":"Геоинформационные сервисы","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛюбой контроль сотрудников — опасный и болезненный вопрос, особенно в небольших компаниях. Часто в дружеские и открытые отношения компании не вписывается ни одна из форм контроля, рассчитывать можно только на доверие. Но пресловутый ковид и здесь внёс свои коррективы: расширение удалённой работы, увеличение штата мобильных сотрудников, частичная занятость пополнили ряды полевых сисадминов, аутсорсеров поддержки и остальных «разъездных» работников. Увы, люди разные и вслед за приятными плодами и бонусами удалёнки пришли негативные истории про поведение курьеров, опоздания и откровенные нарушения сотрудников на территории клиентов, неявки на работу или к заказчику и т.д. С этим столкнулись и ритейл, и ИТ, и любая сфера с мобильными сотрудниками. Очень хочется верить в лучшее, но без минимального контроля можно просто потерять бизнес — и тогда пострадают коллеги нерадивых сотрудников.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"geomonitor"},{"titleHtml":"геолокация"},{"titleHtml":"геозона"},{"titleHtml":"трекинг"}]},"580196":{"id":"580196","timePublished":"2021-09-27T12:28:15+00:00","isCorporative":true,"lang":"ru","titleHtml":"Зачем нужен динамический анализ кода, на примере проекта PVS-Studio","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2302295","alias":"MrROBUST","fullname":"Алексей Говоров","avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":3,"readingCount":685,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"18095","alias":"pvs-studio","type":"corporative","title":"Блог компании PVS-Studio","titleHtml":"Блог компании PVS-Studio","isProfiled":false},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"11606","alias":"vs","type":"collective","title":"Visual Studio","titleHtml":"Visual Studio","isProfiled":true},{"relatedData":null,"id":"21456","alias":"win_dev","type":"collective","title":"Разработка под Windows","titleHtml":"Разработка под Windows","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ разговоре с Маршаллом Клоу на подкасте CppCast #300 ABI Stability была затронута достаточно давняя новость о поддержке компиляторами Visual Studio инструмента AddressSanitizer (ASan). Мы уже достаточно давно внедрили ASan в свою систему тестирования и хотим рассказать о паре интересных ошибок, которые он помог найти.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F7ef\u002F2db\u002F210\u002F7ef2db210d677f9a8c07026d4361d3ba.png\" alt=\"0868_PVS-Studio_ASan_ru\u002Fimage2.png\"\u003E\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"pvs-studio"},{"titleHtml":"clang"},{"titleHtml":"asan"},{"titleHtml":"sanitizer"},{"titleHtml":"динамический анализ кода"}]},"580204":{"id":"580204","timePublished":"2021-09-27T12:31:54+00:00","isCorporative":false,"lang":"ru","titleHtml":"Почему using namespace std; это плохо","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"sbi, Greg Hewgill","originalUrl":"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F1452721\u002Fwhy-is-using-namespace-std-considered-bad-practice"}}],"author":{"id":"936030","alias":"F0iL","fullname":"K. just K.","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fbcd\u002F9c7\u002F270\u002Fbcd9c7270c0727e164ac404a7f929971.jpg","speciality":"Разработчик"},"statistics":{"commentsCount":12,"favoritesCount":10,"readingCount":4636,"score":16,"votesCount":24},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"524","alias":"complete_code","type":"collective","title":"Совершенный код","titleHtml":"Совершенный код","isProfiled":true},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"17188","alias":"compilers","type":"collective","title":"Компиляторы","titleHtml":"Компиляторы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EТо, что написано ниже, для многих квалифицированных C++ разработчиков будет прекрасно известной и очевидной вещью, но тем не менее, я периодически встречаю using namespace std; в коде различных проектов, а недавно в \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\" rel=\"noopener noreferrer nofollow\"\u003Eнашумевшей статье про впечатления от высшего образования\u003C\u002Fa\u003E было упомянуто, что студентов так учат писать код в вузах, поэтому давайте повторим очевидное еще раз.\u003C\u002Fp\u003E\u003Cp\u003EИтак... многие слышали, что \u003Cstrong\u003Eusing namespace std;\u003C\u002Fstrong\u003E в C++ считается плохой практикой. Касательно недопустимости использования using namespace в header-файлах вопросов обычно не возникает, если мы хоть немного понимаем, как работает препроцессор компилятора: .hpp-файлы при использовании директивы #include вставляются в код \"как есть\", и соответственно using автоматически распространится на все затронутые  .hpp- и .cpp-файлы, если файл с ним был заинклюден хоть в одном звене цепочки (на одном из сайтов это метко обозвали как \"заболевание, передающеемя половым путем\"). Но вот про .cpp-файлы все не так очевидно, так что давайте еще раз разберем, что же именно здесь не так.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F662\u002F8a9\u002Fe33\u002F6628a9e3322ab1dbca4e4976098da83d.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F662\u002F8a9\u002Fe33\u002F6628a9e3322ab1dbca4e4976098da83d.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"с++"},{"titleHtml":"namespace"},{"titleHtml":"namespaces"},{"titleHtml":"best practices"},{"titleHtml":"антипаттерны"}]},"580206":{"id":"580206","timePublished":"2021-09-27T12:51:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"МТС отказался от скрытых мобильных подписок?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2467147","alias":"Plusodin","fullname":"Владимир","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F343\u002Fb77\u002Fd12\u002F343b77d12f047368849a9880276f936e.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":11,"favoritesCount":4,"readingCount":4962,"score":14,"votesCount":14},"hubs":[{"relatedData":null,"id":"22008","alias":"cellular","type":"collective","title":"Сотовая связь","titleHtml":"Сотовая связь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр!\u003C\u002Fp\u003E\u003Cp\u003EНу что, подходит к концу первый сезон сериала «О скрытых мобильных подписках и операторах связи». Предыдущие три серии: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F550448\u002F\" rel=\"noopener noreferrer nofollow\"\u003EМегафон\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F563260\u002F\" rel=\"noopener noreferrer nofollow\"\u003EБилайн\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F571256\u002F\" rel=\"noopener noreferrer nofollow\"\u003ETele2\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНу и вишенка на этом торте – МТС.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"мтс"},{"titleHtml":"мобильные подписки"},{"titleHtml":"подписки"},{"titleHtml":"оператор связи"},{"titleHtml":"теле2"},{"titleHtml":"мегафон"},{"titleHtml":"билайн"}]},"580208":{"id":"580208","timePublished":"2021-09-27T12:52:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Основная проблема образования","editorVersion":"2.0","postType":"article","postLabels":[{"type":"recovery","data":null}],"author":{"id":"2270142","alias":"Chronicler","fullname":"Пушиз де Хрониклер","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Faa3\u002F149\u002Fdb0\u002Faa3149db0de5f6c071dfade7285fcb99.jpg","speciality":"Исследователь ближнего заполярья, почетный манул"},"statistics":{"commentsCount":14,"favoritesCount":14,"readingCount":2450,"score":8,"votesCount":20},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"17189","alias":"itstandarts","type":"collective","title":"IT-стандарты","titleHtml":"IT-стандарты","isProfiled":true},{"relatedData":null,"id":"20682","alias":"pm","type":"collective","title":"Управление проектами","titleHtml":"Управление проектами","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНа днях на Хабре появилась \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eкритическая статья\u003C\u002Fa\u003E о бакалавриате, что называется \"из первых уст\", от очередного первохода. Статья далеко не лишена смысла, однако главная проблема не была в ней затронута. А заключается она вовсе не в обилии посторонних дисциплин и даже не в том, что в учебных заведениях так мало разъясняют суровую конкретику жизни \"научиться штамповать JavaScript сайты за месяц\".  Да, эти проблемы присутствуют, наряду с плохой подготовкой педагогов и отношением к студентам, но не они на корню обесценивают нынешнее образование.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Что же на самом деле не так?","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"программирование"},{"titleHtml":"образование"},{"titleHtml":"курсы не нужны"},{"titleHtml":"вуз"}]},"580210":{"id":"580210","timePublished":"2021-09-27T12:53:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"PHP Дайджест № 212 (13 – 27 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"100489","alias":"pronskiy","fullname":"Роман Пронский","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F27f\u002Fb99\u002Feb3\u002F27fb99eb3e30e3221c5839e88be02395.jpg","speciality":"PHP"},"statistics":{"commentsCount":1,"favoritesCount":14,"readingCount":3574,"score":41,"votesCount":41},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"477","alias":"symfony","type":"collective","title":"Symfony","titleHtml":"Symfony","isProfiled":true},{"relatedData":null,"id":"9554","alias":"yii","type":"collective","title":"Yii","titleHtml":"Yii","isProfiled":true},{"relatedData":null,"id":"18812","alias":"laravel","type":"collective","title":"Laravel","titleHtml":"Laravel","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fek\u002F6r\u002Fr1\u002Fek6rr1odvyzb89tfv0lq4cmfxi4.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПодборка свежих новостей и материалов из мира PHP.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВышел PHP 8.1 RC2 и уже доступен первый пакет с использованием перечислений, будет сделан форк Magento, новый тип стандартов PER в дополнение к PSR, стартовала PhpStorm 2021.3 EAP, Symfony 6 будет полностью типизирован — как обновляться?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля PHP 8.2 предложены новые оптимизированные структуры данных.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже в выпуске порция инструментов, полезные статьи, видео и анонсы двух митапов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПриятного чтения!\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"php-дайджест"},{"titleHtml":"PHP"},{"titleHtml":"Symfony"},{"titleHtml":"Laravel"},{"titleHtml":"Magento"},{"titleHtml":"PHPUnit"},{"titleHtml":"PHP 8.1"},{"titleHtml":"PHP 8.2"}]},"580228":{"id":"580228","timePublished":"2021-09-27T16:41:21+00:00","isCorporative":true,"lang":"ru","titleHtml":"Идеальная светодиодная лампа за 21 рубль","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"108988","alias":"AlexeyNadezhin","fullname":"Алексей Надежин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffdc\u002F3ac\u002F9a2\u002Ffdc3ac9a2dc0107cc956f1bd0cf5fc2b.jpg","speciality":"Блогер"},"statistics":{"commentsCount":26,"favoritesCount":43,"readingCount":10049,"score":74,"votesCount":78},"hubs":[{"relatedData":null,"id":"21646","alias":"lamptest","type":"corporative","title":"Блог компании LampTest","titleHtml":"Блог компании LampTest","isProfiled":false},{"relatedData":null,"id":"21894","alias":"gadgets","type":"collective","title":"Гаджеты","titleHtml":"Гаджеты","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Удивительно осознавать, что достаточно сложное электронное устройство, которым является светодиодная лампочка, может стоить 21 рубль. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕщё сложнее поверить, что эта лампочка безукоризненна по всем параметрам.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F20f\u002F849\u002Ffcd\u002F20f849fcd6a3891f506676fc87223bdf.jpg\"\u003E\u003C\u002Fdiv\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"led"},{"titleHtml":"светодиодные лампы"},{"titleHtml":"тест"}]},"580304":{"id":"580304","timePublished":"2021-09-27T18:31:25+00:00","isCorporative":true,"lang":"ru","titleHtml":"Как сделать 248MP фотографию Солнца","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Simon Tang","originalUrl":"https:\u002F\u002Fpetapixel.com\u002F2021\u002F09\u002F15\u002Fa-closer-look-how-i-created-a-248mp-photo-of-the-sun\u002F"}}],"author":{"id":"2192534","alias":"Itelma","fullname":"T-800","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fc3a\u002Fd1e\u002F43d\u002Fc3ad1e43d500046c3228c9494b510912.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":4,"favoritesCount":4,"readingCount":1333,"score":13,"votesCount":13},"hubs":[{"relatedData":null,"id":"22356","alias":"itelma","type":"corporative","title":"Блог компании НПП ИТЭЛМА","titleHtml":"Блог компании НПП ИТЭЛМА","isProfiled":false},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21932","alias":"photo","type":"collective","title":"Фототехника","titleHtml":"Фототехника","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe02\u002F643\u002Fa55\u002Fe02643a550e20aa10c366e20956e4b40.jpg\" alt=\"image\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EЭто изображение диска нашего Солнца создано с помощью большого рефракторного (линзового) телескопа и высокоскоростной монохромной CMOS-камеры.\u003C\u002Fi\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКаждый день над нашими головами висит большой шар света. Он там всегда, и никто не обращает на него внимания. Разумеется, мы не советуем вам долго смотреть на него и при этом ослепнуть, тем не менее, наука дала нам возможность смотреть прямо на солнце совершенно безопасно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоскольку техника стала более доступной, обычный человек может заглянуть в многочисленные слои Солнца с помощью специального оборудования, которое может купить в любом хорошем магазине телескопов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этой статье мы подробно рассмотрим слой, известный как хромосфера: область Солнца, видимая в оранжево-красном спектре. При помощи специального фильтра это устройство блокирует весь нежелательный свет, пропуская при этом определенный диапазон частот, который нас интересует.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"обработка изображений"},{"titleHtml":"фототехника"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["580060","580228","580124","580210","580150","579854","572164","580204","580172","580008","580206","580304","580194","580050","580196","580164","579772","580208","580166","579370"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":3},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["250007","190052","148768"],"similarListRefs":{"148768":{"id":"148768","timePublished":"2012-07-30T19:58:34+00:00","isCorporative":true,"lang":"ru","titleHtml":"RailsClub'Moscow 2012 – 15 сентября в Москве. Конференция ruby \u002F ruby on rails разработчиков","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"23518","alias":"Lxx","fullname":"Олег Балбеков","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F64b\u002Fb43\u002F3b8\u002F64bb433b8213fb0592959102cf7febd7.jpg","speciality":null},"statistics":{"commentsCount":7,"favoritesCount":10,"readingCount":2499,"score":13,"votesCount":13},"hubs":[{"id":"17794","alias":"railsclub","type":"corporative","title":"Блог компании RubyRussia","titleHtml":"Блог компании RubyRussia","isProfiled":false},{"id":"224","alias":"ruby","type":"collective","title":"Ruby","titleHtml":"Ruby","isProfiled":true},{"id":"8279","alias":"ror","type":"collective","title":"Ruby on Rails","titleHtml":"Ruby on Rails","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fstorage2\u002F191\u002F4cd\u002F111\u002F1914cd11166e4403c86a18b923443342.jpg\"\u002F\u003E\u003Cbr\u002F\u003E\r\n15 сентября 2012 в Москве на территории центра \u003Ca href=\"http:\u002F\u002Fdigitaloctober.ru\"\u003EDigital October\u003C\u002Fa\u003E состоится 11-ая конференция веб разработчиков на Ruby и Ruby On Rails – \u003Ca href=\"http:\u002F\u002Frailsclub.ru\"\u003ERailsClub’Moscow 2012\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nRailsClub’Moscow 2012 соберет вместе ведущих российских и известных иностранных Ruby разработчиков, которые поделятся с участниками конференции своими знаниями и опытом, обсудят новинки разработки, расскажут о возникших проблемах в работе и методах их решений.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа RailsClub 2012 будем обсуждать проектирование, разработку, тестирование, отладку, оптимизацию под большие нагрузки, масштабирование ruby on rails проектов. Также затронем темы: управления конфигурацией, деплоя, администрирования больших веб проектов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ этом году в качестве докладчиков к нам приедут знаменитые ruby звезды.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСвое участие на данный момент подтвердили:\u003Cbr\u002F\u003E\r\n — \u003Ca href=\"http:\u002F\u002Fwww.steveklabnik.com\"\u003ESteve Klabnik\u003C\u002Fa\u003E (США), автор «Designing Hypermedia Apis» и обладатель Ruby Hero Award 2011;\u003Cbr\u002F\u003E\r\n — \u003Ca href=\"http:\u002F\u002Fhashref.com\"\u003EXavier Noria\u003C\u002Fa\u003E (Испания), участник Rails core team и обладатель Ruby Hero Award 2010;\u003Cbr\u002F\u003E\r\n — \u003Ca href=\"http:\u002F\u002Fwynnnetherland.com\"\u003EWynn Netherland\u003C\u002Fa\u003E (США), разработчик GitHub, соавтор  @thechangelog и книги «Sass, Compass»;\u003Cbr\u002F\u003E\r\n — \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fdbussink\"\u003EDirkjan Bussink\u003C\u002Fa\u003E (Голландия), разработчик rubinius и datamapper;\u003Cbr\u002F\u003E\r\n — \u003Ca href=\"http:\u002F\u002Fwww.saush.com\"\u003ESau Sheong Chang\u003C\u002Fa\u003E (Сингапур), автор книг “Ruby on Rails Web Mashup Projects” и “Cloning Internet Applications with Ruby”, директор прикладных исследований в HP Labs.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВыступления иностранных спикеров будут синхронно переводиться на русский язык.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРегистрация и оплата участия в конференции — \u003Ca href=\"http:\u002F\u002Frailsclub.timepad.ru\u002Fevent\u002F29192\"\u003Erailsclub.timepad.ru\u002Fevent\u002F29192\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"190052":{"id":"190052","timePublished":"2013-08-14T12:48:49+00:00","isCorporative":true,"lang":"ru","titleHtml":"RailsClub'Moscow 2013 – 28 сентября в Москве. Конференция ruby \u002F ruby on rails разработчиков","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"23518","alias":"Lxx","fullname":"Олег Балбеков","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F64b\u002Fb43\u002F3b8\u002F64bb433b8213fb0592959102cf7febd7.jpg","speciality":null},"statistics":{"commentsCount":4,"favoritesCount":7,"readingCount":3158,"score":15,"votesCount":15},"hubs":[{"id":"17794","alias":"railsclub","type":"corporative","title":"Блог компании RubyRussia","titleHtml":"Блог компании RubyRussia","isProfiled":false},{"id":"224","alias":"ruby","type":"collective","title":"Ruby","titleHtml":"Ruby","isProfiled":true},{"id":"8279","alias":"ror","type":"collective","title":"Ruby on Rails","titleHtml":"Ruby on Rails","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fstorage2\u002F191\u002F4cd\u002F111\u002F1914cd11166e4403c86a18b923443342.jpg\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003ERailsClub’Moscow 2013\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\n28 сентября 2013 в Москве на территории центра \u003Ca href=\"http:\u002F\u002Fdigitaloctober.ru\"\u003EDigital October\u003C\u002Fa\u003E состоится 12-ая конференция веб-разработчиков на языке Ruby и фреймворке Ruby On Rails – RailsClub’Moscow 2013.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nRailsClub’Moscow 2013 соберет вместе ведущих российских и известных иностранных Ruby разработчиков, которые поделятся с участниками конференции своими знаниями и опытом.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа RailsClub 2013 будем обсуждать проектирование, разработку, тестирование, отладку, оптимизацию под большие нагрузки, масштабирование и эксплуатацию ruby on rails проектов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch5\u003EДокладчики\u003C\u002Fh5\u003E\u003Cbr\u002F\u003E\r\nВ этом году в качестве докладчиков к нам приедут знаменитые ruby звезды:\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"250007":{"id":"250007","timePublished":"2015-02-07T15:58:52+00:00","isCorporative":false,"lang":"ru","titleHtml":"10 ошибок в Ruby \u002F Ruby on Rails, которые легко исправить","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Adam Niedzielski","originalUrl":"http:\u002F\u002Fadamniedzielski.github.io\u002Fblog\u002F2015\u002F01\u002F31\u002F11-easy-to-fix-ruby-slash-ruby-on-rails-mistakes\u002F"}}],"author":{"id":"60116","alias":"palkan","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fe03\u002F0b3\u002Fab1\u002Fe030b3ab199b3bd70cd49d1a10c17bc7.jpg","speciality":null},"statistics":{"commentsCount":38,"favoritesCount":146,"readingCount":29388,"score":19,"votesCount":27},"hubs":[{"id":"224","alias":"ruby","type":"collective","title":"Ruby","titleHtml":"Ruby","isProfiled":true},{"id":"8279","alias":"ror","type":"collective","title":"Ruby on Rails","titleHtml":"Ruby on Rails","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"Программисты делают ошибки в коде. Некоторые просто раздражают (ошибки, не программисты – прим. переводчика), другие могут быть действительно опасными для приложения.\u003Cbr\u002F\u003E\r\nПредставляю вам свою подборку из 10 распространенных ошибок разработчиков Ruby\u002FRoR и советов о том, как их избегать. Надеюсь, они помогут сократить вам время отладки кода.","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"ognevsky":{"scoreStats":{"score":9,"votesCount":17},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"20819","alias":"ognevsky","fullname":"Огневский Андрей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F64f\u002Fd60\u002F746\u002F64fd6074631db50b87fd2e9d02976ab3.jpg","speciality":null}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
