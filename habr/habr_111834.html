<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Утечки памяти в программах на С/С++ — история нескольких багов / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/111834\/"},"headline":"Утечки памяти в программах на С\/С++ — история нескольких багов","datePublished":"2011-01-14T09:49:14+03:00","dateModified":"2011-01-14T09:49:14+03:00","author":{"@type":"Person","name":"Андрей Щетинин"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются...","url":"https:\/\/habr.com\/ru\/post\/111834\/#post-content-body","about":["h_cpp","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/111834\/9b497525e49a4858d8265606aacd81e9\/"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Утечки памяти в программах на С/С++ — история нескольких багов" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Утечки памяти в программах на С/С++ — история нескольких багов" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Утечки памяти в программах на С/С++ — история нескольких багов" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/111834/9b497525e49a4858d8265606aacd81e9/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/111834/9b497525e49a4858d8265606aacd81e9/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/111834/9b497525e49a4858d8265606aacd81e9/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/111834/9b497525e49a4858d8265606aacd81e9/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/111834/9b497525e49a4858d8265606aacd81e9/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="111834" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2011-01-14T06:49:14.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/111834/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/111834/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/111834/9b497525e49a4858d8265606aacd81e9/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/andrewsch/" title="andrewsch" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/3f1/1f2/f5e/3f11f2f5e52d98f941ff015d09be8722.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/andrewsch/" class="tm-user-info__username">
      andrewsch
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2011-01-14T06:49:14.000Z" title="2011-01-14, 09:49">14  января  2011 в 09:49</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Утечки памяти в программах на С/С++ — история нескольких багов</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/cpp/" class="tm-article-snippet__hubs-item-link"><span>C++</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Из песочницы
      </span></div></div> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и исправляются. Но, временами, проблемы оказываются необычными, и требуют необычного подхода или решения… <a name="habracut"></a> <br/>
<br/>
<h5>Кодопотерятор памяти</h5><br/>
Очередное тестирование в QA выявило небольшую постоянную утечку памяти под нагрузкой в новой версии продукта. Воспроизведение не представляло проблемы, но первоначальный прогон программы под Valgrind не выявил утечек. <br/>
<br/>
После некоторых раздумий была включена опция --leak-check=full и Valgrind начал отчитываться об утечках. Но среди ожидаемых утечек разного рода статических переменных, зачастую осознанно не освобождаемых, не находилось ничего, напоминающего утечку. Обычно при прогоне нескольких тысяч итераций несложно выделить аналогичное количество потерянных блоков памяти выделенных malloc-ом. В данном-же случае утечка на 10,000 запросов к серверу была минимальна.<br/>
<br/>
После анализа стеков выделений памяти и отсева ожидаемых случаев, остался только один кандидат, который отвечал за несколько десятков потерянных блоков — количество, абсолютно не ассоциирующееся с 10,000 запросами. Но этому нашлось объяснение — выделения памяти происходили в классе строки STL, который активно использует memory pool для уменьшения количества выделений памяти. Поэтому вместо 10,000 потерянных блоков памяти Valgrind отчитывался о 40+. Стек вызовов выглядел примерно так:<br/>
<br/>
<code>==15882== 76,400 bytes in 8 blocks are definitely lost in loss record 2 of 3<br/>
==15882==      at 0x401B007: operator new(unsigned int) (vg_replace_malloc.c:214)<br/>
==15882==      by 0x40A40F0: std::__default_alloc_template&lt;true, 0>::_S_chunk_alloc(unsigned int, int&amp;) (in /usr/lib/libstdc++.so.5.0.3)<br/>
==15882==      by 0x40A3FFC: std::__default_alloc_template&lt;true, 0>::_S_refill(unsigned int) (in /usr/lib/libstdc++.so.5.0.3)<br/>
==15882==      by 0x40A3B6B: std::__default_alloc_template&lt;true, 0>::allocate(unsigned int) (in /usr/lib/libstdc++.so.5.0.3)<br/>
==15882==      by 0x40A9B67: std::string::_Rep::_S_create(unsigned int, std::allocator&lt;char> const&amp;) (in /usr/lib/libstdc++.so.5.0.3)<br/>
==15882==      by 0x40A9C98: std::string::_Rep::_M_clone(std::allocator&lt;char> const&amp;, unsigned int) (in /usr/lib/libstdc++.so.5.0.3)<br/>
==15882==      by 0x40A7A05: std::string::reserve(unsigned int) (in /usr/lib/libstdc++.so.5.0.3)<br/>
==15882==      by 0x8049826: std::basic_string&lt;char, std::char_traits&lt;char>, std::allocator&lt;char> > std::operator+&lt;char,<br/>
std::char_traits&lt;char>, std::allocator&lt;char> >(char const*, std::basic_string&lt;char, std::char_traits&lt;char>,<br/>
std::allocator&lt;char> > const&amp;) (basic_string.tcc:619)<br/>
==15882==      by 0x804956A: A::A(A const&amp;) (class_a.cpp:20)<br/>
==15882==      by 0x80491BC: foo(int) (test.cpp:23)<br/>
==15882==      by 0x80492EA: main (test.cpp:32)</code><br/>
<br/>
Вроде-бы источник утечки памяти был найден, но код выглядел абсолютно невинно — вызов функции с передачей ей временной копии объекта:<br/>
<br/>
<code>doSomething( condition ? Object( params ) : getObject() );</code><br/>
<br/>
Мы были уже точно уверены, что память теряется в этой строке, и начали смотреть на код, генерируемый компилятором для данной строки. Вроде-бы все было на месте — вызов “basic_string::length()”, вызов конструктора класса параметра для одной ветви условия, вызов “Parent::getB()” и конструктора копирования для другой ветви, вызов собственно функции “A::create”, освобождения временных объектов — всё, кроме вызова деструктора временной копии класса — созданной на стеке, но содержащей внутри копию строки, которая и не освобождалась в результате!<br/>
<br/>
<code><pre>110:   return A::create(b1, b2, s.length() > 0 ? B(s) : getB());
  13d4:     83 ec 0c                   sub    $0xc,%esp
  13d7:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax
  13da:     50                         push   %eax
  13db:     e8 fc ff ff ff             call   std::basic_string&lt;wchar_t>::length() const &lt;&lt;=========
  13e0:     83 c4 10                   add    $0x10,%esp
  13e3:     85 c0                      test   %eax,%eax
  13e5:     74 18                      je     13ff &lt;A::create+0x341>
  13e7:     83 ec 08                   sub    $0x8,%esp
  13ea:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax
  13ed:     50                         push   %eax
  13ee:     8d 85 f8 fe ff ff          lea    0xfffffef8(%ebp),%eax
  13f4:     50                         push   %eax
  13f5:     e8 fc ff ff ff             call   B::B( std::basic_string&lt;wchar_t> const &amp; ) &lt;&lt;=========
  13fa:     83 c4 10                   add    $0x10,%esp
  13fd:     eb 21                      jmp    1420 &lt;A::create+0x362>
  13ff:     83 ec 08                   sub    $0x8,%esp
  1402:     83 ec 04                   sub    $0x4,%esp
  1405:     ff 75 0c                   pushl  0xc(%ebp)
  1408:     e8 fc ff ff ff             call   Parent::getB() &lt;&lt;=========
  140d:     83 c4 08                   add    $0x8,%esp
  1410:     50                         push   %eax
  1411:     8d 85 f8 fe ff ff          lea    0xfffffef8(%ebp),%eax
  1417:     50                         push   %eax
  1418:     e8 fc ff ff ff             call   B::B( B const &amp; ) &lt;&lt;=========
  141d:     83 c4 10                   add    $0x10,%esp
  1420:     83 ec 0c                   sub    $0xc,%esp
  1423:     8d 85 f8 fe ff ff          lea    0xfffffef8(%ebp),%eax
  1429:     50                         push   %eax
  142a:     0f b6 45 f6                movzbl 0xfffffff6(%ebp),%eax
  142e:     50                         push   %eax
  142f:     0f b6 45 f7                movzbl 0xfffffff7(%ebp),%eax
  1433:     50                         push   %eax
  1434:     ff 75 0c                   pushl  0xc(%ebp)
  1437:     ff 75 08                   pushl  0x8(%ebp)
  143a:     e8 fc ff ff ff             call   A::create(bool, bool, B) &lt;&lt;=========
  143f:     83 c4 1c                   add    $0x1c,%esp
  1442:     83 ec 0c                   sub    $0xc,%esp
  1445:     8d 85 68 ff ff ff          lea    0xffffff68(%ebp),%eax
  144b:     50                         push   %eax
  144c:     e8 fc ff ff ff             call   BS&lt;100, char>::~BS()
  1451:     83 c4 10                   add    $0x10,%esp
  1454:     83 ec 0c                   sub    $0xc,%esp
  1457:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax
  145a:     50                         push   %eax
  145b:     e8 fc ff ff ff             call   std::basic_string&lt;wchar_t>::~basic_string()
  1460:     83 c4 10                   add    $0x10,%esp
  1463:     eb 55                      jmp    14ba &lt;A::create+0x3fc>
  1465:     89 85 f0 fe ff ff          mov    %eax,0xfffffef0(%ebp)
  146b:     8b b5 f0 fe ff ff          mov    0xfffffef0(%ebp),%esi
  1471:     83 ec 0c                   sub    $0xc,%esp
  1474:     8d 85 68 ff ff ff          lea    0xffffff68(%ebp),%eax
  147a:     50                         push   %eax
  147b:     e8 fc ff ff ff             call   BS&lt;100, char>::~BS()
  1480:     83 c4 10                   add    $0x10,%esp
  1483:     89 b5 f0 fe ff ff          mov    %esi,0xfffffef0(%ebp)
  1489:     eb 06                      jmp    1491 &lt;A::create+0x3d3>
  148b:     89 85 f0 fe ff ff          mov    %eax,0xfffffef0(%ebp)
  1491:     8b b5 f0 fe ff ff          mov    0xfffffef0(%ebp),%esi
  1497:     83 ec 0c                   sub    $0xc,%esp
  149a:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax
  149d:     50                         push   %eax
  149e:     e8 fc ff ff ff             call   std::basic_string&lt;wchar_t>::~basic_string()
  14a3:     83 c4 10                   add    $0x10,%esp
  14a6:     89 b5 f0 fe ff ff          mov    %esi,0xfffffef0(%ebp)
  14ac:     83 ec 0c                   sub    $0xc,%esp
  14af:     ff b5 f0 fe ff ff          pushl  0xfffffef0(%ebp)
  14b5:     e8 fc ff ff ff             call   _Unwind_Resume</pre></code><br/>
<br/>
Так и не найдя вызов деструктора к коде, начали искать похожие проблемы, и практически сразу нашли "<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=9946">gcc 3.2 bug 9946 — object destructor not called, potentially causing a memory leak</a>".<br/>
<br/>
Проблема была в генерации кода для оператора “?:”, и решалась либо обновлением компилятора, либо косметическим изменением оператора “?:” на простой if().<br/>
<br/>
<code>// Есть функция, возвращающая константную ссылку на объект<br/>
const Object &amp; getObject();<br/>
<br/>
// Другая функция принимает объект по значению<br/>
void doSomething( Object obj );<br/>
<br/>
// При вызове подобном нижеследующему, может произойти утечка памяти.<br/>
// Автоматически созданный на стеке экземпляр объекта может быть не освобожден,<br/>
// приводя к утечке памяти если экземпляр содержал динамически выделенную память.<br/>
doSomething( condition ? Object( params ) : getObject() );</code><br/>
<br/>
Простая тестовая программа выводила следующее (обратите внимание на количество созданных и освобожденных экземпляров класса А):<br/>
<br/>
<code>main() start<br/>
A::A( 'on stack' )<br/>
B::B()<br/>
A::A( 'static instance' )<br/>
A::A( 'copy of static instance' )<br/>
B::boo()<br/>
B::~B()<br/>
A::~A( 'on stack' )<br/>
main() end<br/>
A::~A( 'static instance' )<br/>
Class A created 3 times and destroyed 2 times<br/>
Class B created 1 times and destroyed 1 times</code><br/>
<br/>
Проблема происходила только при генерации 32-битного кода в gcc 3.2.3, и не происходила в 64 битном коде, или коде сгенерированном более поздними версиями компилятора.<br/>
<br/>
<h5>Я — не я, и память не моя</h5><br/>
Одно время я поддерживал и дорабатывал программу для сбора данных и передачи их на сервер. Эта программа работала на добром десятке платформ, в том числе на Linux. Так как программа была коммерческая, то компилировалась она компилятором, соответствующим минимальной поддерживаемой версии Linux, в нашем случае gcc 3.3.x, и предоставлялись исполняемые файлы.<br/>
<br/>
В один прекрасный момент, в нашем отделе QA зарегистрировали и даже сумели воспроизвести (во время длительного, несколько дней, теста под большой нагрузкой) падение программы по причине нехватки памяти — процесс съедал 3GB памяти и благополучно падал, создавая core dump аналогичного объема. Причем взрывной рост использования памяти происходил буквально за 10-15 минут до печального конца, и в это время нагрузка процессора была порядка 12% (на сервере было 4 двух-ядерных процессора, так что один поток, крутящийся в цикле, как раз и должен использовать 12.5%).<br/>
<br/>
Стек вызовов упавшего потока указывал на совершенно тривиальный код в конструкторе копирования, было только понятно, что это как-то связано с исключительными ситуациями.<br/>
<br/>
<code><pre>(gdb) where
#0  0xffffe410 in __kernel_vsyscall ()
#1  0xb7dbd8d0 in raise () from /lib/libc.so.6
#2  0xb7dbeff3 in abort () from /lib/libc.so.6
#3  0xb7f86da5 in dlopen () from /usr/lib/libstdc++.so.5
#4  0xb7f86de2 in std::terminate () from /usr/lib/libstdc++.so.5
#5  0xb7f85e89 in __cxa_allocate_exception () from /usr/lib/libstdc++.so.5
#6  0xb78f7f07 in Uuid::Uuid () from .../lib32/libourlibrary.so
#7  0xb782409d in ...</pre></code><br/>
<br/>
Попытки воспроизвести проблему с отладчиком памяти или отладочной версией исполняемых файлов не увенчались успехом — проблема исчезала. Да и само воспроизведение обходилось дорого — обычно требовалось тестировать процесс под нагрузкой в течение 2-4 суток, прежде чем возникала проблема воспроизводилась — а это задерживало тесты других компонент, требовавших эту-же инфраструктуру для тестов под нагрузкой.<br/>
<br/>
Поиск похожих стеков вызовов не дал практически никаких результатов, и ситуация была тупиковая. Надо было как-то обнаружить причину утечки памяти без использования отладчика.<br/>
<br/>
В одной реализации библиотеки выделения памяти для С++, с которой я сталкивался, каждый блок, выделяемый под новый экземпляр класса, в отладочной версии библиотеки помечался строкой, содержащей имя этого класса. Такой способ позволял легко определит по core dump-y, какие объекты того или иного типа были выделены. Я попробовал поискать строки, содержащиеся в core dump файле, запустив сначала программу «strings», а затем отсортировав с «sort».<br/>
<br/>
Любопытно, но обнаружилось, что файл содержит 32,123,751 строк вида «++CCUNG0o» — только эти строки занимали около 275 MB в файле размером 3 GB. При поиске этих строк в файле выяснилось, что каждая такая сигнатура начинала блок размером 96 байт (96b * 32,000,000 = 3Gb!!!)<br/>
<br/>
Блоки начинались инвертированной строкой «++CCUNG0o» с нулем в начале (так как она инвертированная), и отличались только парой из четырех байт в разных местах, образуя, по-видимому, связанный список.<br/>
<br/>
<code>0x248b818: 0x00 0x2b 0x2b 0x43 0x43 0x55 0x4e 0x47 &lt;&lt;== строка «++CCUNG0o»<br/>
0x248b820: 0x30 0x6f 0xf8 0xb7 0x00 0x00 0x00 0x00<br/>
0x248b828: 0x6c 0xa8 0x78 0xb7 0x00 0x00 0x00 0x00<br/>
0x248b830: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00<br/>
0x248b838: 0xa8 0x0e 0xd3 0xb7 0x3c 0xa2 0xfa 0xb7<br/>
0x248b840: 0xe8 0xae 0x82 0xb7 0x65 0x00 0x00 0x00<br/>
0x248b848: 0xc0 0x0e 0xd3 0xb7 0x38 0x9c 0xc8 0xb7<br/>
0x248b850: 0xf4 0x9b 0x04 0x08 0xe4 0x9c 0x04 0x08<br/>
0x248b858: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00<br/>
0x248b860: 0x03 0x00 0x00 0x00 0xbe 0x80 0x79 0xb7<br/>
0x248b868: 0x58 0x80 0x79 0xb7 0x54 0xa9 0x78 0xb7<br/>
0x248b870: 0x98 0xb8 0x48 0x02 0x00 0x00 0x00 0x00<br/>
<br/>
0x248b878: 0x00 0x2b 0x2b 0x43 0x43 0x55 0x4e 0x47 &lt;&lt;== строка «++CCUNG0o»<br/>
0x248b880: 0x30 0x6f 0xf8 0xb7 0x00 0x00 0x00 0x00<br/>
0x248b888: 0x6c 0xa8 0x78 0xb7 0x00 0x00 0x00 0x00<br/>
0x248b890: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00<br/>
0x248b898: 0xa8 0x0e 0xd3 0xb7 0x3c 0xa2 0xfa 0xb7<br/>
0x248b8a0: 0xff 0xff 0xff 0xff 0x65 0x00 0x00 0x00<br/>
0x248b8a8: 0xc0 0x0e 0xd3 0xb7 0x38 0x9c 0xc8 0xb7<br/>
0x248b8b0: 0xf4 0x9b 0x04 0x08 0xe4 0x9c 0x04 0x08<br/>
0x248b8b8: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00<br/>
0x248b8c0: 0x03 0x00 0x00 0x00 0xbe 0x80 0x79 0xb7<br/>
0x248b8c8: 0x58 0x80 0x79 0xb7 0x54 0xa9 0x78 0xb7<br/>
0x248b8d0: 0xf8 0xb8 0x48 0x02 0x00 0x00 0x00 0x00</code><br/>
<br/>
Поиск такой строки в Интернете поначалу не принес каких-либо полезных результатов, но потом обнаружилась одна ссылка на <a href="http://www.opensource.apple.com/">http://www.opensource.apple.com/</a> (к сожалению, уже не рабочая) со следующим фрагментом:<br/>
<br/>
<code><pre>// This is the exception class we report -- "GNUCC++\0".
const _Unwind_Exception_Class __gxx_exception_class
= ((((((((_Unwind_Exception_Class) 'G'
        &lt;&lt; 8 | (_Unwind_Exception_Class) 'N')
       &lt;&lt; 8 | (_Unwind_Exception_Class) 'U')
      &lt;&lt; 8 | (_Unwind_Exception_Class) 'C')
     &lt;&lt; 8 | (_Unwind_Exception_Class) 'C')
    &lt;&lt; 8 | (_Unwind_Exception_Class) '+')
    &lt;&lt; 8 | (_Unwind_Exception_Class) '+')
  &lt;&lt; 8 | (_Unwind_Exception_Class) '\0');</pre></code><br/>
<br/>
Тогда я вернулся к стекам вызовов других потоков, и обнаружил очень подозрительный поток, явно работающий в цикле в момент падения — и этот цикл тоже занимается обработкой исключения:<br/>
<br/>
<code><pre>(gdb) thread 20
[Switching to thread 20 (process 27635)]#0  0xb7e87921 in dl_iterate_phdr () from /lib/libc.so.6
(gdb) where
#0  0xb7e87921 in dl_iterate_phdr () from /lib/libc.so.6
#1  0x0804e837 in _Unwind_Find_FDE (pc=0xb782409c, bases=0xb70209b4) at ../../gcc/unwind-dw2-fde-glibc.c:283
#2  0x0804c950 in uw_frame_state_for (context=0xb7020960, fs=0xb7020860) at ../../gcc/unwind-dw2.c:903
#3  0x0804cfbf in _Unwind_RaiseException_Phase2 (exc=0xbfde3f38, context=0xb7020960) at ../../gcc/unwind.inc:43
#4  0x0804d397 in _Unwind_Resume (exc=0xbfde3f38) at ../../gcc/unwind.inc:220
#5  0xb78f82b0 in Uuid::Uuid () from /home/'work/lib32/libourlibrary.so
#6  0xb782409d in ...</pre></code><br/>
<br/>
После этого мы начали смотреть внимательнее на исходный код, где вызывалось исключение, и предположили, что проблема лежит в операторе placement new, который использовался в данном участке кода. Простой тест подтвердил предположение — создание исключения в конструкторе объекта, вызванном из оператора placement new, приводил к бесконечному циклу и взрывной утечке памяти. Тест был простой — симуляция исключительной ситуации в проблемном участке кода, но к сожалению, совсем не простой в отрыве от контекста нашего приложения — небольшие тестовые программы проблему не воспроизводили. Так же оказалось, что данная проблема присутствует только в версии компилятора, которую мы использовали, то есть в gcc 3.4 проблема отсутствовала. На радостях, что конкретная проблема, уже обошедшаяся в копеечку, решена, дальнейшее расследование свернули.<br/>
<br/>
<h5>Не совсем утечка</h5><br/>
Однажды, после обновления программного продукта, предварительное тестирование у клиента обнаружило утечку памяти, не происходившую ранее. <br/>
<br/>
Программа работала под Solaris, под нагрузкой, и использование памяти росло резкими скачками по 10-100 MB, при этом достаточно редко — временами раз в 2-3 дня, а временами 2-3 раза в день. Рано или поздно память, используемая процессом, вырастала до 2+ GB. При этом даже при снижении нагрузки до нуля, используемая память (значения RSS и VSS) никогда не уменьшалась.<br/>
<br/>
Непосредственный доступ к серверам получить было нельзя (для настройки libumem, к примеру), а воспроизвести проблему в QA не получалось. Хорошо и то, что удалось получить обрезанный core dump файл — снимок памяти процесса. Но анализ core dump файла практически ничего не дал — стек вызовов показывал падение при выделении памяти из-за нехватки оной. При этом бОльшая часть памяти не использовалась — почти весь core dump файл был занят пустыми страницами по 4 KB, забитыми нулями.<br/>
<br/>
Ситуация была странная, но постепенно, методом исключения различных компонент системы и вдумчивого анализа лог-файлов, была восстановлена картина происходящих событий.<br/>
<br/>
При обновлении системы, одна из клиентских программ перестала посылать часть сообщений, предназначенных для мониторинга системы. По случайности, отсутствующие сообщения сигнализировали о закрытии транзакций, и они должны были чистить внутренние буферы. Соответственно, при повышении нагрузки, начинали накапливаться буферизованные сообщения, ждущие пары. По случайному совпадению, в данном случае сообщения были нетипично большими (десятки килобайт вместо сотен байт), и количество клиентских процессов было относительно велико (несколько десятков вместо обычных 2-5). Но на самом деле все эти параметры великолепно укладывались в ограничения, поддерживаемые системой (при условии нормального функционирования). И, хотя программа не ограничивала размер внутренних буферов, но она поддерживала механизм для очистки “потерянных” транзакций — все неполные сообщения старше 10 минут автоматически удалялись. И как раз этот счетчик всегда показывал 0 из-за ошибки — механизм был предназначен для практически невероятной исключительной ситуации, практически никогда не задействован, и недостаточно проверен. Сама очистка исправно работала, но была недостаточно эффективна из-за большой нагрузки на память, вызванной большим количеством клиентов и большим размером нестандартных сообщений. А диагностика проблемы оказалась сильно затруднена из-за неисправного счетчика в статистике.<br/>
<br/>
Почему-же память не возвращалась при снижении нагрузки? Очень просто — стандартный диспетчер памяти процесса в Solaris только увеличивает адресное пространство процесса, и резервирует освобождаемую процессом память для повторного использования, оставляя страницы «занятыми» процессом с точки зрения стороннего наблюдателя.<br/>
<br/>
В нашем случае, одиночные пики активности проблемных клиентов приводили к периодическим большим выделениям памяти, в большинстве случаев незаметных, так как не превышался предыдущий максимум. И только если последний максимум превышался, получалась очередная ступенька, которая уже никогда не уменьшалась. Через 10 минут после пика вся память освобождалась, но снаружи этого было не видно, только снимок памяти показывал, что большая часть памяти забита нулями и не используется.<br/>
<br/>
Решение было простым даже до исправления проблемных клиентов и защиты от переполнения буферов — возраст “старых” транзакций был временно ограничен 30 секундами, и этого было вполне достаточно для своевременной вычистки буферов при данной нагрузке, с большим запасом. Но диагностика и поиск неисправности отняли немалое время, главным образом из-за некорректной статистики в логах.<br/>
<br/>
<h5>Вместо эпилога</h5><br/>
У кого были интересные случаи в практике — пишите!</div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bc%2B%2B%5D" class="tm-article-body__tags-item-link">c++</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bmemory%20leak%5D" class="tm-article-body__tags-item-link">memory leak</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bdebug%5D" class="tm-article-body__tags-item-link">debug</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bcross-platform%5D" class="tm-article-body__tags-item-link">cross-platform</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Blinux%5D" class="tm-article-body__tags-item-link">linux</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bsolaris%5D" class="tm-article-body__tags-item-link">solaris</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/cpp/" class="tm-article-body__tags-item-link">
                  C++
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 67: ↑64 и ↓3</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 67: ↑64 и ↓3" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+61</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    52
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/111834/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      40
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/andrewsch/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/3f1/1f2/f5e/3f11f2f5e52d98f941ff015d09be8722.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 54 голоса " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    22
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><span class="tm-user-card__name">Андрей Щетинин</span> <a href="/ru/users/andrewsch/" class="tm-user-card__nickname">
          @andrewsch
        </a> <!----></div> <p class="tm-user-card__short-info">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/111834/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 40 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2016-11-23T14:08:44.000Z" title="2016-11-23, 17:08">23  ноября  2016 в 17:08</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/JetBrains/blog/315962/" class="tm-article-title__link"><span>Релиз CLion 2016.3: улучшения поддержки C11, C++11 и C++14, изменения в работе с проектной моделью CMake и многое другое</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 25: ↑24 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 25: ↑24 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+23</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">10K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    33
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/JetBrains/blog/315962/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      57
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2010-09-03T09:33:15.000Z" title="2010-09-03, 13:33">3  сентября  2010 в 13:33</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/abbyy/blog/103447/" class="tm-article-title__link"><span>Gcc vs Intel C++ Compiler: собираем FineReader Engine for Linux</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 55: ↑53 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 55: ↑53 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+51</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">25K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    19
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/abbyy/blog/103447/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      55
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2009-07-24T08:40:10.000Z" title="2009-07-24, 12:40">24  июля  2009 в 12:40</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/65295/" class="tm-article-title__link"><span>Internet Explorer + Flash Player + IE Skype Add-on = Memory Leak</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 74: ↑70 и ↓4</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 74: ↑70 и ↓4" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+66</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2.2K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    5
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/65295/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      37
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-29T06:19:53.000Z" title="2021-09-29, 09:19">сегодня в 09:19</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580582/" class="tm-article-title__link"><span>Конфиденциальность пользователей Telegram снова нарушена. Представители мессенджера требуют не раскрывать подробностей</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 248: ↑241 и ↓7</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 248: ↑241 и ↓7" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+234</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">39K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    32
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580582/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      87
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-29T13:00:01.000Z" title="2021-09-29, 16:00">сегодня в 16:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/579972/" class="tm-article-title__link"><span>Апскейл, который смог</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 78: ↑77 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 78: ↑77 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+76</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">6.5K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    72
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/579972/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      36
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-29T09:00:02.000Z" title="2021-09-29, 12:00">сегодня в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/578690/" class="tm-article-title__link"><span>Пишем драйвер виртуального EEPROM для STM32F030</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 43: ↑42 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 43: ↑42 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+41</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    54
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/578690/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      18
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-29T09:00:14.000Z" title="2021-09-29, 12:00">сегодня в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/funcorp/blog/580392/" class="tm-article-title__link"><span>Дообучаем готовую нейросеть для классификации данных</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 42: ↑41 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 42: ↑41 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+40</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.3K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    41
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/funcorp/blog/580392/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      0
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-29T00:18:17.000Z" title="2021-09-29, 03:18">сегодня в 03:18</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/selectel/blog/579530/" class="tm-article-title__link"><span>Лучше поздно, чем никогда: Microsoft решила продолжить историю Skype</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 43: ↑41 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 43: ↑41 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+39</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">19K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    9
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/selectel/blog/579530/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      64
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="111834" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/111834/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/111834/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"111834":{"id":"111834","timePublished":"2011-01-14T06:49:14+00:00","isCorporative":false,"lang":"ru","titleHtml":"Утечки памяти в программах на С\u002FС++ — история нескольких багов","leadData":{"textHtml":"Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и исправляются. Но, временами, проблемы оказываются необычными, и требуют необычного подхода или решения… ","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"sandbox","data":null}],"author":{"scoreStats":{"score":22,"votesCount":54},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"60703","alias":"andrewsch","fullname":"Андрей Щетинин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3f1\u002F1f2\u002Ff5e\u002F3f11f2f5e52d98f941ff015d09be8722.jpg","speciality":null},"statistics":{"commentsCount":40,"favoritesCount":52,"readingCount":9047,"score":61,"votesCount":67},"hubs":[{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EИстории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и исправляются. Но, временами, проблемы оказываются необычными, и требуют необычного подхода или решения… \u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch5\u003EКодопотерятор памяти\u003C\u002Fh5\u003E\u003Cbr\u002F\u003E\r\nОчередное тестирование в QA выявило небольшую постоянную утечку памяти под нагрузкой в новой версии продукта. Воспроизведение не представляло проблемы, но первоначальный прогон программы под Valgrind не выявил утечек. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПосле некоторых раздумий была включена опция --leak-check=full и Valgrind начал отчитываться об утечках. Но среди ожидаемых утечек разного рода статических переменных, зачастую осознанно не освобождаемых, не находилось ничего, напоминающего утечку. Обычно при прогоне нескольких тысяч итераций несложно выделить аналогичное количество потерянных блоков памяти выделенных malloc-ом. В данном-же случае утечка на 10,000 запросов к серверу была минимальна.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПосле анализа стеков выделений памяти и отсева ожидаемых случаев, остался только один кандидат, который отвечал за несколько десятков потерянных блоков — количество, абсолютно не ассоциирующееся с 10,000 запросами. Но этому нашлось объяснение — выделения памяти происходили в классе строки STL, который активно использует memory pool для уменьшения количества выделений памяти. Поэтому вместо 10,000 потерянных блоков памяти Valgrind отчитывался о 40+. Стек вызовов выглядел примерно так:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E==15882== 76,400 bytes in 8 blocks are definitely lost in loss record 2 of 3\u003Cbr\u002F\u003E\r\n==15882==      at 0x401B007: operator new(unsigned int) (vg_replace_malloc.c:214)\u003Cbr\u002F\u003E\r\n==15882==      by 0x40A40F0: std::__default_alloc_template&lt;true, 0\u003E::_S_chunk_alloc(unsigned int, int&amp;) (in \u002Fusr\u002Flib\u002Flibstdc++.so.5.0.3)\u003Cbr\u002F\u003E\r\n==15882==      by 0x40A3FFC: std::__default_alloc_template&lt;true, 0\u003E::_S_refill(unsigned int) (in \u002Fusr\u002Flib\u002Flibstdc++.so.5.0.3)\u003Cbr\u002F\u003E\r\n==15882==      by 0x40A3B6B: std::__default_alloc_template&lt;true, 0\u003E::allocate(unsigned int) (in \u002Fusr\u002Flib\u002Flibstdc++.so.5.0.3)\u003Cbr\u002F\u003E\r\n==15882==      by 0x40A9B67: std::string::_Rep::_S_create(unsigned int, std::allocator&lt;char\u003E const&amp;) (in \u002Fusr\u002Flib\u002Flibstdc++.so.5.0.3)\u003Cbr\u002F\u003E\r\n==15882==      by 0x40A9C98: std::string::_Rep::_M_clone(std::allocator&lt;char\u003E const&amp;, unsigned int) (in \u002Fusr\u002Flib\u002Flibstdc++.so.5.0.3)\u003Cbr\u002F\u003E\r\n==15882==      by 0x40A7A05: std::string::reserve(unsigned int) (in \u002Fusr\u002Flib\u002Flibstdc++.so.5.0.3)\u003Cbr\u002F\u003E\r\n==15882==      by 0x8049826: std::basic_string&lt;char, std::char_traits&lt;char\u003E, std::allocator&lt;char\u003E \u003E std::operator+&lt;char,\u003Cbr\u002F\u003E\r\nstd::char_traits&lt;char\u003E, std::allocator&lt;char\u003E \u003E(char const*, std::basic_string&lt;char, std::char_traits&lt;char\u003E,\u003Cbr\u002F\u003E\r\nstd::allocator&lt;char\u003E \u003E const&amp;) (basic_string.tcc:619)\u003Cbr\u002F\u003E\r\n==15882==      by 0x804956A: A::A(A const&amp;) (class_a.cpp:20)\u003Cbr\u002F\u003E\r\n==15882==      by 0x80491BC: foo(int) (test.cpp:23)\u003Cbr\u002F\u003E\r\n==15882==      by 0x80492EA: main (test.cpp:32)\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВроде-бы источник утечки памяти был найден, но код выглядел абсолютно невинно — вызов функции с передачей ей временной копии объекта:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EdoSomething( condition ? Object( params ) : getObject() );\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы были уже точно уверены, что память теряется в этой строке, и начали смотреть на код, генерируемый компилятором для данной строки. Вроде-бы все было на месте — вызов “basic_string::length()”, вызов конструктора класса параметра для одной ветви условия, вызов “Parent::getB()” и конструктора копирования для другой ветви, вызов собственно функции “A::create”, освобождения временных объектов — всё, кроме вызова деструктора временной копии класса — созданной на стеке, но содержащей внутри копию строки, которая и не освобождалась в результате!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cpre\u003E110:   return A::create(b1, b2, s.length() \u003E 0 ? B(s) : getB());\n  13d4:     83 ec 0c                   sub    $0xc,%esp\n  13d7:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax\n  13da:     50                         push   %eax\n  13db:     e8 fc ff ff ff             call   std::basic_string&lt;wchar_t\u003E::length() const &lt;&lt;=========\n  13e0:     83 c4 10                   add    $0x10,%esp\n  13e3:     85 c0                      test   %eax,%eax\n  13e5:     74 18                      je     13ff &lt;A::create+0x341\u003E\n  13e7:     83 ec 08                   sub    $0x8,%esp\n  13ea:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax\n  13ed:     50                         push   %eax\n  13ee:     8d 85 f8 fe ff ff          lea    0xfffffef8(%ebp),%eax\n  13f4:     50                         push   %eax\n  13f5:     e8 fc ff ff ff             call   B::B( std::basic_string&lt;wchar_t\u003E const &amp; ) &lt;&lt;=========\n  13fa:     83 c4 10                   add    $0x10,%esp\n  13fd:     eb 21                      jmp    1420 &lt;A::create+0x362\u003E\n  13ff:     83 ec 08                   sub    $0x8,%esp\n  1402:     83 ec 04                   sub    $0x4,%esp\n  1405:     ff 75 0c                   pushl  0xc(%ebp)\n  1408:     e8 fc ff ff ff             call   Parent::getB() &lt;&lt;=========\n  140d:     83 c4 08                   add    $0x8,%esp\n  1410:     50                         push   %eax\n  1411:     8d 85 f8 fe ff ff          lea    0xfffffef8(%ebp),%eax\n  1417:     50                         push   %eax\n  1418:     e8 fc ff ff ff             call   B::B( B const &amp; ) &lt;&lt;=========\n  141d:     83 c4 10                   add    $0x10,%esp\n  1420:     83 ec 0c                   sub    $0xc,%esp\n  1423:     8d 85 f8 fe ff ff          lea    0xfffffef8(%ebp),%eax\n  1429:     50                         push   %eax\n  142a:     0f b6 45 f6                movzbl 0xfffffff6(%ebp),%eax\n  142e:     50                         push   %eax\n  142f:     0f b6 45 f7                movzbl 0xfffffff7(%ebp),%eax\n  1433:     50                         push   %eax\n  1434:     ff 75 0c                   pushl  0xc(%ebp)\n  1437:     ff 75 08                   pushl  0x8(%ebp)\n  143a:     e8 fc ff ff ff             call   A::create(bool, bool, B) &lt;&lt;=========\n  143f:     83 c4 1c                   add    $0x1c,%esp\n  1442:     83 ec 0c                   sub    $0xc,%esp\n  1445:     8d 85 68 ff ff ff          lea    0xffffff68(%ebp),%eax\n  144b:     50                         push   %eax\n  144c:     e8 fc ff ff ff             call   BS&lt;100, char\u003E::~BS()\n  1451:     83 c4 10                   add    $0x10,%esp\n  1454:     83 ec 0c                   sub    $0xc,%esp\n  1457:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax\n  145a:     50                         push   %eax\n  145b:     e8 fc ff ff ff             call   std::basic_string&lt;wchar_t\u003E::~basic_string()\n  1460:     83 c4 10                   add    $0x10,%esp\n  1463:     eb 55                      jmp    14ba &lt;A::create+0x3fc\u003E\n  1465:     89 85 f0 fe ff ff          mov    %eax,0xfffffef0(%ebp)\n  146b:     8b b5 f0 fe ff ff          mov    0xfffffef0(%ebp),%esi\n  1471:     83 ec 0c                   sub    $0xc,%esp\n  1474:     8d 85 68 ff ff ff          lea    0xffffff68(%ebp),%eax\n  147a:     50                         push   %eax\n  147b:     e8 fc ff ff ff             call   BS&lt;100, char\u003E::~BS()\n  1480:     83 c4 10                   add    $0x10,%esp\n  1483:     89 b5 f0 fe ff ff          mov    %esi,0xfffffef0(%ebp)\n  1489:     eb 06                      jmp    1491 &lt;A::create+0x3d3\u003E\n  148b:     89 85 f0 fe ff ff          mov    %eax,0xfffffef0(%ebp)\n  1491:     8b b5 f0 fe ff ff          mov    0xfffffef0(%ebp),%esi\n  1497:     83 ec 0c                   sub    $0xc,%esp\n  149a:     8d 45 d8                   lea    0xffffffd8(%ebp),%eax\n  149d:     50                         push   %eax\n  149e:     e8 fc ff ff ff             call   std::basic_string&lt;wchar_t\u003E::~basic_string()\n  14a3:     83 c4 10                   add    $0x10,%esp\n  14a6:     89 b5 f0 fe ff ff          mov    %esi,0xfffffef0(%ebp)\n  14ac:     83 ec 0c                   sub    $0xc,%esp\n  14af:     ff b5 f0 fe ff ff          pushl  0xfffffef0(%ebp)\n  14b5:     e8 fc ff ff ff             call   _Unwind_Resume\u003C\u002Fpre\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТак и не найдя вызов деструктора к коде, начали искать похожие проблемы, и практически сразу нашли \"\u003Ca href=\"http:\u002F\u002Fgcc.gnu.org\u002Fbugzilla\u002Fshow_bug.cgi?id=9946\"\u003Egcc 3.2 bug 9946 — object destructor not called, potentially causing a memory leak\u003C\u002Fa\u003E\".\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПроблема была в генерации кода для оператора “?:”, и решалась либо обновлением компилятора, либо косметическим изменением оператора “?:” на простой if().\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u002F\u002F Есть функция, возвращающая константную ссылку на объект\u003Cbr\u002F\u003E\r\nconst Object &amp; getObject();\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u002F\u002F Другая функция принимает объект по значению\u003Cbr\u002F\u003E\r\nvoid doSomething( Object obj );\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u002F\u002F При вызове подобном нижеследующему, может произойти утечка памяти.\u003Cbr\u002F\u003E\r\n\u002F\u002F Автоматически созданный на стеке экземпляр объекта может быть не освобожден,\u003Cbr\u002F\u003E\r\n\u002F\u002F приводя к утечке памяти если экземпляр содержал динамически выделенную память.\u003Cbr\u002F\u003E\r\ndoSomething( condition ? Object( params ) : getObject() );\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПростая тестовая программа выводила следующее (обратите внимание на количество созданных и освобожденных экземпляров класса А):\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Emain() start\u003Cbr\u002F\u003E\r\nA::A( 'on stack' )\u003Cbr\u002F\u003E\r\nB::B()\u003Cbr\u002F\u003E\r\nA::A( 'static instance' )\u003Cbr\u002F\u003E\r\nA::A( 'copy of static instance' )\u003Cbr\u002F\u003E\r\nB::boo()\u003Cbr\u002F\u003E\r\nB::~B()\u003Cbr\u002F\u003E\r\nA::~A( 'on stack' )\u003Cbr\u002F\u003E\r\nmain() end\u003Cbr\u002F\u003E\r\nA::~A( 'static instance' )\u003Cbr\u002F\u003E\r\nClass A created 3 times and destroyed 2 times\u003Cbr\u002F\u003E\r\nClass B created 1 times and destroyed 1 times\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПроблема происходила только при генерации 32-битного кода в gcc 3.2.3, и не происходила в 64 битном коде, или коде сгенерированном более поздними версиями компилятора.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch5\u003EЯ — не я, и память не моя\u003C\u002Fh5\u003E\u003Cbr\u002F\u003E\r\nОдно время я поддерживал и дорабатывал программу для сбора данных и передачи их на сервер. Эта программа работала на добром десятке платформ, в том числе на Linux. Так как программа была коммерческая, то компилировалась она компилятором, соответствующим минимальной поддерживаемой версии Linux, в нашем случае gcc 3.3.x, и предоставлялись исполняемые файлы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ один прекрасный момент, в нашем отделе QA зарегистрировали и даже сумели воспроизвести (во время длительного, несколько дней, теста под большой нагрузкой) падение программы по причине нехватки памяти — процесс съедал 3GB памяти и благополучно падал, создавая core dump аналогичного объема. Причем взрывной рост использования памяти происходил буквально за 10-15 минут до печального конца, и в это время нагрузка процессора была порядка 12% (на сервере было 4 двух-ядерных процессора, так что один поток, крутящийся в цикле, как раз и должен использовать 12.5%).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСтек вызовов упавшего потока указывал на совершенно тривиальный код в конструкторе копирования, было только понятно, что это как-то связано с исключительными ситуациями.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cpre\u003E(gdb) where\n#0  0xffffe410 in __kernel_vsyscall ()\n#1  0xb7dbd8d0 in raise () from \u002Flib\u002Flibc.so.6\n#2  0xb7dbeff3 in abort () from \u002Flib\u002Flibc.so.6\n#3  0xb7f86da5 in dlopen () from \u002Fusr\u002Flib\u002Flibstdc++.so.5\n#4  0xb7f86de2 in std::terminate () from \u002Fusr\u002Flib\u002Flibstdc++.so.5\n#5  0xb7f85e89 in __cxa_allocate_exception () from \u002Fusr\u002Flib\u002Flibstdc++.so.5\n#6  0xb78f7f07 in Uuid::Uuid () from ...\u002Flib32\u002Flibourlibrary.so\n#7  0xb782409d in ...\u003C\u002Fpre\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПопытки воспроизвести проблему с отладчиком памяти или отладочной версией исполняемых файлов не увенчались успехом — проблема исчезала. Да и само воспроизведение обходилось дорого — обычно требовалось тестировать процесс под нагрузкой в течение 2-4 суток, прежде чем возникала проблема воспроизводилась — а это задерживало тесты других компонент, требовавших эту-же инфраструктуру для тестов под нагрузкой.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПоиск похожих стеков вызовов не дал практически никаких результатов, и ситуация была тупиковая. Надо было как-то обнаружить причину утечки памяти без использования отладчика.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ одной реализации библиотеки выделения памяти для С++, с которой я сталкивался, каждый блок, выделяемый под новый экземпляр класса, в отладочной версии библиотеки помечался строкой, содержащей имя этого класса. Такой способ позволял легко определит по core dump-y, какие объекты того или иного типа были выделены. Я попробовал поискать строки, содержащиеся в core dump файле, запустив сначала программу «strings», а затем отсортировав с «sort».\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЛюбопытно, но обнаружилось, что файл содержит 32,123,751 строк вида «++CCUNG0o» — только эти строки занимали около 275 MB в файле размером 3 GB. При поиске этих строк в файле выяснилось, что каждая такая сигнатура начинала блок размером 96 байт (96b * 32,000,000 = 3Gb!!!)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБлоки начинались инвертированной строкой «++CCUNG0o» с нулем в начале (так как она инвертированная), и отличались только парой из четырех байт в разных местах, образуя, по-видимому, связанный список.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E0x248b818: 0x00 0x2b 0x2b 0x43 0x43 0x55 0x4e 0x47 &lt;&lt;== строка «++CCUNG0o»\u003Cbr\u002F\u003E\r\n0x248b820: 0x30 0x6f 0xf8 0xb7 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b828: 0x6c 0xa8 0x78 0xb7 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b830: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b838: 0xa8 0x0e 0xd3 0xb7 0x3c 0xa2 0xfa 0xb7\u003Cbr\u002F\u003E\r\n0x248b840: 0xe8 0xae 0x82 0xb7 0x65 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b848: 0xc0 0x0e 0xd3 0xb7 0x38 0x9c 0xc8 0xb7\u003Cbr\u002F\u003E\r\n0x248b850: 0xf4 0x9b 0x04 0x08 0xe4 0x9c 0x04 0x08\u003Cbr\u002F\u003E\r\n0x248b858: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b860: 0x03 0x00 0x00 0x00 0xbe 0x80 0x79 0xb7\u003Cbr\u002F\u003E\r\n0x248b868: 0x58 0x80 0x79 0xb7 0x54 0xa9 0x78 0xb7\u003Cbr\u002F\u003E\r\n0x248b870: 0x98 0xb8 0x48 0x02 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n0x248b878: 0x00 0x2b 0x2b 0x43 0x43 0x55 0x4e 0x47 &lt;&lt;== строка «++CCUNG0o»\u003Cbr\u002F\u003E\r\n0x248b880: 0x30 0x6f 0xf8 0xb7 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b888: 0x6c 0xa8 0x78 0xb7 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b890: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b898: 0xa8 0x0e 0xd3 0xb7 0x3c 0xa2 0xfa 0xb7\u003Cbr\u002F\u003E\r\n0x248b8a0: 0xff 0xff 0xff 0xff 0x65 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b8a8: 0xc0 0x0e 0xd3 0xb7 0x38 0x9c 0xc8 0xb7\u003Cbr\u002F\u003E\r\n0x248b8b0: 0xf4 0x9b 0x04 0x08 0xe4 0x9c 0x04 0x08\u003Cbr\u002F\u003E\r\n0x248b8b8: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00\u003Cbr\u002F\u003E\r\n0x248b8c0: 0x03 0x00 0x00 0x00 0xbe 0x80 0x79 0xb7\u003Cbr\u002F\u003E\r\n0x248b8c8: 0x58 0x80 0x79 0xb7 0x54 0xa9 0x78 0xb7\u003Cbr\u002F\u003E\r\n0x248b8d0: 0xf8 0xb8 0x48 0x02 0x00 0x00 0x00 0x00\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПоиск такой строки в Интернете поначалу не принес каких-либо полезных результатов, но потом обнаружилась одна ссылка на \u003Ca href=\"http:\u002F\u002Fwww.opensource.apple.com\u002F\"\u003Ehttp:\u002F\u002Fwww.opensource.apple.com\u002F\u003C\u002Fa\u003E (к сожалению, уже не рабочая) со следующим фрагментом:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cpre\u003E\u002F\u002F This is the exception class we report -- \"GNUCC++\\0\".\nconst _Unwind_Exception_Class __gxx_exception_class\n= ((((((((_Unwind_Exception_Class) 'G'\n        &lt;&lt; 8 | (_Unwind_Exception_Class) 'N')\n       &lt;&lt; 8 | (_Unwind_Exception_Class) 'U')\n      &lt;&lt; 8 | (_Unwind_Exception_Class) 'C')\n     &lt;&lt; 8 | (_Unwind_Exception_Class) 'C')\n    &lt;&lt; 8 | (_Unwind_Exception_Class) '+')\n    &lt;&lt; 8 | (_Unwind_Exception_Class) '+')\n  &lt;&lt; 8 | (_Unwind_Exception_Class) '\\0');\u003C\u002Fpre\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТогда я вернулся к стекам вызовов других потоков, и обнаружил очень подозрительный поток, явно работающий в цикле в момент падения — и этот цикл тоже занимается обработкой исключения:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cpre\u003E(gdb) thread 20\n[Switching to thread 20 (process 27635)]#0  0xb7e87921 in dl_iterate_phdr () from \u002Flib\u002Flibc.so.6\n(gdb) where\n#0  0xb7e87921 in dl_iterate_phdr () from \u002Flib\u002Flibc.so.6\n#1  0x0804e837 in _Unwind_Find_FDE (pc=0xb782409c, bases=0xb70209b4) at ..\u002F..\u002Fgcc\u002Funwind-dw2-fde-glibc.c:283\n#2  0x0804c950 in uw_frame_state_for (context=0xb7020960, fs=0xb7020860) at ..\u002F..\u002Fgcc\u002Funwind-dw2.c:903\n#3  0x0804cfbf in _Unwind_RaiseException_Phase2 (exc=0xbfde3f38, context=0xb7020960) at ..\u002F..\u002Fgcc\u002Funwind.inc:43\n#4  0x0804d397 in _Unwind_Resume (exc=0xbfde3f38) at ..\u002F..\u002Fgcc\u002Funwind.inc:220\n#5  0xb78f82b0 in Uuid::Uuid () from \u002Fhome\u002F'work\u002Flib32\u002Flibourlibrary.so\n#6  0xb782409d in ...\u003C\u002Fpre\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПосле этого мы начали смотреть внимательнее на исходный код, где вызывалось исключение, и предположили, что проблема лежит в операторе placement new, который использовался в данном участке кода. Простой тест подтвердил предположение — создание исключения в конструкторе объекта, вызванном из оператора placement new, приводил к бесконечному циклу и взрывной утечке памяти. Тест был простой — симуляция исключительной ситуации в проблемном участке кода, но к сожалению, совсем не простой в отрыве от контекста нашего приложения — небольшие тестовые программы проблему не воспроизводили. Так же оказалось, что данная проблема присутствует только в версии компилятора, которую мы использовали, то есть в gcc 3.4 проблема отсутствовала. На радостях, что конкретная проблема, уже обошедшаяся в копеечку, решена, дальнейшее расследование свернули.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch5\u003EНе совсем утечка\u003C\u002Fh5\u003E\u003Cbr\u002F\u003E\r\nОднажды, после обновления программного продукта, предварительное тестирование у клиента обнаружило утечку памяти, не происходившую ранее. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПрограмма работала под Solaris, под нагрузкой, и использование памяти росло резкими скачками по 10-100 MB, при этом достаточно редко — временами раз в 2-3 дня, а временами 2-3 раза в день. Рано или поздно память, используемая процессом, вырастала до 2+ GB. При этом даже при снижении нагрузки до нуля, используемая память (значения RSS и VSS) никогда не уменьшалась.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНепосредственный доступ к серверам получить было нельзя (для настройки libumem, к примеру), а воспроизвести проблему в QA не получалось. Хорошо и то, что удалось получить обрезанный core dump файл — снимок памяти процесса. Но анализ core dump файла практически ничего не дал — стек вызовов показывал падение при выделении памяти из-за нехватки оной. При этом бОльшая часть памяти не использовалась — почти весь core dump файл был занят пустыми страницами по 4 KB, забитыми нулями.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСитуация была странная, но постепенно, методом исключения различных компонент системы и вдумчивого анализа лог-файлов, была восстановлена картина происходящих событий.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри обновлении системы, одна из клиентских программ перестала посылать часть сообщений, предназначенных для мониторинга системы. По случайности, отсутствующие сообщения сигнализировали о закрытии транзакций, и они должны были чистить внутренние буферы. Соответственно, при повышении нагрузки, начинали накапливаться буферизованные сообщения, ждущие пары. По случайному совпадению, в данном случае сообщения были нетипично большими (десятки килобайт вместо сотен байт), и количество клиентских процессов было относительно велико (несколько десятков вместо обычных 2-5). Но на самом деле все эти параметры великолепно укладывались в ограничения, поддерживаемые системой (при условии нормального функционирования). И, хотя программа не ограничивала размер внутренних буферов, но она поддерживала механизм для очистки “потерянных” транзакций — все неполные сообщения старше 10 минут автоматически удалялись. И как раз этот счетчик всегда показывал 0 из-за ошибки — механизм был предназначен для практически невероятной исключительной ситуации, практически никогда не задействован, и недостаточно проверен. Сама очистка исправно работала, но была недостаточно эффективна из-за большой нагрузки на память, вызванной большим количеством клиентов и большим размером нестандартных сообщений. А диагностика проблемы оказалась сильно затруднена из-за неисправного счетчика в статистике.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПочему-же память не возвращалась при снижении нагрузки? Очень просто — стандартный диспетчер памяти процесса в Solaris только увеличивает адресное пространство процесса, и резервирует освобождаемую процессом память для повторного использования, оставляя страницы «занятыми» процессом с точки зрения стороннего наблюдателя.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ нашем случае, одиночные пики активности проблемных клиентов приводили к периодическим большим выделениям памяти, в большинстве случаев незаметных, так как не превышался предыдущий максимум. И только если последний максимум превышался, получалась очередная ступенька, которая уже никогда не уменьшалась. Через 10 минут после пика вся память освобождалась, но снаружи этого было не видно, только снимок памяти показывал, что большая часть памяти забита нулями и не используется.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРешение было простым даже до исправления проблемных клиентов и защиты от переполнения буферов — возраст “старых” транзакций был временно ограничен 30 секундами, и этого было вполне достаточно для своевременной вычистки буферов при данной нагрузке, с большим запасом. Но диагностика и поиск неисправности отняли немалое время, главным образом из-за некорректной статистики в логах.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch5\u003EВместо эпилога\u003C\u002Fh5\u003E\u003Cbr\u002F\u003E\r\nУ кого были интересные случаи в практике — пишите!\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"c++"},{"titleHtml":"memory leak"},{"titleHtml":"debug"},{"titleHtml":"cross-platform"},{"titleHtml":"linux"},{"titleHtml":"solaris"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F111834\u002F9b497525e49a4858d8265606aacd81e9\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F111834\u002F9b497525e49a4858d8265606aacd81e9\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F111834\\\u002F\"},\"headline\":\"Утечки памяти в программах на С\\\u002FС++ — история нескольких багов\",\"datePublished\":\"2011-01-14T09:49:14+03:00\",\"dateModified\":\"2011-01-14T09:49:14+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Андрей Щетинин\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F111834\\\u002F#post-content-body\",\"about\":[\"h_cpp\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F111834\\\u002F9b497525e49a4858d8265606aacd81e9\\\u002F\"]}","metaDescription":"Истории нескольких проблем, связанных с утечками памяти. Большинство таких проблем являются достаточно тривиальными, легко воспроизводятся, легко обнаруживаются соответствуюшим инструментарием, и...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"578342":{"id":"578342","timePublished":"2021-09-29T13:26:32+00:00","isCorporative":true,"lang":"ru","titleHtml":"Модель зрелости: как оценивать и растить инженерные команды","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"67379","alias":"webmisha","fullname":"Mikhail Sukhov","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F9a9\u002Fc98\u002F934\u002F9a9c9893450a53130b2bf005da06c4fc.jpg","speciality":""},"statistics":{"commentsCount":0,"favoritesCount":10,"readingCount":696,"score":13,"votesCount":15},"hubs":[{"relatedData":null,"id":"20770","alias":"avito","type":"corporative","title":"Блог компании Авито","titleHtml":"Блог компании Авито","isProfiled":false},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EМы продолжаем делиться внутренними документами Авито. Сегодня это будет модель зрелости. Она может пригодиться как трекер внедрения инженерных практик всем компаниям, где есть своя разработка. Чётко прописанная модель зрелости помогает быстро синхронизироваться и находить зоны роста команд. \u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffa7\u002Fa8d\u002F59e\u002Ffa7a8d59eeb159e18650faa687b38732.jpeg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffa7\u002Fa8d\u002F59e\u002Ffa7a8d59eeb159e18650faa687b38732.jpeg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"модель зрелости"},{"titleHtml":"team management"},{"titleHtml":"процессы"}]},"578690":{"id":"578690","timePublished":"2021-09-29T09:00:02+00:00","isCorporative":true,"lang":"ru","titleHtml":"Пишем драйвер виртуального EEPROM для STM32F030","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"1705055","alias":"Neoprog","fullname":"Алексей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F829\u002F06a\u002F3e1\u002F82906a3e13b5a04dee9b4deead9ffd8c.png","speciality":"Инженер-программист"},"statistics":{"commentsCount":18,"favoritesCount":54,"readingCount":2031,"score":41,"votesCount":43},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"19737","alias":"controllers","type":"collective","title":"Программирование микроконтроллеров","titleHtml":"Программирование микроконтроллеров","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F578690\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Ftn\u002Fn0\u002Fm6\u002Ftnn0m62rtstlnjf-sl8axn3zves.png\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nКто хотел сохранять какие-либо данные в FLASH микроконтроллера во время работы устройства сталкивались с особенностями работы с этим видом памяти. Из-за необходимости стирания страницы большого объёма для перезаписи ячейки FLASH памяти, возникает угроза потери данных из-за отключения питания во время процесса обновления (один из вариантов). В этой статье я расскажу как можно упростить работу с FLASH, да и ещё с гарантией сохранения данных при прерывании процедуры обновления на любом этапе. Реализуем это на STM32F030.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"veeprom"},{"titleHtml":"flash-память"},{"titleHtml":"ruvds_статьи"},{"titleHtml":"программирование микроконтроллеров"}]},"579106":{"id":"579106","timePublished":"2021-09-29T09:02:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Геоанализ этажности Санкт-Петербурга алгоритмом KDE, или Как меняется облик города","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2652123","alias":"MaximML","fullname":"Максим","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F924\u002Fe65\u002Fe7f\u002F924e65e7f813ba32d53a7891fd45bc62.jpg","speciality":"Machine Learning"},"statistics":{"commentsCount":3,"favoritesCount":12,"readingCount":1048,"score":14,"votesCount":18},"hubs":[{"relatedData":null,"id":"22390","alias":"citymobil","type":"corporative","title":"Блог компании Ситимобил","titleHtml":"Блог компании Ситимобил","isProfiled":false},{"relatedData":null,"id":"8000","alias":"algorithms","type":"collective","title":"Алгоритмы","titleHtml":"Алгоритмы","isProfiled":true},{"relatedData":null,"id":"17783","alias":"geo","type":"collective","title":"Геоинформационные сервисы","titleHtml":"Геоинформационные сервисы","isProfiled":true},{"relatedData":null,"id":"17795","alias":"bigdata","type":"collective","title":"Big Data","titleHtml":"Big Data","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВсем привет, меня зовут Максим Шаланкин, в Ситимобил я занимаюсь машинным обучением. Мы используем множество крутых алгоритмов для оптимизации наших сервисов и улучшения бизнес-процессов. В этой публикации я расскажу, как использовать в геоаналитике алгоритм ядерной оценки плотности (Kernel Density Estimation) и строить полигоны на карте, основываясь на распределении географических данных.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F68a\u002F80b\u002F38d\u002F68a80b38d498f5a6941119e81b1856b1.png","buttonTextHtml":"Врууум","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F68a\u002F80b\u002F38d\u002F68a80b38d498f5a6941119e81b1856b1.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"полигоны"},{"titleHtml":"аналитика"},{"titleHtml":"ядерная оценка плотности"},{"titleHtml":"kernel density estimation"},{"titleHtml":"kde"},{"titleHtml":"санкт-петербург"},{"titleHtml":"геоаналитика"},{"titleHtml":"геоданные"},{"titleHtml":"гео"}]},"579530":{"id":"579530","timePublished":"2021-09-29T00:18:17+00:00","isCorporative":true,"lang":"ru","titleHtml":"Лучше поздно, чем никогда: Microsoft решила продолжить историю Skype","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2413033","alias":"kkxen","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fdeb\u002Fc7f\u002Fe41\u002Fdebc7fe41d3a22ed05b308e454b3f3fd.jpg","speciality":"Influencer-marketing manager"},"statistics":{"commentsCount":64,"favoritesCount":9,"readingCount":18755,"score":39,"votesCount":43},"hubs":[{"relatedData":null,"id":"14740","alias":"selectel","type":"corporative","title":"Блог компании Selectel","titleHtml":"Блог компании Selectel","isProfiled":false},{"relatedData":null,"id":"92","alias":"instant_messaging","type":"collective","title":"Мессенджеры","titleHtml":"Мессенджеры","isProfiled":true},{"relatedData":null,"id":"20688","alias":"research","type":"collective","title":"Исследования и прогнозы в IT","titleHtml":"Исследования и прогнозы в IT","isProfiled":false},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F8fc\u002Ff2b\u002F5e4\u002F8fcf2b5e48070f436d4ac6f9d4fe6558.png\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nКорпорация Microsoft приобрела VoIP-сервис Skype в 2011 году, можно сказать, на пике его популярности, за $8,5 млрд. И сейчас это огромная даже по меркам IT-отрасли сумма, а в 2011 году она была еще более внушительной. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКомпания, по словам ее экс-руководителя Стива Баллмера, собиралась развивать вместе со Skype коммуникации, создав простую среду для общения друзей, родственников и коллег. В целом, все выглядело неплохо, ведь тогда количество пользователей составляло 663 млн человек, при должном старании Skype (а значит, и Microsoft) мог стать едва ли не монополистом среди коммуникационных инструментов. Но что-то пошло не так. \u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"skype"},{"titleHtml":"мессенджер"},{"titleHtml":"развитие"},{"titleHtml":"Microsoft"}]},"579626":{"id":"579626","timePublished":"2021-09-29T10:52:57+00:00","isCorporative":true,"lang":"ru","titleHtml":"Если крысе не давать спать, она умрёт через 3 недели — как работают мозг и сон","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2221530","alias":"Asya_Dyu","fullname":"Анастасия","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffec\u002F943\u002F098\u002Ffec943098e84d65a162934040de8b9ed.gif","speciality":"Иллюстратор"},"statistics":{"commentsCount":4,"favoritesCount":86,"readingCount":6474,"score":34,"votesCount":36},"hubs":[{"relatedData":null,"id":"17357","alias":"timeweb","type":"corporative","title":"Блог компании Timeweb","titleHtml":"Блог компании Timeweb","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21990","alias":"brain","type":"collective","title":"Мозг","titleHtml":"Мозг","isProfiled":false},{"relatedData":null,"id":"21996","alias":"health","type":"collective","title":"Здоровье","titleHtml":"Здоровье","isProfiled":false},{"relatedData":null,"id":"22750","alias":"biology","type":"collective","title":"Биология","titleHtml":"Биология","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F8y\u002Fnt\u002Feg\u002F8ynteg9tee4b_rbudidreaw4ksm.gif\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПосмотрела 2х-часовую \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=Zdy9wy8N8Lo&amp;t=2s\" rel=\"nofollow noopener noreferrer\"\u003Eлекцию \u003C\u002Fa\u003Eпрофессора МГУ Вячеслава Дубынина про влияние сна на мозг и мозга на сон. Под катом конспект минут на 20 чтения. Если попытаться сжать до 1 минуты, то получится что-то вроде этого:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EСколько нужно спать. Индивидуально, от 6 до 10 часов — для взрослого человека в пределах нормы.\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"#Example\"\u003EГигиена сна\u003C\u002Fa\u003E — правила, чтобы нормально засыпать и высыпаться. (Просто якорь на слайд-список).\u003C\u002Fli\u003E\r\n\u003Cli\u003EБиологические часы — реальный физиологический процесс, который ориентируется на циркадные ритмы. Смена часовых поясов и работа по сменам «расшатывает» механизмы биологических часов. \u003C\u002Fli\u003E\r\n\u003Cli\u003EСпать надо ложиться не позже, чем… — фигня. Просто в одно и то же время.\u003C\u002Fli\u003E\r\n\u003Cli\u003EЕсли вы спите днем, купите себе хорошие шторы. Мелатонин коррелирует с освещением. Если в глаза (даже закрытые) светит солнце, вы не отдыхаете полноценно.\u003C\u002Fli\u003E\r\n\u003Cli\u003EСколько можно не спать. Без необратимых серьезных последствий взрослый человек выдержит до 4-х суток. \u003C\u002Fli\u003E\r\n\u003Cli\u003EСон делится на медленную и парадоксальную фазы. \u003C\u002Fli\u003E\r\n\u003Cli\u003EМедленная фаза сна — про очищение организма. Если нет медленной фазы сна, иммунитет, эндокринка, обменные процессы и гомеостаз идут лесом. Экспериментальные крысы умирают на 15-20 день без сна от воспаления, когда кишечные бактерии попадают в кровь.\u003C\u002Fli\u003E\r\n\u003Cli\u003EПарадоксальная фаза сна участвует в обработке информации. По уровню электрической активности мозга она близка к состоянию активного решения сложных задач. \u003C\u002Fli\u003E\r\n\u003Cli\u003EКогда правильно просыпаться. На переходе от парадоксальной фазы к медленной. \u003C\u002Fli\u003E\r\n\u003Cli\u003EКак определить на глаз, когда можно будить. Когда человек лежал спокойно и начал ворочаться, можно будить.\u003C\u002Fli\u003E\r\n\u003Cli\u003EКофеин не позволяет организму получить сигнал об усталости, но не дает дополнительную энергию.\u003C\u002Fli\u003E\r\n\u003Cli\u003EКак затормозить перевозбужденную нервную систему нежно. Фенобарбитал в малых дозах — корвалол, валокордин, валосердин. Противогистаминные препараты. \u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"здоровье"},{"titleHtml":"сон"},{"titleHtml":"мозг"},{"titleHtml":"нейрофизиология"},{"titleHtml":"нейробиология"},{"titleHtml":"нейроны"}]},"579840":{"id":"579840","timePublished":"2021-09-29T10:30:08+00:00","isCorporative":true,"lang":"ru","titleHtml":"Разработка системы тестирования SQL-запросов. Часть 2","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"112772","alias":"alexprey","fullname":"Мулюкин Алексей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F870\u002F824\u002Fcf2\u002F870824cf2ed66a1d59565c45ff2f851f.png","speciality":"Веб разработчик"},"statistics":{"commentsCount":0,"favoritesCount":30,"readingCount":1633,"score":13,"votesCount":13},"hubs":[{"relatedData":null,"id":"19403","alias":"arcadia","type":"corporative","title":"Блог компании Аркадия","titleHtml":"Блог компании Аркадия","isProfiled":false},{"relatedData":null,"id":"210","alias":"it_testing","type":"collective","title":"Тестирование IT-систем","titleHtml":"Тестирование IT-систем","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"546","alias":"net","type":"collective","title":".NET","titleHtml":".NET","isProfiled":true},{"relatedData":null,"id":"17718","alias":"csharp","type":"collective","title":"C#","titleHtml":"C#","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Farcadia\u002Fblog\u002F304322\u002F\"\u003EНесколько лет назад\u003C\u002Fa\u003E, на проекте по разработке внутреннего портала для учебных заведений, занимающем практически весь датский рынок, я разработал прототип системы тестирования слоя данных, внедрил его в процесс разработки и обучил использованию две проектных команды. В данном посте я подведу итоги и расскажу об основных изменениях.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6ea\u002F4df\u002F5c2\u002F6ea4df5c2b42a05353b9a79f31fcc5f3.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6ea\u002F4df\u002F5c2\u002F6ea4df5c2b42a05353b9a79f31fcc5f3.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"unit testing"},{"titleHtml":"code quality"},{"titleHtml":"development"},{"titleHtml":"c#.net"},{"titleHtml":"data layer"},{"titleHtml":"data base"},{"titleHtml":"tdd"},{"titleHtml":"test driven development"},{"titleHtml":"integration testing"}]},"579972":{"id":"579972","timePublished":"2021-09-29T13:00:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Апскейл, который смог","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"410650","alias":"man_of_letters","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb59\u002Fd10\u002Fcc4\u002Fb59d10cc4887ce1d5ac2382e5f034940.png","speciality":"Человек смыслов"},"statistics":{"commentsCount":36,"favoritesCount":72,"readingCount":6476,"score":76,"votesCount":78},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"19439","alias":"machine_learning","type":"collective","title":"Машинное обучение","titleHtml":"Машинное обучение","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"Термин «апскейл» используется для обозначения процесса увеличения разрешения цифровых изображений с фокусом на создание иллюзии «настоящего» высокого разрешения. Правда, 90% таких продуктов — это барахло, больше намёк на перспективы, чем волшебство. Недавно мои ручки добрались до двух алгоритмов повышения чёткости, которые оказались настолько хороши, что появилась эта статья. Будут субъективные и объективные тесты алгоритма Real-ESRGAN для увеличения разрешения и алгоритма GFPGAN для детализации лиц.\u003Cbr\u003E\r\n\u003Cblockquote\u003E\u003Cb\u003E\u003Cfont color=\"#3AC1EF\"\u003ETraffic_Warning:\u003C\u002Ffont\u003E\u003C\u002Fb\u003E в статье демонстрируется множество примеров.\u003C\u002Fblockquote\u003E\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F579972\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Feg\u002F1j\u002Fkt\u002Feg1jktqrr0hcjrqsua4rsxqqio0.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"ruvds_статьи"},{"titleHtml":"машинное обучение"},{"titleHtml":"нейросети"},{"titleHtml":"искусственный интеллект"},{"titleHtml":"machine learning"},{"titleHtml":"upscale"},{"titleHtml":"Lancoz"},{"titleHtml":"Topaz Gigapixe"},{"titleHtml":"Real-ESRGAN"}]},"580118":{"id":"580118","timePublished":"2021-09-29T09:34:41+00:00","isCorporative":true,"lang":"ru","titleHtml":"Вычисляем на видеокартах. Технология OpenCL. Часть 1a. Как работает OpenCL","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2690813","alias":"xjossy","fullname":"Georgy Osipov","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F5c1\u002Ff73\u002F5f3\u002F5c1f735f3c77ebd66743a8e2f38a98b2.png","speciality":"Пользователь"},"statistics":{"commentsCount":4,"favoritesCount":53,"readingCount":1953,"score":22,"votesCount":22},"hubs":[{"relatedData":null,"id":"22588","alias":"yandex_praktikum","type":"corporative","title":"Блог компании Яндекс.Практикум","titleHtml":"Блог компании Яндекс.Практикум","isProfiled":false},{"relatedData":null,"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"9233","alias":"gpgpu","type":"collective","title":"GPGPU","titleHtml":"GPGPU","isProfiled":true},{"relatedData":null,"id":"21944","alias":"videocards","type":"collective","title":"Видеокарты","titleHtml":"Видеокарты","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"22 июня автор курса \u003Ca href=\"https:\u002F\u002Fpracticum.yandex.ru\u002Fcpp?utm_source=pr&amp;utm_medium=content&amp;utm_content=28_09_21&amp;utm_campaign=pr_content_cpp_habr\" rel=\"nofollow noopener noreferrer\"\u003E«Разработчик C++» \u003C\u002Fa\u003Eв Яндекс.Практикуме Георгий Осипов провёл вебинар \u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FyPCeYXxSLjA\" rel=\"nofollow noopener noreferrer\"\u003E«Вычисляем на видеокартах. Технология OpenCL».\u003C\u002Fa\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FyPCeYXxSLjA\" rel=\"nofollow noopener noreferrer\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fwq\u002Frf\u002Fap\u002Fwqrfaphypdz0hchnq36fsinwes8.png\"\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМы подготовили для вас его текстовую версию, для удобства разбив её на смысловые блоки.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fyandex_praktikum\u002Fblog\u002F575484\u002F\"\u003E0. Зачем мы здесь собрались. Краткая история GPGPU.\u003C\u002Fa\u003E\u003Cbr\u003E\r\n \u003Cb\u003E1a. Как работает OpenCL.\u003C\u002Fb\u003E\u003Cbr\u003E\r\n 1b. Пишем для OpenCL.\u003Cbr\u003E\r\n 2. Алгоритмы в условиях массового параллелизма.\u003Cbr\u003E\r\n 3. Сравнение технологий.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМы обещали, что разберём написание полноценной программы уже в этой части, но материала оказалось слишком много, и мы разбили эту часть надвое. В первой половине расскажем про основные принципы, которые должен знать каждый OpenCL-разработчик, а во второй напишем программу.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EЕсть мнение, что для написания эффективного кода для GPU программист обязан понимать архитектуру видеокарты. И это мнение не чьё-нибудь там, а NVIDIA (см. \u003Ca href=\"https:\u002F\u002Fwww.nvidia.ru\u002Fcontent\u002FEMEAI\u002FCUDA\u002Flecture_documents\u002FLecture_11.pdf\" rel=\"nofollow noopener noreferrer\"\u003EЛекции NVIDIA по GPGPU\u003C\u002Fa\u003E). Не будем спорить и разберём базовые принципы работы видеокарты.\u003C\u002Fi\u003E\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"OpenCL"},{"titleHtml":"CUDA"},{"titleHtml":"GPU"},{"titleHtml":"GPGPU"},{"titleHtml":"NVIDIA"},{"titleHtml":"OpenGL"},{"titleHtml":"видеокарты"},{"titleHtml":"высокая производительность"},{"titleHtml":"курс Разработчик C++"},{"titleHtml":"высокопроизводительные"},{"titleHtml":"многопоточные вычисления"},{"titleHtml":"Яндекс Практикум"}]},"580314":{"id":"580314","timePublished":"2021-09-29T11:42:45+00:00","isCorporative":true,"lang":"ru","titleHtml":"Забудьте об умных городах, «глупая» инфраструктура — вот решение для транспорта","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Brad Templeton","originalUrl":"https:\u002F\u002Fwww.forbes.com\u002Fsites\u002Fbradtempleton\u002F2021\u002F07\u002F27\u002Fforget-smart-cities-stupid-infrastructure-is-the-solution-for-future-transportation\u002F?sh=6cda7af41441"}}],"author":{"id":"2192534","alias":"Itelma","fullname":"T-800","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fc3a\u002Fd1e\u002F43d\u002Fc3ad1e43d500046c3228c9494b510912.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":12,"readingCount":2496,"score":12,"votesCount":12},"hubs":[{"relatedData":null,"id":"22356","alias":"itelma","type":"corporative","title":"Блог компании НПП ИТЭЛМА","titleHtml":"Блог компании НПП ИТЭЛМА","isProfiled":false},{"relatedData":null,"id":"19739","alias":"iot_dev","type":"collective","title":"Разработка для интернета вещей","titleHtml":"Разработка для интернета вещей","isProfiled":true},{"relatedData":null,"id":"20688","alias":"research","type":"collective","title":"Исследования и прогнозы в IT","titleHtml":"Исследования и прогнозы в IT","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"22004","alias":"transport","type":"collective","title":"Транспорт","titleHtml":"Транспорт","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F97d\u002Fe87\u002F09c\u002F97de8709c179815517cd7868e9d06f64.jpg\" alt=\"image\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EКогда вы создаете специализированную инфраструктуру, такую ​​как железная дорога, вы навсегда ограничиваете то, что вы будете с ней делать. Поезда не сильно изменились с 19 века.\u003C\u002Fi\u003E \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПо мере того, как растет потенциал цифровой революции в транспорте, многие люди задумываются над вопросом, как мы можем сделать наши дороги и города «умными», чтобы обеспечить эту революцию, и какие виды новой инфраструктуры мы должны построить, чтобы быть готовыми к ней.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОтвет, который я даю, и который, естественно, беспокоит тех, кто работает в мире инфраструктуры, звучит так: «Не очень много». В действительности, ответ не так прост, он опирается на несколько фундаментальных принципов основных цифровых технологий, которые уже сильно изменили мир, — компьютеров и сетей. Это мир, из которого я пришел, и в нем есть достойные примеры для всех, кто пытается следовать по пути экспоненциальной революции.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nРазвитие Интернета преподносит жизненно важные уроки того, как подготовить то, что вы делаете, в частности, инфраструктуру, чтобы она была готова к будущему.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОсновной урок заключается в том, что инфраструктура должна быть простой и общей, а не представлять, в вашем понимании «приложение», которое будет ее использовать, настолько, чтобы пытаться решить его проблемы. Инфраструктура меняется в темпе десятилетий, в то время как цифровые технологии меняются ежедневно. Вы не можете планировать цифровые автомобили 2030-х годов со знанием 2021 года — вы можете попытаться, но почти наверняка ошибетесь — лучшее, что вы можете сделать, это сделать все гибким и отложить принятие решений, чтобы принять их со знаниями 2030-х годов. Это довольно большая перемена для градостроителей, привыкших писать планы на 10, 20, 30 и даже 40 лет вперед.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"ИТЭЛМА"},{"titleHtml":"компоненты для автопроизводителей"}]},"580392":{"id":"580392","timePublished":"2021-09-29T09:00:14+00:00","isCorporative":true,"lang":"ru","titleHtml":"Дообучаем готовую нейросеть для классификации данных","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2072505","alias":"MrNightSky","fullname":"Yaroslav Murzaev","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F9ce\u002F822\u002Fa59\u002F9ce822a590f5ae38e2ccd2507deaf9ef.jpg","speciality":"Data Scientist, ML engineer"},"statistics":{"commentsCount":0,"favoritesCount":41,"readingCount":1289,"score":40,"votesCount":42},"hubs":[{"relatedData":null,"id":"18232","alias":"funcorp","type":"corporative","title":"Блог компании FUNCORP","titleHtml":"Блог компании FUNCORP","isProfiled":false},{"relatedData":null,"id":"340","alias":"python","type":"collective","title":"Python","titleHtml":"Python","isProfiled":true},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"19439","alias":"machine_learning","type":"collective","title":"Машинное обучение","titleHtml":"Машинное обучение","isProfiled":true},{"relatedData":null,"id":"22374","alias":"data_engineering","type":"collective","title":"Data Engineering","titleHtml":"Data Engineering","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Ffuncorp\u002Fblog\u002F576658\u002F\"\u003E\u003Cu\u003Eпрошлой статье\u003C\u002Fu\u003E\u003C\u002Fa\u003E мы научились классифицировать данные без разметки с помощью понижения размерности и методов кластеризации. По итогам получили первичную разметку данных и узнали, что это картинки. С такими начальными условиями можно придумать что-то более серьёзное, например, дообучить существующую нейросеть на наши классы, даже если до этого она их никогда не видела. В iFunny на первом уровне модерации мы выделяем три основных класса:&nbsp;\u003C\u002Fp\u003E\u003Cp\u003E• approved — картинки идут в раздел collective (развлекательный контент и мемы);\u003Cbr\u003E• not suitable — не попадают в общую ленту, но остаются в ленте пользователя (селфи, пейзажи и другие);\u003Cbr\u003E• risked — получают бан и удаляются из приложения (расизм, порнография, расчленёнка и всё, что попадает под определение «противоправный контент»).\u003C\u002Fp\u003E\u003Cp\u003EСегодня расскажу на наглядных примерах, как мы перестраивали модель под наши классы, обучали её и выделяли паттерны распознавания картинок. Технические подробности — под катом.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3d9\u002F2b4\u002F678\u002F3d92b46781695b6ccf2e69c5b4b4fe3c.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3d9\u002F2b4\u002F678\u002F3d92b46781695b6ccf2e69c5b4b4fe3c.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"обработка данных"},{"titleHtml":"машинное обучение"},{"titleHtml":"python"},{"titleHtml":"machine learning"},{"titleHtml":"data engineering"},{"titleHtml":"классификация изображений"},{"titleHtml":"нейросети"},{"titleHtml":"классификатор данных"},{"titleHtml":"data science"}]},"580444":{"id":"580444","timePublished":"2021-09-29T04:38:07+00:00","isCorporative":false,"lang":"ru","titleHtml":"Zigbee роутер с WiFi или прокачиваем модуль управления Триколор GS SMH-ZW-I1","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"218406","alias":"kerenskiy","fullname":"Александр","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb72\u002F8b1\u002Fa2b\u002Fb728b1a2b6afdaecb0b4f6756a2f4f7e.jpg","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":26,"readingCount":3174,"score":11,"votesCount":11},"hubs":[{"relatedData":null,"id":"19011","alias":"reverse-engineering","type":"collective","title":"Реверс-инжиниринг","titleHtml":"Реверс-инжиниринг","isProfiled":true},{"relatedData":null,"id":"19739","alias":"iot_dev","type":"collective","title":"Разработка для интернета вещей","titleHtml":"Разработка для интернета вещей","isProfiled":true},{"relatedData":null,"id":"21966","alias":"home_automation","type":"collective","title":"Умный дом","titleHtml":"Умный дом","isProfiled":false},{"relatedData":null,"id":"21982","alias":"lifehacks","type":"collective","title":"Лайфхаки для гиков","titleHtml":"Лайфхаки для гиков","isProfiled":false},{"relatedData":null,"id":"22016","alias":"easyelectronics","type":"collective","title":"Электроника для начинающих","titleHtml":"Электроника для начинающих","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EУвлечение Умным домом постепенно захватывает все больше и больше людей, ведь на  рынке появляются разнообразные решения, отличающиеся не только ценой,  экосистемой и используемыми протоколами, но и возможностью интеграции в  Opensource системы УД, такие как HomeAssistant, OpenHAB и так далее и  тому подобное.\u003C\u002Fp\u003E\u003Cp\u003EА те устройства, что не умеют или не хотят интегрироваться никуда кроме родной экосистемы, многочисленные энтузиасты \u003Cs\u003Eшевелят палочкой\u003C\u002Fs\u003E дорабатывают с помощью паяльника, программатора и инопланетных технологий полученных из Ноосферы, и все равно интегрируют!\u003C\u002Fp\u003E\u003Cp\u003EПредлагаю вам, уважаемые читатели Хабра, обратить внимание на модуль управления умным домом Триколор под кодовым названием \u003Cstrong\u003EGS SMH-ZW-I1\u003C\u002Fstrong\u003E, и сделать на его основе что нибуть полезное, необычное и практичное.\u003C\u002Fp\u003E\u003Cp\u003E\"Почему именно модуль управления \u003Cstrong\u003EGS SMH-ZW-I1\u003C\u002Fstrong\u003E  от компании Триколор?\" - спросите вы, и будете правы. Причин, как  оказалось, вполне достаточно. Тем, кому стало интересно, прошу  проследовать под кат.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb3d\u002Fa64\u002Fa31\u002Fb3da64a316554c92edfc799c18facf23.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb3d\u002Fa64\u002Fa31\u002Fb3da64a316554c92edfc799c18facf23.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"GS SMH-ZW-I1"},{"titleHtml":"Триколор"},{"titleHtml":"zigbee"},{"titleHtml":"CC2531"},{"titleHtml":"DIY"},{"titleHtml":"diy или сделай сам"},{"titleHtml":"умный дом"}]},"580572":{"id":"580572","timePublished":"2021-09-29T03:42:38+00:00","isCorporative":false,"lang":"ru","titleHtml":"Байконур, часть 4: МИК «Протонов»","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"368687","alias":"lozga","fullname":"Филипп Терехов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F817\u002F6fa\u002Fd6b\u002F8176fad6ba9b8839f4372de9d0187146.png","speciality":"Тестировщик и популяризатор космонавтики"},"statistics":{"commentsCount":1,"favoritesCount":8,"readingCount":4611,"score":16,"votesCount":16},"hubs":[{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EУже после того, как модуль \"Наука\" отправился на старт, мы получили возможность зайти в монтажно-испытательный комплекс (МИК), где его устанавливали на ракету-носитель. Нам несколько раз говорили, что мы стали первыми посторонними посетителями этого МИКа. И по количеству просьб не снимать эта локация заняла первое место со значительным отрывом.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F707\u002Fc87\u002Fa1c\u002F707c87a1cd773efcc1e03242fdd40502.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F707\u002Fc87\u002Fa1c\u002F707c87a1cd773efcc1e03242fdd40502.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Космодром Байконур"},{"titleHtml":"ракеты-носители"},{"titleHtml":"ракета &quot;Протон&quot;"},{"titleHtml":"репортаж"},{"titleHtml":"экскурсия"}]},"580582":{"id":"580582","timePublished":"2021-09-29T06:19:53+00:00","isCorporative":false,"lang":"ru","titleHtml":"Конфиденциальность пользователей Telegram снова нарушена. Представители мессенджера требуют не раскрывать подробностей","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1800409","alias":"ne555","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":87,"favoritesCount":32,"readingCount":39224,"score":234,"votesCount":248},"hubs":[{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"92","alias":"instant_messaging","type":"collective","title":"Мессенджеры","titleHtml":"Мессенджеры","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ конце февраля 2021 года выходит обновленный релиз клиента Telegram с заголовком: ‘\u003Cem\u003EАвтоудаление, виджеты и временные ссылки для приглашений’.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EНа красивой, художественной \u003Ca href=\"https:\u002F\u002Ftelegram.org\u002Ffile\u002F464001519\u002F2\u002Fpw2YpXpzBFk.222382\u002F9ec672b0125c50ad34\" rel=\"noopener noreferrer nofollow\"\u003Eобложке\u003C\u002Fa\u003E к пресс-релизу новой верси Tg-мессенджера пользователи видят корзину с таймером и уничтоженными данными, а так же лицезреют главных героев из культового хакерского сериала \u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9C%D0%B8%D1%81%D1%82%D0%B5%D1%80_%D0%A0%D0%BE%D0%B1%D0%BE%D1%82#%D0%9D%D0%B0%D0%B3%D1%80%D0%B0%D0%B4%D1%8B_%D0%B8_%D0%BD%D0%BE%D0%BC%D0%B8%D0%BD%D0%B0%D1%86%D0%B8%D0%B8\" rel=\"noopener noreferrer nofollow\"\u003EМистер Робот\u003C\u002Fa\u003E. Но действительно ли все так круто с зачисткой следов как и в сериале? Подробности об одной щекотливой bug bounty в этой статье.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F1e9\u002F2a3\u002F6cc\u002F1e92a36cc8aeb8ec3f80bd8c3dd26b44.jpeg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F1e9\u002F2a3\u002F6cc\u002F1e92a36cc8aeb8ec3f80bd8c3dd26b44.jpeg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"telegram"},{"titleHtml":"уязвимость"}]},"580588":{"id":"580588","timePublished":"2021-09-29T07:57:53+00:00","isCorporative":true,"lang":"ru","titleHtml":"Техподдержка без бюрократии: автоматизации под капотом ServiceDesk Яндекса","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2792513","alias":"arvidasgafiulin","fullname":"Арвидас Гафиулин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F463\u002Fe51\u002Ff5d\u002F463e51f5d7d8eaf0704e3db17fdee1e5.jpg","speciality":"Руководитель отдела эксплуатации и развития"},"statistics":{"commentsCount":7,"favoritesCount":13,"readingCount":1743,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"4991","alias":"yandex","type":"corporative","title":"Блог компании Яндекс","titleHtml":"Блог компании Яндекс","isProfiled":false},{"relatedData":null,"id":"17739","alias":"crm","type":"collective","title":"CRM-системы","titleHtml":"CRM-системы","isProfiled":true},{"relatedData":null,"id":"19369","alias":"service_desk","type":"collective","title":"Service Desk","titleHtml":"Service Desk","isProfiled":true},{"relatedData":null,"id":"21904","alias":"office","type":"collective","title":"Офисы IT-компаний","titleHtml":"Офисы IT-компаний","isProfiled":false},{"relatedData":null,"id":"22026","alias":"itcompanies","type":"collective","title":"IT-компании","titleHtml":"IT-компании","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Привет! Меня зовут Арвидас Гафиулин, я руководитель отдела эксплуатации и развития ИТ-инфраструктуры в Яндексе. Важнейшее направление работы отдела — наша внутренняя служба поддержки, ServiceDesk. Именно команда SD отвечает за то, чтобы у сотрудников компании была возможность работать из офиса или на удалёнке со всеми необходимыми доступами, оборудованием и комфортом. В среднем служба получает десять тысяч запросов каждую неделю и постоянно работает над тем, чтобы решать их качественнее и быстрее, а также предотвращать новые инциденты, устраняя корни проблем. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМы уже писали на Хабр о том, как работает \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fyandex\u002Fblog\u002F487078\u002F\"\u003Eвендомат ServiceDesk\u003C\u002Fa\u003E, выдающий расходники и компьютерные аксессуары без согласований и бумажек, а сегодня расскажем, как выглядит работа службы изнутри и какие технические решения живут у ServiceDesk «под капотом», помогая нам автоматизировать львиную долю задач. Добро пожаловать под кат, если вам интересно, откуда техподдержка знает, кому уже пора апгрейдить технику, а кому придётся ещё немного подождать, у кого устарела версия ОС или доживает последние дни жёсткий диск, какие автоматизации мы можем создавать на основе пользовательских данных, а главное — от скольких часов ожидания и кругов согласований это избавляет сотрудников Яндекса.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fao\u002Fg-\u002Fgv\u002Faog-gvbfx0gynbv_nderxmcmooi.jpeg\"\u003E\u003Cbr\u003E\r\n\u003Csup\u003EWelcome-зона службы ИТ-поддержки в одном из офисов\u003C\u002Fsup\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"служба поддержки"},{"titleHtml":"service desk"},{"titleHtml":"автоматизация"},{"titleHtml":"data lake"},{"titleHtml":"crm"},{"titleHtml":"api"}]},"580604":{"id":"580604","timePublished":"2021-09-29T08:11:26+00:00","isCorporative":false,"lang":"ru","titleHtml":"Поговорим о высшем образовании, требованиях и ожиданиях","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"56016","alias":"onlinehead","fullname":"Anton Kostenko","avatarUrl":"","speciality":"DevOps\u002FSRE"},"statistics":{"commentsCount":26,"favoritesCount":18,"readingCount":3632,"score":20,"votesCount":26},"hubs":[{"relatedData":null,"id":"20696","alias":"study","type":"collective","title":"Учебный процесс в IT","titleHtml":"Учебный процесс в IT","isProfiled":false},{"relatedData":null,"id":"20740","alias":"career","type":"collective","title":"Карьера в IT-индустрии","titleHtml":"Карьера в IT-индустрии","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EОчень много комментариев собрал \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\u002Fhttps:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eпост\u003C\u002Fa\u003E молодого человека, первокурсника, пришедшего учиться на \"программиста\", но получившего несколько не то, что он ожидал. Я сам 15 лет назад поступил в региональный университет на \"айтишную\" специальность и мне это близко. \u003C\u002Fp\u003E\u003Cp\u003EКак это обычно и бывает для постов, поднявших весьма больную тему, комментарии оказались как бы не интереснее самого поста. \u003C\u002Fp\u003E\u003Cp\u003EВ них эдаким лейтмотивом проходит несколько мыслей, которые я бы и хотел выделить, обсудить и в некотором роде постараться опровергнуть или, как минимум, поставить под сомнение.\u003C\u002Fp\u003E\u003Cp\u003EЯ заранее извиняюсь у авторов комментариев за то, что не буду упоминать их ники. Одна и та же мысль могла быть высказана десятки раз в разных формах и я не вижу никакой разумной возможности найти и упомянуть их всех, поэтому ограничусь или переформулированной идеей, или небольшой прямой цитатой там, где это совершенно необходимо.\u003C\u002Fp\u003E\u003Cp\u003EАналогично, я оговорюсь, что в некоторых ВУЗах все может быть по-другому. Частные случаи хорошо подсвечивают проблему, но никак не отменяют её наличия.\u003C\u002Fp\u003E\u003Cp\u003EКроме этого, я бы не хотел рассуждать о причинах проблем и\\или предлагать какие-либо способы решения. Но, конечно же, это всегда можно обсудить в комментариях.\u003C\u002Fp\u003E\u003Cp\u003EИтак, примем к рассмотрению следующие тезисы, которые достаточно массово высказывались в комментариях:\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3a1\u002Fe0c\u002F854\u002F3a1e0c854b5d502922bcbb9528301fc1.jpg","buttonTextHtml":"Три тезиса, о которых мы поговорим","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3a1\u002Fe0c\u002F854\u002F3a1e0c854b5d502922bcbb9528301fc1.jpg","fit":"cover","positionY":89.772727272727,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"высшее образование"},{"titleHtml":"проблемы образования"},{"titleHtml":"проблемы профессии it"},{"titleHtml":"образование в ит"},{"titleHtml":"образование в it"},{"titleHtml":"образование"},{"titleHtml":"государство"},{"titleHtml":"государственные учереждения"}]},"580618":{"id":"580618","timePublished":"2021-09-29T08:38:40+00:00","isCorporative":false,"lang":"ru","titleHtml":"Заметки о дельта-роботе. Часть 1. Историческая справка и обзор научных работ","editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null}],"author":{"id":"2647083","alias":"multiengineer","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":2,"favoritesCount":10,"readingCount":1248,"score":20,"votesCount":20},"hubs":[{"relatedData":null,"id":"19309","alias":"lib","type":"collective","title":"Профессиональная литература","titleHtml":"Профессиональная литература","isProfiled":false},{"relatedData":null,"id":"19735","alias":"robo_dev","type":"collective","title":"Разработка робототехники","titleHtml":"Разработка робототехники","isProfiled":true},{"relatedData":null,"id":"21902","alias":"robot","type":"collective","title":"Робототехника","titleHtml":"Робототехника","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭтой публикацией я начинаю цикл статей о дельта-роботе. Здесь поговорим об истории этого механизма и я расскажу немного об интересных работах по этой тематике. В следующих статьях будут материалы, посвящённые его теоретическому анализу, построению рабочей зоны, выбору приводов, конструированию, изготовлению, сборке и созданию системы управления.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd7f\u002Fe6f\u002Fa2e\u002Fd7fe6fa2ea118b8426f3aa4c479345e2.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd7f\u002Fe6f\u002Fa2e\u002Fd7fe6fa2ea118b8426f3aa4c479345e2.png","fit":"cover","positionY":0,"positionX":60.128205128205}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дельта-робот"},{"titleHtml":"манипулятор"},{"titleHtml":"робототехника"},{"titleHtml":"роботостроение"}]},"580620":{"id":"580620","timePublished":"2021-09-29T09:30:34+00:00","isCorporative":false,"lang":"ru","titleHtml":"Членимая калейдоскопическая сложность. Об устройстве и потенциале фасеточного глаза","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2534007","alias":"OlegSivchenko","fullname":"Олег Сивченко","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F27b\u002Ff35\u002Ff6f\u002F27bf35f6f595fc136b70c384752ba387.jpg","speciality":"Переводчик, PM, автор, просветитель-любитель"},"statistics":{"commentsCount":6,"favoritesCount":15,"readingCount":1875,"score":15,"votesCount":17},"hubs":[{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21912","alias":"biotech","type":"collective","title":"Биотехнологии","titleHtml":"Биотехнологии","isProfiled":false},{"relatedData":null,"id":"21946","alias":"video_tech","type":"collective","title":"Видеотехника","titleHtml":"Видеотехника","isProfiled":false},{"relatedData":null,"id":"21968","alias":"physics","type":"collective","title":"Физика","titleHtml":"Физика","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНекоторое время назад я планировал разместить здесь откровенно антирелигиозную статью и пройтись по излюбленному примеру креационистов, связанному с \u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9D%D0%B5%D1%87%D0%BB%D0%B5%D0%BD%D0%B8%D0%BC%D0%B0%D1%8F_%D1%81%D0%BB%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D1%8C\" rel=\"noopener noreferrer nofollow\"\u003Eнечленимой сложностью\u003C\u002Fa\u003E. Я хотел разобрать казус с отказом признавать эволюцию глаз, но обнаружил на Хабре \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F387101\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eпревосходную статью\u003C\u002Fa\u003E Вячеслава Пуговкина @\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fusers\u002Fra3vdx\u002F\" rel=\"noopener noreferrer nofollow\"\u003Era3vdx\u003C\u002Fa\u003E, в которой разобрана именно эта проблема. Поэтому я решил изменить акценты и развернуть не менее интересную тему: рассказать об устройстве и бионическом потенциале фасеточного глаза. Давайте об этом поговорим – и начну я, пожалуй, с ваятельницы Лин, главной героини гротескного романа, написанного Чайной Мьевилем. \u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbd1\u002Fe25\u002F23a\u002Fbd1e2523aa1cbf2a4cf144122e6f1382.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbd1\u002Fe25\u002F23a\u002Fbd1e2523aa1cbf2a4cf144122e6f1382.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"бионика"},{"titleHtml":"фотоника"},{"titleHtml":"омматидии"},{"titleHtml":"оптика"},{"titleHtml":"обработка изображений"}]},"580670":{"id":"580670","timePublished":"2021-09-29T14:10:51+00:00","isCorporative":true,"lang":"ru","titleHtml":"Книга «Head First. Паттерны проектирования. 2-е издание»","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"224938","alias":"ph_piter","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3be\u002Fb11\u002F2b0\u002F3beb112b076924a916b27c845d88dcfa.jpg","speciality":""},"statistics":{"commentsCount":2,"favoritesCount":17,"readingCount":1385,"score":10,"votesCount":12},"hubs":[{"relatedData":null,"id":"17823","alias":"piter","type":"corporative","title":"Блог компании Издательский дом «Питер»","titleHtml":"Блог компании Издательский дом «Питер»","isProfiled":false},{"relatedData":null,"id":"19309","alias":"lib","type":"collective","title":"Профессиональная литература","titleHtml":"Профессиональная литература","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fpiter\u002Fblog\u002F580670\u002F\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fqm\u002Fo2\u002Fdv\u002Fqmo2dvwky-a0xbkvd8bibs8x8yu.jpeg\" align=\"left\" alt=\"image\"\u003E\u003C\u002Fa\u003E Привет, Хаброжители! Не имеет смысла каждый раз изобретать велосипед, лучше сразу освоить приемы проектирования, которые уже созданы людьми, сталкивавшимися с аналогичными задачами. В этой книге рассказано, какие паттерны действительно важны, когда и при каких условиях ими необходимо пользоваться, как применить их в ваших проектах и на каких принципах объектно-ориентированного проектирования они построены. Присоединяйтесь к сотням тысяч разработчиков, которые повысили свою квалификацию объектно-ориентированного проектирования благодаря книге «Head First. Паттерны проектирования». Если вы уже читали книги из серии Head First, то знаете, что вас ждет визуально насыщенный формат, разработанный с учетом особенностей работы мозга. В книге «Head First. Паттерны проектирования» принципы и паттерны проектирования представлены так, чтобы вы не заснули, читая книгу, научились решать реальные задачи проектирования программных продуктов и общаться на языке паттернов с другими участниками вашей команды.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"книга"}]},"580712":{"id":"580712","timePublished":"2021-09-29T13:52:08+00:00","isCorporative":true,"lang":"ru","titleHtml":"You shall not pass, или Как мы настроили мониторинг тестовых окружений","editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null}],"author":{"id":"935992","alias":"test_rt","fullname":"Раиса Липатова","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F4bb\u002F038\u002Fd29\u002F4bb038d294229bb40faab38d76913ee1.jpg","speciality":"Sr. QA"},"statistics":{"commentsCount":0,"favoritesCount":8,"readingCount":635,"score":13,"votesCount":13},"hubs":[{"relatedData":null,"id":"22105","alias":"dins","type":"corporative","title":"Блог компании DINS","titleHtml":"Блог компании DINS","isProfiled":false},{"relatedData":null,"id":"92","alias":"instant_messaging","type":"collective","title":"Мессенджеры","titleHtml":"Мессенджеры","isProfiled":true},{"relatedData":null,"id":"210","alias":"it_testing","type":"collective","title":"Тестирование IT-систем","titleHtml":"Тестирование IT-систем","isProfiled":true},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр! Меня зовут Раиса. Я работаю в компании DINS старшим инженером по нагрузочному тестированию. Сегодня я хочу поговорить об энваройнментах. Ни для кого не секрет, что энвайронмент (environment) — это основная рабочая площадка тестировщика. Если у программиста — это любимая IDE, то у тестировщика — милый и родной энвайронмент.\u003C\u002Fp\u003E\u003Cp\u003EНо что делать, если энв (здесь и далее энв, энвайронмент, окружение, стенд, подразумевают одно и то же) общедоступный? То есть и разработчики, и тестировщики, и даже другие команды, админы и прочие могут прийти и что-то на энве изменить, случайно или специально. Так было и у нас, но потом мы настроили мониторинг для наших окружений и теперь живем мирно и счастливо. Далее расскажу, как это было.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4ce\u002Ff26\u002Fb65\u002F4cef26b6572582e04c4c2b6753b881cc.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4ce\u002Ff26\u002Fb65\u002F4cef26b6572582e04c4c2b6753b881cc.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"тестирование"},{"titleHtml":"environment"},{"titleHtml":"environment variables"},{"titleHtml":"environment subsystems"},{"titleHtml":"environment management"},{"titleHtml":"стенд"},{"titleHtml":"messanger"},{"titleHtml":"webhook"},{"titleHtml":"notifications"},{"titleHtml":"qa"}]},"580724":{"id":"580724","timePublished":"2021-09-29T14:59:10+00:00","isCorporative":true,"lang":"ru","titleHtml":"Прекрасный безнал будущего. Как (и когда) изменится мир без наличных денег","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"17393","alias":"shushurikhin","fullname":"Вячеслав Шушурихин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fe37\u002Fc4a\u002F8bb\u002Fe37c4a8bb67bc6140545113cac8326f0.jpg","speciality":"Редактор"},"statistics":{"commentsCount":13,"favoritesCount":8,"readingCount":1779,"score":10,"votesCount":26},"hubs":[{"relatedData":null,"id":"14740","alias":"selectel","type":"corporative","title":"Блог компании Selectel","titleHtml":"Блог компании Selectel","isProfiled":false},{"relatedData":null,"id":"20688","alias":"research","type":"collective","title":"Исследования и прогнозы в IT","titleHtml":"Исследования и прогнозы в IT","isProfiled":false},{"relatedData":null,"id":"21928","alias":"finance","type":"collective","title":"Финансы в IT","titleHtml":"Финансы в IT","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false},{"relatedData":null,"id":"22026","alias":"itcompanies","type":"collective","title":"IT-компании","titleHtml":"IT-компании","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fsp\u002F1b\u002F8w\u002Fsp1b8wta8gwkxahkynra5iau5dy.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nВозможно, скоро одной из популярных тем для разговоров станет — «А помните были такие, наличные деньги?» Люди будут напрягать память и не понимать, зачем брать в руки невесть где побывавшие (и часто откровенно грязные) кусочки бумаги и металла? Пока мы продолжаем использовать наличку, самое время зафиксировать момент и посмотреть в будущее. Каким оно будет? Что же с нами станет?\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"финансы"},{"titleHtml":"деньги"},{"titleHtml":"криптовалюты"},{"titleHtml":"будущее"},{"titleHtml":"технологии"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["580582","579972","578690","580392","579530","579626","580118","580618","580604","580588","580572","580620","579106","580712","578342","579840","580314","580444","580724","580670"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":3},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["315962","103447","65295"],"similarListRefs":{"65295":{"id":"65295","timePublished":"2009-07-24T08:40:10+00:00","isCorporative":false,"lang":"ru","titleHtml":"Internet Explorer + Flash Player + IE Skype Add-on = Memory Leak","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"21312","alias":"AlDev","fullname":"Александр Бацуев","avatarUrl":null,"speciality":null},"statistics":{"commentsCount":37,"favoritesCount":5,"readingCount":2154,"score":66,"votesCount":74},"hubs":[{"id":"6258","alias":"flash_platform","type":"collective","title":"Adobe Flash","titleHtml":"Adobe Flash","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"В течении нескольких лет мы (\u003Ca href=\"http:\u002F\u002Fanychart.com\"\u003Eanychart.com\u003C\u002Fa\u003E) периодически получаем баг-репорты, суть которых сводится к тому, что память в Internet Explorer 6\u002F7 (и Flash Player 9\u002F10 в нем) ужасно течет при рефреше страницы. Долго и упорно мы пытались найти решение этой проблемы, теряли клиентов, не спали ночами. Со временем IE + Flash Player стали моим ночным кошмаром. Мы материли и Adobe и Microsoft, но никак не могли подумать, что они тут не при чем.\u003Cbr\u002F\u003E\r\nСегодня случилось чудо. При очередном тесте на двух одинаковых машинах появилась разница — на одной утечка памяти была, на другой нет. Долгий и упорный brainstorming нашел корень всех зол. Им оказался… Internet Explorer Skype add-on!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n-----\u003Cbr\u002F\u003E\r\n\u003Cb\u003EUpdate:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nСо мной связались из скайпа. Добовление к посту\u003Cbr\u002F\u003E\r\nPeter Kalmström, PM Skype Toolbars: \u003Cbr\u002F\u003E\r\n1. This is how you disable only the add-on \u003Ca href=\"http:\u002F\u002Fwww.screencast.com\u002Ft\u002FBrlWxmckTd3\"\u003Ewww.screencast.com\u002Ft\u002FBrlWxmckTd3\u003C\u002Fa\u003E. We don't want users removing Skype\u003Cbr\u002F\u003E\r\n2. We are working closely with Skype to get a fix out asap — watch this space!\u003Cbr\u002F\u003E\r\n-----\u003Cbr\u002F\u003E\r\n\u003Cb\u003EOne more update:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nПост на английском в нашем блоге: \u003Ca href=\"http:\u002F\u002Fwww.anychart.com\u002Fblog\u002F2009\u002F07\u002F27\u002Fanychart-has-discovered-bug-in-skype-skype-promises-to-fix-it-asap-2\u002F\"\u003Ewww.anychart.com\u002Fblog\u002F2009\u002F07\u002F27\u002Fanychart-has-discovered-bug-in-skype-skype-promises-to-fix-it-asap-2\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДалее были проведены эксперименты, которые показали, что при установленном Skype add-on-е память растет при каждом рефреше\u002Fзакрытии страницы с ЛЮБОЙ! swf-кой.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак, подтверждение диагноза.\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"103447":{"id":"103447","timePublished":"2010-09-03T09:33:15+00:00","isCorporative":true,"lang":"ru","titleHtml":"Gcc vs Intel C++ Compiler: собираем FineReader Engine for Linux","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"57573","alias":"EugeneEgorov","fullname":"Евгений Егоров","avatarUrl":null,"speciality":null},"statistics":{"commentsCount":55,"favoritesCount":19,"readingCount":24657,"score":51,"votesCount":55},"hubs":[{"id":"5027","alias":"abbyy","type":"corporative","title":"Блог компании ABBYY","titleHtml":"Блог компании ABBYY","isProfiled":false}],"flows":[],"relatedData":null,"leadData":{"textHtml":"Предпосылкой к написанию данной статьи было вполне естественное желание улучшить производительность FineReader Engine. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСуществует мнение, что компилятор от Intel производит гораздо более быстрый код, чем gcc. И ведь было бы неплохо увеличить скорость распознавания \u003Cs\u003Eничего не сделав\u003C\u002Fs\u003E просто собрав FR Engine другим компилятором. ","imageUrl":null,"buttonTextHtml":"Что из этого получилось?","image":null},"status":"published","plannedPublishTime":null,"checked":null},"315962":{"id":"315962","timePublished":"2016-11-23T14:08:44+00:00","isCorporative":true,"lang":"ru","titleHtml":"Релиз CLion 2016.3: улучшения поддержки C11, C++11 и C++14, изменения в работе с проектной моделью CMake и многое другое","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"472304","alias":"anastasiak2512","fullname":"Казакова Анастасия","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F9a8\u002Fde0\u002Fe9e\u002F9a8de0e9eb6f367daeeac57a87124060.jpg","speciality":"Разработчик и ПММ"},"statistics":{"commentsCount":57,"favoritesCount":33,"readingCount":10170,"score":23,"votesCount":25},"hubs":[{"id":"7575","alias":"JetBrains","type":"corporative","title":"Блог компании JetBrains","titleHtml":"Блог компании JetBrains","isProfiled":false},{"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"id":"17717","alias":"c","type":"collective","title":"C","titleHtml":"C","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"Привет, Хабр! Год потихоньку подходит к концу, кто-то уже готовится к праздничным мероприятиям, а кто-то еще старается завершить все задуманное. А мы вот выпустили \u003Cb\u003Eтретий за этот год релиз нашей кросс-платформенной IDE для разработки на C и C++\u003C\u002Fb\u003E. Оглядываясь назад (и подводя итоги, как принято делать накануне нового года), нам кажется, что за 2016 год CLion существенно вырос и стал гораздо более зрелым:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EКак в плане языковой поддержки (variadic templates, auto-import и просто многочисленные исправления в части анализа кода),\u003C\u002Fli\u003E\r\n\u003Cli\u003EТак и в плане разнообразных возможностей, повышающих продуктивность разработки (новые опции кодогенерации, complete statement, рефакторинги в CMake),\u003C\u002Fli\u003E\r\n\u003Cli\u003EНовых языков (Python, Swift),\u003C\u002Fli\u003E\r\n\u003Cli\u003EНу и, конечно, инструментов, сопутствующих разработке на C и C++ (удаленная отладка и отладка процессов, запущенных не из IDE на локальной машине, поддержка формата документации кода Doxygen, множество улучшений в работе с системами контроля версий).\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nМы старались прислушиваться к нашим пользователям (насколько это было возможно) и ориентироваться на их запросы. Версия 2016.3 не стала исключением и принесла множество долгожданных улучшений:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EПомимо недостающих возможностей C++11, мы смогли, наконец, начать поддержку возможностей стандартов C++14 и C11.\u003C\u002Fli\u003E\r\n\u003Cli\u003EПереработанный подход к работе с проектной моделью CMake решил много сложностей, с которыми сталкивались наши пользователи (от невозможности изменить директорию, в которой запускается генерация CMake, до проблем с производительностью и потреблением памяти).\u003C\u002Fli\u003E\r\n\u003Cli\u003EУдаленная отладка возможна теперь и на платформе Windows.\u003C\u002Fli\u003E\r\n\u003Cli\u003EВ редакторе появилась семантическая подсветка.\u003C\u002Fli\u003E\r\n\u003Cli\u003EПовышена производительность при повторной индексации проектов на базе Unreal Engine, а еще мы изучили текущее состояние стороннего плагина для генерации CMake для проектов на UE4 и написали об этом \u003Ca href=\"https:\u002F\u002Fblog.jetbrains.com\u002Fclion\u002F2016\u002F10\u002Fclion-and-ue4\u002F\"\u003Eцелый отдельный пост\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\r\n\u003Cli\u003EМножество других улучшений и изменений.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F41c\u002F96e\u002Ff72\u002F41c96ef729856afbe28567560d7db892.png\" alt=\"image\" width=\"506\" height=\"253\" \u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nА теперь обо всем по порядку.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"andrewsch":{"scoreStats":{"score":22,"votesCount":54},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"60703","alias":"andrewsch","fullname":"Андрей Щетинин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3f1\u002F1f2\u002Ff5e\u002F3f11f2f5e52d98f941ff015d09be8722.jpg","speciality":null}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
