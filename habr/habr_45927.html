<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Основы портлетов / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/45927\/"},"headline":"Основы портлетов","datePublished":"2008-12-01T18:54:21+03:00","dateModified":"2008-12-01T18:54:21+03:00","author":{"@type":"Person","name":"Гобозов Георгий"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно &mdash; это технология портлетов. Хотя на хабре уже е...","url":"https:\/\/habr.com\/ru\/post\/45927\/#post-content-body","about":["h_java","f_develop"],"image":["http:\/\/pic.ipicture.ru\/uploads\/081201\/thumbs\/pvWGMAfTWP.jpg","http:\/\/pic.ipicture.ru\/uploads\/081201\/thumbs\/ldgT6i253r.jpg","http:\/\/pic.ipicture.ru\/uploads\/081201\/thumbs\/gc9Pz6hSNV.jpg","http:\/\/pic.ipicture.ru\/uploads\/081201\/thumbs\/ee4fMRDOkY.jpg","http:\/\/pic.ipicture.ru\/uploads\/081201\/thumbs\/xzKBH2n2P5.jpg"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Основы портлетов" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Основы портлетов" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Основы портлетов" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология портлетов. Хотя на хабре уже есть пара упоминаний о портлетах, но там..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология портлетов. Хотя на хабре уже есть пара упоминаний о портлетах, но там..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология портлетов. Хотя на хабре уже есть пара упоминаний о портлетах, но там..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология портлетов. Хотя на хабре уже есть пара упоминаний о портлетах, но там..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология портлетов. Хотя на хабре уже есть пара упоминаний о портлетах, но там..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/45927/8f57e4e74c347934a3f344fd271e0cd1/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/45927/8f57e4e74c347934a3f344fd271e0cd1/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/45927/8f57e4e74c347934a3f344fd271e0cd1/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/45927/8f57e4e74c347934a3f344fd271e0cd1/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/45927/8f57e4e74c347934a3f344fd271e0cd1/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="45927" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2008-12-01T15:54:21.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/45927/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/45927/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/45927/8f57e4e74c347934a3f344fd271e0cd1/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/garbuz/" title="garbuz" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/a47/ea4/3cc/a47ea43cc77a140fbea48cca56fb5be5.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/garbuz/" class="tm-user-info__username">
      garbuz
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2008-12-01T15:54:21.000Z" title="2008-12-01, 18:54">1  декабря  2008 в 18:54</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Основы портлетов</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/java/" class="tm-article-snippet__hubs-item-link"><span>Java</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология <a href="http://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D1%80%D1%82%D0%BB%D0%B5%D1%82">портлетов</a>. Хотя на хабре уже есть пара упоминаний о портлетах, но там ничего внятного я не нашел. Поэтому решил написать свою статью, где хочу показать на практике как программировать портлеты. При этом попутно вставляя какие-то теоретические сведения. А принимая во внимание, то, что документации на русском крайне мало, то рассказать об этом хочется вдвойне :)<br/>
<a name="habracut"></a><br/>
Чтобы быть немного в курсе дела, нам потребуется несколько определений:<br/>
<br/>
Портал в простейшем его рассмотрении — это программная платформа, содержащая портлет-контейнер, который в свою очередь поддерживает <a href="http://portals.apache.org/pluto/portlet-1.0-apidocs/">Portlet API</a> и позволяет нам запускать портлеты. Так же помомо этого, портал обычно предоставляет средства для управления группами и пользователями, а так же широкие возможности их кастомизации.<br/>
<br/>
Портлет — это отдельное небольшое веб-приложение, которое выполняется на портале, портал в свою очередь агрегирует один или несколько портлетов на отдельной веб странице, которые обычно настраиваются для для отдельных пользователей и групп портала. В итоге мы получаем обычную веб-страницу, наполненную несколькими веб-приложениями. И еще, портлеты имеют много аналогий с сервлетами, я думаю, что многие, кто вообще в курсе дела, это заметят. Лишний раз проводить аналогии и останавливаться на этом не буду.<br/>
<br/>
В этой статье буду описывать разработку портлетов в рамках спецификации <a href="http://jcp.org/en/jsr/detail?id=168">JSR 168</a>, но не буду рассказывать о выборе портала, о его установке, деплое портлетов и т.п. Сразу скажу, что разрабатывал приложение на <a href="http://www-01.ibm.com/software/websphere/portal/">IBM Web Sphere Portal 6</a>. Если кто-то расскажет об особенностях разработки и деплоя на других порталах типа Jboss Portal или еще какого, то буду очень признателен :)<br/>
<br/>
Итак приступим к разработке, а разрабатывать мы будем… на самом деле долго думал, что лучше привести как пример, хотел, чтобы пример не был чем-то тривиальным типа Hello World, хотел чтобы портлету нашлось практическое применение и выбор мой пал на портлет для агрегации <a href="http://ru.wikipedia.org/wiki/RSS">RSS</a>. А что? Актульно!<br/>
<br/>
Итак, наше мини ТЗ:<br/>
 Необходимо написать портлет, который будет собирать rss с различных каналов и отображать его. При этом каждому пользователю портала мы предоставим возможность самому настраивать портлет под свои нужды, т.е. создавать и удалять отображаемые каналы, а так же устанавливать количество новостей с каждого канала и частоту их обновления.<br/>
<br/>
Сперва давайте создадим список классов, библиотек и jsp-шек, которые потребуются нам для нашего приложения:<br/>
<br/>
1) HabraRssPortlet — собственно сам класс портлета.<br/>
2) RssUtil — класс для работы с RSS.<br/>
3) rssutils — библиотека (конечно можно и самому парсер написать, но это займет время и наверняка сразу хорошо не получится — проверено опытом)<br/>
3) HabraRssPortletView.jsp — для отображения Rss.<br/>
4) HabraRssPortletEdit.jsp — для конфигурирования портлета пользователем.<br/>
5) HabraRssPortletHelp.jsp — где будет что-то типа «About»<br/>
6) portlet.xml и web.xml — ну я думаю понятно для чего…<br/>
<br/>
Погнали!<br/>
<br/>
Хочу начать с дескриптора развертывания portlet.xml дабы объяснить некоторые моменты, которые понадобятся нам позже, дескриптор web.xml приводит тут не буду, там все до боли просто. Если кому-то интересно, то его можно всегда взглянуть в аттаче.<br/>
<br/>
<strong>portlet.xml</strong><br/>
<code><code><a href="http://java.sun.com/xml/ns/portlet/portlet-app_1_0.xsd"></a><a href="http://www.vz.ru/rss.xml"></a><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a><blockquote><font color="black"><font color="#0000ff">&lt;?</font><font color="#800000">xml</font> <font color="#ff0000">version</font><font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font><font color="#0000ff">="UTF-8"</font>?<font color="#0000ff">></font>&lt;br><font color="#0000ff">&lt;</font><font color="#800000">portlet-app</font> <font color="#ff0000">xmlns</font><font color="#0000ff">="http://java.sun.com/xml/ns/portlet/portlet-app_1_0.xsd"</font> <font color="#ff0000">version</font><font color="#0000ff">="1.0"</font> <font color="#ff0000">xmlns:xsi</font><font color="#0000ff">="http://www.w3.org/2001/XMLSchema-instance"</font> <font color="#ff0000">xsi:schemaLocation</font><font color="#0000ff">="http://java.sun.com/xml/ns/portlet/portlet-app_1_0.xsd java.sun.com/xml/ns/portlet/portlet-app_1_0.xsd"</font> <font color="#ff0000">id</font><font color="#0000ff">="ru.habrahabr.rssportlet.HabraRssPortlet.a97fbe5bd1"</font><font color="#0000ff">></font>&lt;br>    <font color="#0000ff">&lt;</font><font color="#800000">portlet</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">portlet-name</font><font color="#0000ff">></font>HabraRssPortlet<font color="#0000ff">&lt;/</font><font color="#800000">portlet-name</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">display-name</font><font color="#0000ff">></font>HabraRssPortlet<font color="#0000ff">&lt;/</font><font color="#800000">display-name</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">display-name</font> <font color="#ff0000">xml:lang</font><font color="#0000ff">="ru"</font><font color="#0000ff">></font>HabraRssPortlet<font color="#0000ff">&lt;/</font><font color="#800000">display-name</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">portlet-class</font><font color="#0000ff">></font>ru.habrahabr.rssportlet.HabraRssPortlet<font color="#0000ff">&lt;/</font><font color="#800000">portlet-class</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">init-param</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">name</font><font color="#0000ff">></font>wps.markup<font color="#0000ff">&lt;/</font><font color="#800000">name</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">value</font><font color="#0000ff">></font>html<font color="#0000ff">&lt;/</font><font color="#800000">value</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;/</font><font color="#800000">init-param</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">expiration-cache</font><font color="#0000ff">></font>0<font color="#0000ff">&lt;/</font><font color="#800000">expiration-cache</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">supports</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">mime-type</font><font color="#0000ff">></font>text/html<font color="#0000ff">&lt;/</font><font color="#800000">mime-type</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>view<font color="#0000ff">&lt;/</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>edit<font color="#0000ff">&lt;/</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>config<font color="#0000ff">&lt;/</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>help<font color="#0000ff">&lt;/</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;/</font><font color="#800000">supports</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">supported-locale</font><font color="#0000ff">></font>ru<font color="#0000ff">&lt;/</font><font color="#800000">supported-locale</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">resource-bundle</font><font color="#0000ff">></font>ru.habrahabr.rssportlet.nl.HabraRssPortletResource<font color="#0000ff">&lt;/</font><font color="#800000">resource-bundle</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">portlet-info</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">title</font><font color="#0000ff">></font>HabraRssPortlet<font color="#0000ff">&lt;/</font><font color="#800000">title</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">short-title</font><font color="#0000ff">></font>HabraRssPortlet<font color="#0000ff">&lt;/</font><font color="#800000">short-title</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">keywords</font><font color="#0000ff">></font>HabraRssPortlet<font color="#0000ff">&lt;/</font><font color="#800000">keywords</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;/</font><font color="#800000">portlet-info</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">portlet-preferences</font><font color="#0000ff">></font>&lt;br>            &lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">preference</font><font color="#0000ff">></font>&lt;br>                <font color="#0000ff">&lt;</font><font color="#800000">name</font><font color="#0000ff">></font>updateFrequency<font color="#0000ff">&lt;/</font><font color="#800000">name</font><font color="#0000ff">></font>&lt;br>                <font>&lt;!-- in minutes --></font>&lt;br>                <font color="#0000ff">&lt;</font><font color="#800000">value</font><font color="#0000ff">></font>10<font color="#0000ff">&lt;/</font><font color="#800000">value</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;/</font><font color="#800000">preference</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">preference</font><font color="#0000ff">></font>&lt;br>                <font color="#0000ff">&lt;</font><font color="#800000">name</font><font color="#0000ff">></font>itemQuantity<font color="#0000ff">&lt;/</font><font color="#800000">name</font><font color="#0000ff">></font>&lt;br>                <font color="#0000ff">&lt;</font><font color="#800000">value</font><font color="#0000ff">></font>3<font color="#0000ff">&lt;/</font><font color="#800000">value</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;/</font><font color="#800000">preference</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;</font><font color="#800000">preference</font><font color="#0000ff">></font>&lt;br>                <font color="#0000ff">&lt;</font><font color="#800000">name</font><font color="#0000ff">></font>rssLinks<font color="#0000ff">&lt;/</font><font color="#800000">name</font><font color="#0000ff">></font>&lt;br>                <font color="#0000ff">&lt;</font><font color="#800000">value</font><font color="#0000ff">></font>www.vz.ru/rss.xml<font color="#0000ff">&lt;/</font><font color="#800000">value</font><font color="#0000ff">></font>&lt;br>            <font color="#0000ff">&lt;/</font><font color="#800000">preference</font><font color="#0000ff">></font>&lt;br>&lt;br>        <font color="#0000ff">&lt;/</font><font color="#800000">portlet-preferences</font><font color="#0000ff">></font>&lt;br>    <font color="#0000ff">&lt;/</font><font color="#800000">portlet</font><font color="#0000ff">></font>&lt;br>    <font color="#0000ff">&lt;</font><font color="#800000">custom-portlet-mode</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>config<font color="#0000ff">&lt;/</font><font color="#800000">portlet-mode</font><font color="#0000ff">></font>&lt;br>    <font color="#0000ff">&lt;/</font><font color="#800000">custom-portlet-mode</font><font color="#0000ff">></font>&lt;br><font color="#0000ff">&lt;/</font><font color="#800000">portlet-app</font><font color="#0000ff">></font>&lt;br></font>&lt;br><font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font>.</font></blockquote><br/>
</code><br/>
<ul>
<li><strong>portlet-app</strong> — главный элемент дескриптора развертывания, должен содержать как минимум два атрибута: версия и идентификатор + сслки на схемы, описывающие данный xml. Так же внутри элемента <strong>portlet-app</strong> могут содержаться объявления портлетов, кастомные режимы и состояния портлета.</li>
<li><strong>portlet</strong> — данный элемент представляет класс портлета и все его метаданные</li>
<li><strong>portlet-name</strong> — имя портлета</li>
<li><strong>display-name</strong> — отображаемое имя портлета</li>
<li><strong>portlet-class</strong> — класс портлета, указывается вместе со структурой пакетов</li>
<li><strong>init-param</strong> — параметры инициализации портлета</li>
<li><strong>expiration-cache</strong> — таймаут кэша</li>
<li><strong>supports</strong> — поддерживаемые режимы и mime типы</li>
<li><strong>supported-locale</strong> — поддерживаемые локали</li>
<li><strong>resource-bundle</strong> — класса отвечающий за метаданные, которые находятся в bundle</li>
<li><strong>portlet-info</strong> — информация о портлете. Если присутствует bundle, то эту информацию можно вынести в него.</li>
<li><strong>portlet-preferences</strong> — являются неким хранилищем, именно там мы и будем сохранять ссылки на Rss, период обновления и количество новостей с каждого канала. Опциональным для этого элемента является элемент preferences-validator, который в свою очередь занимается проверкой preferences. Хочу заметить, preferences не обязательно указывать в дескрипторе, их можно создать и программно во время работы программы. </li>
<li><strong>custom-portlet-mode</strong> — кастомные режимы портлетов, тут я для примера включил режим config, хотя использовать его не будем</li>
</ul><br/>
<br/>
Ниже приведен основной класс нашего приложения — <strong>HabraRssPortlet</strong>, который является потомком класса <strong>GenericPortlet</strong>, а он в свою очередь является абстрактным классом и обеспечивает дефолтную имплементацию интерфейса Portlet. Все тот же GenericPortlet обеспечивает поддержку несколько режимов: <strong>VIEW, EDIT, HELP</strong>, еще иногда бывают кастомные режимы типа CONFIG, но это уже зависит от конкретной реализации портала. Для конечного пользователя все три режима чаще всего представлены различной отображаемой информацией и доступным функционалом в том или ином режиме. Переход между режимами осуществляется либо через меню портлета, либо через кнопки/ссылки. Обычно у любого класса портлета перегружаются несколько методов, чаще всего это методы <strong>doView, doEdit и doHelp</strong>, каждый из которых и отвечает за соответствующий режим.<br/>
<br/>
<strong>HabraRssPortlet.java</strong><br/>
<code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a><blockquote><font color="black">package ru.habrahabr.rssportlet;<br/>
<br/>
import java.io.*;<br/>
import java.util.*;<br/>
import javax.portlet.*;<br/>
<br/>
<font color="#0000ff">public</font> <font color="#0000ff">class</font> HabraRssPortlet extends GenericPortlet {<br/>
<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> JSP_FOLDER    = <font color="#A31515">"/_HabraRssPortlet/jsp/"</font>; <br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> VIEW_JSP     = <font color="#A31515">"HabraRssPortletView"</font>; <br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> EDIT_JSP     = <font color="#A31515">"HabraRssPortletEdit"</font>; <br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> HELP_JSP     = <font color="#A31515">"HabraRssPortletHelp"</font>; <br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> CONFIG_JSP    = <font color="#A31515">"HabraRssPortletConfig"</font>; <br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> RSS_LINKS    = <font color="#A31515">"rssLinks"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> UPDATE_FREQUENCY = <font color="#A31515">"updateFrequency"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> ITEM_QUANTITY  = <font color="#A31515">"itemQuantity"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> NEW_RSS_LINK   = <font color="#A31515">"newRssLink"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> ADD_NEW_RSS_LINK = <font color="#A31515">"addNewRssLink"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> DELETE_RSS_LINK = <font color="#A31515">"deleteRssLink"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> RSS_LINKS_LIST  = <font color="#A31515">"rssLinksList"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> FREQUENCY     = <font color="#A31515">"frequency"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> QUANTITY     = <font color="#A31515">"quantity"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> SET_FREQUENCY  = <font color="#A31515">"setFrequency"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> SET_QUANTITY   = <font color="#A31515">"setQuantity"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> ERROR_MESSAGE  = <font color="#A31515">"errorMessage"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> UPDATE_FEEDS   = <font color="#A31515">"updateFeeds"</font>;<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">static</font> final <font color="#2B91AF">String</font> EDIT_BACK     = <font color="#A31515">"editBack"</font>;<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> HashMap rssMap    = <font color="#0000ff">new</font> HashMap();<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> HashMap updateTimeMap = <font color="#0000ff">new</font> HashMap();<br/>
<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">void</font> doView(RenderRequest request, RenderResponse response)throws PortletException, IOException {<br/>
    response.setContentType(request.getResponseContentType());<br/>
    PortletPreferences preferences = request.getPreferences();<br/>
    <br/>
    <font color="#0000ff">if</font> (!rssMap.containsKey(request.getUserPrincipal().getName())){<br/>
      rssMap.put(request.getUserPrincipal().getName(), <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font>());<br/>
      updateTimeMap.put(request.getUserPrincipal().getName(), <font color="#0000ff">new</font> Long(0));<br/>
      <br/>
    }<br/>
        <br/>
    <font color="#0000ff">if</font> (RssUtil.checkUpdateTime(getLastUpdateTime(request), preferences)) {<br/>
      <font color="#2B91AF">ArrayList</font> rssItems = (<font color="#2B91AF">ArrayList</font>)rssMap.<font color="#0000ff">get</font>(request.getUserPrincipal().getName());<br/>
      rssItems.clear();<br/>
      rssItems = RssUtil.updateRssFeeds(preferences);<br/>
      System.<font color="#0000ff">out</font>.println(<font color="#A31515">"News for user "</font> + request.getUserPrincipal().getName() + <font color="#A31515">" updated!"</font>);<br/>
      rssMap.put(request.getUserPrincipal().getName(), rssItems);<br/>
      setLastUpdateTime(request);<br/>
      <br/>
    } <br/>
        <br/>
    <font color="#0000ff">int</font> interval = Integer.parseInt(preferences.getValue(UPDATE_FREQUENCY, <font color="#A31515">"60"</font>));<br/>
    System.<font color="#0000ff">out</font>.println(<font color="#A31515">"Time befor update (in seconds) = "</font> + ((interval * 60) - ((System.currentTimeMillis() - getLastUpdateTime(request).longValue()) / 1000 )));<br/>
    <br/>
    request.setAttribute(<font color="#A31515">"rssMap"</font>, rssMap.<font color="#0000ff">get</font>(request.getUserPrincipal().getName()));<br/>
    PortletRequestDispatcher rd = getPortletContext().getRequestDispatcher(getJspFilePath(request, VIEW_JSP));<br/>
    rd.include(request, response);<br/>
  }<br/>
<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">void</font> doEdit(RenderRequest request, RenderResponse response)<br/>
      throws PortletException, IOException {<br/>
    response.setContentType(request.getResponseContentType());<br/>
    PortletRequestDispatcher rd = getPortletContext().getRequestDispatcher(<br/>
        getJspFilePath(request, EDIT_JSP));<br/>
    rd.include(request, response);<br/>
  }<br/>
<br/>
  <font color="#0000ff">protected</font> <font color="#0000ff">void</font> doHelp(RenderRequest request, RenderResponse response)<br/>
      throws PortletException, IOException {<br/>
    response.setContentType(request.getResponseContentType());<br/>
    PortletRequestDispatcher rd = getPortletContext().getRequestDispatcher(getJspFilePath(request, HELP_JSP));<br/>
    rd.include(request, response);<br/>
  }<br/>
<br/>
  <font color="#0000ff">public</font> <font color="#0000ff">void</font> processAction(ActionRequest request, ActionResponse response)<br/>
      throws PortletException, java.io.IOException {<br/>
    PortletPreferences preferences = request.getPreferences();<br/>
<br/>
    <font color="#0000ff">if</font> (request.getParameter(ADD_NEW_RSS_LINK) != <font color="#0000ff">null</font>) {<br/>
      <font color="#0000ff">if</font> (request.getParameter(NEW_RSS_LINK).trim().length() > 0) {<br/>
        <font color="#2B91AF">String</font>[] links = (<font color="#2B91AF">String</font>[]) preferences.getValues(HabraRssPortlet.RSS_LINKS, <font color="#0000ff">null</font>);<br/>
        <font color="#2B91AF">String</font> newLink = request.getParameter(NEW_RSS_LINK);<br/>
        preferences.setValues(RSS_LINKS, addToArray(links, newLink));<br/>
        preferences.store();<br/>
        System.<font color="#0000ff">out</font>.println(<font color="#A31515">">>>>>>>>>>>>>>>> New rss link added "</font> + newLink);<br/>
      } <font color="#0000ff">else</font> {<br/>
        response.setRenderParameter(ERROR_MESSAGE, <font color="#A31515">"Link must be not empty!"</font>);<br/>
      }<br/>
    }<br/>
<br/>
    <font color="#0000ff">if</font> (request.getParameter(DELETE_RSS_LINK) != <font color="#0000ff">null</font>) {<br/>
      <font color="#0000ff">if</font> (request.getParameter(RSS_LINKS_LIST) != <font color="#0000ff">null</font><br/>
          &amp;&amp; request.getParameter(RSS_LINKS_LIST).trim().length() > 0 ) {<br/>
        <font color="#2B91AF">String</font>[] links = (<font color="#2B91AF">String</font>[]) preferences.getValues(<br/>
            HabraRssPortlet.RSS_LINKS, <font color="#0000ff">null</font>);<br/>
        <font color="#2B91AF">String</font> deletedLink = request.getParameter(RSS_LINKS_LIST);<br/>
        <font color="#0000ff">if</font> (isFound(links, deletedLink)) {<br/>
          preferences.setValues(RSS_LINKS, deleteFromArray(links, deletedLink));<br/>
          preferences.store();<br/>
          System.<font color="#0000ff">out</font>.println(<font color="#A31515">">>>>>>>>>>>>>>>> Rss link deleted "</font> + deletedLink);<br/>
        }<br/>
      } <font color="#0000ff">else</font> {<br/>
        response.setRenderParameter(ERROR_MESSAGE, <font color="#A31515">"Choose a link!"</font>);<br/>
      }<br/>
    }<br/>
<br/>
    <font color="#0000ff">if</font> (request.getParameter(SET_FREQUENCY) != <font color="#0000ff">null</font>) {<br/>
      <font color="#0000ff">if</font> (request.getParameter(FREQUENCY).trim().length() > 0<br/>
          &amp;&amp; isDigit(request.getParameter(FREQUENCY))) {<br/>
        <font color="#2B91AF">String</font> frequency = request.getParameter(FREQUENCY);<br/>
        preferences.setValue(UPDATE_FREQUENCY, frequency);<br/>
        preferences.store();<br/>
        System.<font color="#0000ff">out</font>.println(<font color="#A31515">">>>>>>>>>>>>>>>> Frequency updated "</font> + frequency);<br/>
      } <font color="#0000ff">else</font> {<br/>
        response.setRenderParameter(ERROR_MESSAGE, <font color="#A31515">"Set valid frequency!"</font>);<br/>
      }<br/>
    }<br/>
<br/>
    <font color="#0000ff">if</font> (request.getParameter(SET_QUANTITY) != <font color="#0000ff">null</font>) {<br/>
      <font color="#0000ff">if</font> (request.getParameter(QUANTITY).trim().length() > 0<br/>
          &amp;&amp; isDigit(request.getParameter(QUANTITY))) {<br/>
        <font color="#2B91AF">String</font> quantity = request.getParameter(QUANTITY);<br/>
        preferences.setValue(ITEM_QUANTITY, quantity);<br/>
        preferences.store();<br/>
        System.<font color="#0000ff">out</font>.println(<font color="#A31515">">>>>>>>>>>>>>>>> Quantity updated "</font> + quantity);<br/>
      } <font color="#0000ff">else</font> {<br/>
        response.setRenderParameter(ERROR_MESSAGE, <font color="#A31515">"Set valid quantity!"</font>);<br/>
      }<br/>
    }<br/>
<br/>
    <font color="#0000ff">if</font> (request.getParameter(UPDATE_FEEDS) != <font color="#0000ff">null</font>) {<br/>
      <font color="#2B91AF">ArrayList</font> rssItems = (<font color="#2B91AF">ArrayList</font>)rssMap.<font color="#0000ff">get</font>(request.getUserPrincipal().getName());<br/>
      rssItems.clear();<br/>
      rssItems = RssUtil.updateRssFeeds(preferences);<br/>
      System.<font color="#0000ff">out</font>.println(<font color="#A31515">"News fo user "</font> + request.getUserPrincipal().getName() + <font color="#A31515">" updated!"</font>);<br/>
      rssMap.put(request.getUserPrincipal().getName(), rssItems);<br/>
      setLastUpdateTime(request);<br/>
    }<br/>
<br/>
    <font color="#0000ff">if</font> (request.getParameter(EDIT_BACK) != <font color="#0000ff">null</font>) {<br/>
      response.setPortletMode(PortletMode.VIEW);<br/>
    }<br/>
    <br/>
    <br/>
<br/>
  }<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> <font color="#2B91AF">String</font> getJspFilePath(RenderRequest request, <font color="#2B91AF">String</font> jspFile) {<br/>
    <font color="#2B91AF">String</font> markup = request.getProperty(<font color="#A31515">"wps.markup"</font>);<br/>
    <font color="#0000ff">if</font> (markup == <font color="#0000ff">null</font>)<br/>
      markup = getMarkup(request.getResponseContentType());<br/>
    <font color="#0000ff">return</font> JSP_FOLDER + markup + <font color="#A31515">"/"</font> + jspFile + <font color="#A31515">"."</font><br/>
        + getJspExtension(markup);<br/>
  }<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> <font color="#2B91AF">String</font> getMarkup(<font color="#2B91AF">String</font> contentType) {<br/>
    <font color="#0000ff">if</font> (<font color="#A31515">"text/vnd.wap.wml"</font>.equals(contentType))<br/>
      <font color="#0000ff">return</font> <font color="#A31515">"wml"</font>;<br/>
    <font color="#0000ff">else</font><br/>
      <font color="#0000ff">return</font> <font color="#A31515">"html"</font>;<br/>
  }<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> <font color="#2B91AF">String</font> getJspExtension(<font color="#2B91AF">String</font> markupName) {<br/>
    <font color="#0000ff">return</font> <font color="#A31515">"jsp"</font>;<br/>
  }<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> <font color="#2B91AF">String</font>[] addToArray(<font color="#2B91AF">String</font>[] array, <font color="#2B91AF">String</font> s) {<br/>
    <font color="#2B91AF">String</font>[] ans = <font color="#0000ff">new</font> <font color="#2B91AF">String</font>[array.length + 1];<br/>
    System.arraycopy(array, 0, ans, 0, array.length);<br/>
    ans[ans.length - 1] = s;<br/>
    <font color="#0000ff">return</font> ans;<br/>
  }<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> <font color="#2B91AF">String</font>[] deleteFromArray(<font color="#2B91AF">String</font>[] array, <font color="#2B91AF">String</font> s) {<br/>
    <font color="#2B91AF">String</font>[] ans = <font color="#0000ff">new</font> <font color="#2B91AF">String</font>[array.length - 1];<br/>
    <font color="#0000ff">int</font> addIndex = 0;<br/>
    <font color="#0000ff">for</font> (<font color="#0000ff">int</font> i = 0; i &lt; array.length; i++) {<br/>
      <font color="#0000ff">if</font> (array[i].equals(s)) {<br/>
        addIndex++;<br/>
        <font color="#0000ff">continue</font>;<br/>
      }<br/>
      ans[i - addIndex] = array[i];<br/>
    }<br/>
    <font color="#0000ff">return</font> ans;<br/>
  }<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> boolean isFound(<font color="#2B91AF">String</font>[] array, <font color="#2B91AF">String</font> s) {<br/>
    boolean found = <font color="#0000ff">false</font>;<br/>
    <font color="#0000ff">for</font> (<font color="#0000ff">int</font> i = 0; i &lt; array.length; i++) {<br/>
      <font color="#0000ff">if</font> (array[i].equals(s)) {<br/>
        found = <font color="#0000ff">true</font>;<br/>
        <font color="#0000ff">break</font>;<br/>
      }<br/>
    }<br/>
    <font color="#0000ff">return</font> found;<br/>
  }<br/>
<br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> boolean isDigit(<font color="#2B91AF">String</font> s) {<br/>
    <font color="#0000ff">char</font>[] array = s.toCharArray();<br/>
    <font color="#0000ff">for</font> (<font color="#0000ff">int</font> i = 0; i &lt; array.length; i++) {<br/>
      <font color="#0000ff">if</font> (!Character.isDigit(array[i])) {<br/>
        <font color="#0000ff">return</font> <font color="#0000ff">false</font>;<br/>
      }<br/>
    }<br/>
    <font color="#0000ff">return</font> <font color="#0000ff">true</font>;<br/>
  }<br/>
  <br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> Long getLastUpdateTime(PortletRequest request){<br/>
    <font color="#0000ff">return</font> (Long)updateTimeMap.<font color="#0000ff">get</font>(request.getUserPrincipal().getName());<br/>
  }<br/>
  <br/>
  <font color="#0000ff">private</font> <font color="#0000ff">static</font> <font color="#0000ff">void</font> setLastUpdateTime(PortletRequest request){<br/>
    updateTimeMap.put(request.getUserPrincipal().getName(), <font color="#0000ff">new</font> Long(System.currentTimeMillis()));<br/>
  }<br/>
  <br/>
  <br/>
}<br/>
</font><br/>
<font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font>.</font></blockquote><br/>
</code><br/>
Пройдемся по коду:<br/>
<br/>
С набором констант все ясно, далее мы создаем два статических объекта типа HashMap, — ключом ко всем значениям обеих карт служит имя конкретного пользователя портала, значением либо объект типа ArrayList, содержащий Rss-контент, либо объект типа Long, содержащий время последнего обновлнения каналов. Так как время жизни статической переменной портлета равно времени жизни самого портлета, то я решил хранить данние именно в них, а не персистить их куда-либо, тем более я вижу мало смысла в сохранении rss'a в какую-нибудь базу данных.<br/>
 <br/>
 Далее начинается то, о чем мы говорили чуть выше, а именно переопределение методов класса GenericPortlet:<br/>
 <br/>
 <strong>Метод doView:</strong> от объекта запроса получаем объект типа PortletPreferences, из которого в свою очередь можем вытащить нужное нам значение или же наоборот внести в него свое значение. Потом проверяем нашу первую карту на наличие в ней ключа с именем активного пользователя, если такого ключа нет, то заносим в обе карты пары ключ-значение, в одном случае значение — это объект ArrayList, в другом — объект Long, содержащий время последнего обновления. Далее проверяем, нужен ли нам апдейт новостей. Напомню, что для всех пользователей по умолчанию установлен один канал, одно и тоже количество новостей и время их обновления (см. portlet.xml) Итак, если пользователь зашел первый раз на страничку с нашим портлетом, то для него сразу же выполнится обновление канала, полученный rss-контент заносим в наш ArrayList, который мы получили из карты с rss-контентом по имени пользователя (ключ). Далее все просто — в запрос кладем все тот же ArrayList, вызываем PortletRequestDispatcher и перенаправляемся на jsp-страничку HabraRssPortletView, котрая и будет отображать наш rss-контент:<br/>
<br/>
<strong>HabraRssPortletView.jsp</strong><br/>
<code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a><blockquote><font color="black"><font>&lt;%@page session="false" contentType="text/html" pageEncoding="ISO-8859-1" import="java.util.*,javax.portlet.*,ru.habrahabr.rssportlet.*" %></font>&lt;br><font>&lt;%@taglib uri="http://java.sun.com/portlet" prefix="portlet" %></font>&lt;br><font>&lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %></font> &lt;br><font color="#0000ff">&lt;</font><font color="#800000">portlet:defineObjects</font><font color="#0000ff">/></font>&lt;br>&lt;br>&lt;br><font>&lt;%</font>&lt;br>    <font color="#0000ff">if</font> (request.getAttribute(<font color="#A31515">"rssMap"</font>) != <font color="#0000ff">null</font>){&lt;br>    <font>%></font>&lt;br>    &lt;br>    <font color="#0000ff">&lt;</font><font color="#800000">c:forEach</font> <font color="#ff0000">var</font><font color="#0000ff">="item"</font> <font color="#ff0000">items</font><font color="#0000ff">="${rssMap}"</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">p</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">b</font><font color="#0000ff">>&lt;</font><font color="#800000">a</font> <font color="#ff0000">href</font><font color="#0000ff">="${item.link}"</font><font color="#0000ff">></font>${item.title}<font color="#0000ff">&lt;/</font><font color="#800000">a</font><font color="#0000ff">>&lt;/</font><font color="#800000">b</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">span</font><font color="#0000ff">></font>${item.description}<font color="#0000ff">&lt;/</font><font color="#800000">span</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;/</font><font color="#800000">p</font><font color="#0000ff">></font>&lt;br>        <font color="#0000ff">&lt;</font><font color="#800000">hr</font><font color="#0000ff">></font>&lt;br>    <font color="#0000ff">&lt;/</font><font color="#800000">c:forEach</font><font color="#0000ff">></font>&lt;br>    &lt;br><font>&lt;%</font>&lt;br> } <font color="#0000ff">else</font> {&lt;br> <font>%></font>Error!!!!<font>&lt;%</font>&lt;br> }&lt;br><font>%></font></font>&lt;br>&lt;br><font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font>.</font></blockquote><br/>
</code><br/>
<br/>
На страничке из запроса получаем наш объект ArrayList, итерируем его с помощью JSTL и выводим наш Rss-контент.<br/>
<br/>
   <a href="http://ipicture.ru/Gallery/Viewfull/9764110.html"><img src="http://pic.ipicture.ru/uploads/081201/thumbs/pvWGMAfTWP.jpg" data-src="http://pic.ipicture.ru/uploads/081201/thumbs/pvWGMAfTWP.jpg" data-blurred="true"/></a><br/>
<strong>Метод doEdit:</strong> тут ничего особенного нет, так же вызываем PortletRequestDispatcher и переходим на jsp-страничку HabraRssPortletEdit. Вся логика зашита именно в ней, хоть это и не есть хорошо. Мы, конечно же, без проблем межем все это исправить :) Что же происходит на этой страничке? В скриплете с помощью все того же объекта PortletPreferences мы получаем необходимые нам значения, а именно:<br/>
 <br/>
 а)Список rss каналов.<br/>
 б)Частоту обновления.<br/>
 в)Количество новостей из каждого канала.<br/>
<br/>
<strong>HabraRssPortletEdit.jsp (часть)</strong><br/>
<code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a><blockquote><font color="black">&lt;%&lt;br> PortletPreferences preferences = renderRequest.getPreferences();&lt;br> <font color="#0000ff">if</font>( preferences!=<font color="#0000ff">null</font> ) {&lt;br>    <font color="#2B91AF">String</font> frequency = (<font color="#2B91AF">String</font>)  preferences.getValue(HabraRssPortlet.UPDATE_FREQUENCY, <font color="#A31515">"60"</font>);&lt;br>    <font color="#2B91AF">String</font> quantity = (<font color="#2B91AF">String</font>)  preferences.getValue(HabraRssPortlet.ITEM_QUANTITY, <font color="#A31515">"5"</font>);&lt;br>    <font color="#2B91AF">String</font> [] links = (<font color="#2B91AF">String</font>[]) preferences.getValues(HabraRssPortlet.RSS_LINKS, <font color="#0000ff">null</font> );&lt;br>%></font>&lt;br>&lt;br><font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font>.</font></blockquote><br/>
</code> <br/>
Далее рисуем необходимые нам поля, списки и кнопочки, вставляя в них значения, полученные чуть выше, и которые мы можем потом свободно редактировать, т.е. добавлять rss-каналы, удалять их, изменять значения частоты обновления и т.д. <br/>
<br/>
   <a href="http://ipicture.ru/Gallery/Viewfull/9764182.html"><img src="http://pic.ipicture.ru/uploads/081201/thumbs/ldgT6i253r.jpg" data-src="http://pic.ipicture.ru/uploads/081201/thumbs/ldgT6i253r.jpg" data-blurred="true"/></a><br/>
   <a href="http://ipicture.ru/Gallery/Viewfull/9764247.html"><img src="http://pic.ipicture.ru/uploads/081201/thumbs/gc9Pz6hSNV.jpg" data-src="http://pic.ipicture.ru/uploads/081201/thumbs/gc9Pz6hSNV.jpg" data-blurred="true"/></a><br/>
<br/>
<strong>Метод doHelp:</strong> тут ничего интересного совсем уже нет, вызываем все тот же PortletRequestDispatcher и перенаправляемся на страничку HabraRssPortletHelp, там пишем что-угодно, хотя обычно принято писать что-то типа справочных сведений.<br/>
 <br/>
 <strong>Метод processAction:</strong> — сердце нашего портлета, именно тут идет вся обработка взаимодействия с пользователем, в нашем случае это все сабмиты с форм, которые располежены на страничке HabraRssPortletEdit. Прошу заметить, что в этом методе используются объекты типа ActionRequest и ActionResponse, в отличии от RenderRequest и RenderResponse, которые ответственны за рендеринг портлета, эти обеъкты ответственны за взаимодействие с пользователем. Обработка заключается в простейшей валидации входных параметров, изменении и создании значений preferences. Замечу, что валидаюцию preferences можно вынести в отдельный класс, который должен имплементиться от PreferencesValidator, при этом надо не забыть прописать этот класс в дескриптор portlet.xml. Мы же сделали немного попроще, если входящие параметры нас не устраивают, то мы устанавливаем объекту типа ActionResponse параметр рендеринга, содержащий сообщение об ошибке, это сообщение будет выводиться на той же старничке.<br/>
 <br/>
   <a href="http://ipicture.ru/Gallery/Viewfull/9764286.html"><img src="http://pic.ipicture.ru/uploads/081201/thumbs/ee4fMRDOkY.jpg" data-src="http://pic.ipicture.ru/uploads/081201/thumbs/ee4fMRDOkY.jpg" data-blurred="true"/></a><br/>
Да, еще очень важно то, что изменять значения preferences можно только внутри метода processAction. Самое главное, что стоит не забывать, это после всех измененийв вызвать метод store() у объекта типа PortletPreferences, иначе изменения не сохранятся. Прощу заметить, что портал хранит preferences отдельно для каждого пользователя, поэтому если один пользователь добавит в список своих каналов еще несколько ссылок, то у других пользователей все так же и останется одна ссылка, то же касается и остальных значений preferences, они индивидуальны для каждого пользователя. Правда очень удобно? :)<br/>
<br/>
<a href="http://ipicture.ru/Gallery/Viewfull/9764313.html"><img src="http://pic.ipicture.ru/uploads/081201/thumbs/xzKBH2n2P5.jpg" data-src="http://pic.ipicture.ru/uploads/081201/thumbs/xzKBH2n2P5.jpg" data-blurred="true"/></a><br/>
 <br/>
Теперь давайте немного рассмотрим класс, отвечающий за RSS. Я уже упоминал выше, что я воспользовался готовой библиотекой, скачать можно <a href="http://today.java.net/pub/a/today/2006/03/21/reading-news-with-sun-rss-utilities.html">тут</a>, может она не самая лучшая, но что есть, то есть :)<br/>
<br/>
<strong>RssUtil.java</strong><br/>
<code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a><blockquote><font color="black">package ru.habrahabr.rssportlet;&lt;br>&lt;br><font color="#0000ff">public</font> <font color="#0000ff">class</font> RssUtil {&lt;br>&lt;br>    <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#2B91AF">ArrayList</font> updateRssFeeds(PortletPreferences preferences){&lt;br>        <font color="#2B91AF">ArrayList</font> allItems = <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font>();&lt;br>        <font color="#2B91AF">String</font> [] links = preferences.getValues(HabraRssPortlet.RSS_LINKS, <font color="#0000ff">null</font>);&lt;br>        <font color="#0000ff">int</font> quantity = Integer.parseInt(preferences.getValue(HabraRssPortlet.ITEM_QUANTITY, <font color="#A31515">"3"</font>));&lt;br>        <font color="#0000ff">for</font> (<font color="#0000ff">int</font> i=0; i &lt; links.length; i++){&lt;br>            <font color="#2B91AF">String</font> link = links[i];&lt;br>            InputStream stream = <font color="#0000ff">null</font>;&lt;br>            <font color="#0000ff">try</font> {&lt;br>                URL s = <font color="#0000ff">new</font> URL(link);&lt;br>                URLConnection connection = s.openConnection();&lt;br>                <font color="#0000ff">if</font> (!(connection instanceof URLConnection)) {            &lt;br>                    <font color="#0000ff">throw</font> <font color="#0000ff">new</font> IllegalArgumentException(s.toExternalForm() + <font color="#A31515">" is not a valid HTTP Url"</font>);&lt;br>                }&lt;br>                stream = connection.getInputStream();&lt;br>                <font color="#0000ff">try</font>{&lt;br>                    RssParser parser = RssParserFactory.createDefault();&lt;br>                    Rss rss = parser.parse(stream);&lt;br>                    Collection items = rss.getChannel().getItems();&lt;br>                    <font color="#0000ff">if</font> (items != <font color="#0000ff">null</font> &amp;&amp; !items.isEmpty()) {&lt;br>                        Iterator it = items.iterator();&lt;br>                        <font color="#0000ff">int</font> count = 0;&lt;br>                        <font color="#0000ff">while</font> (it.hasNext() &amp;&amp; count &lt; quantity){&lt;br>                            Item item = (Item) it.next();&lt;br>                            allItems.add(item);&lt;br>                            count++;&lt;br>                        }&lt;br>                    }&lt;br>                }<font color="#0000ff">catch</font> (RssParserException e) {&lt;br>                    e.printStackTrace();&lt;br>                }&lt;br>            } <font color="#0000ff">catch</font>(IOException e) {&lt;br>                e.printStackTrace();&lt;br>            }&lt;br>        }&lt;br>        <font color="#0000ff">return</font> allItems;&lt;br>    }&lt;br>&lt;br>    <font color="#0000ff">public</font> <font color="#0000ff">static</font> boolean checkUpdateTime(Long lastUpdateTime, PortletPreferences preferences) {&lt;br>        <font color="#0000ff">int</font> interval = Integer.parseInt(preferences.getValue(HabraRssPortlet.UPDATE_FREQUENCY, <font color="#A31515">"60"</font>));&lt;br>        <font color="#0000ff">if</font> (((System.currentTimeMillis() - lastUpdateTime.longValue()) / 1000) > (interval * 60))&lt;br>            <font color="#0000ff">return</font> <font color="#0000ff">true</font>;&lt;br>        <font color="#0000ff">return</font> <font color="#0000ff">false</font>;&lt;br>    }&lt;br>&lt;br>}&lt;br></font>&lt;br><font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font>.</font></blockquote><br/>
</code><br/>
<br/>
Класс состоит из двух статических методов, один из которых собственно получает Rss-контент из имеющихся каналов, а другой проверяет не пора ли обновиться. Ничего сложного :)<br/>
<br/>
Ну вот вроде бы и все. Все что тут было сказано, это мое личное ИМХО. Если у кого-то возникли вопросы — задавайте в камментах :) Весь <a href="http://rapidshare.com/files/169204632/HabraRssPortlet.7z.html">код</a> и <a href="http://rapidshare.com/files/169204335/HabraRssPortlet.war.html">war-архив</a> можно взять в аттаче :)<br/>
<br/>
PS. Да, и простите за System.out.println() в коде, оставил для наглядности.<br/>
<br/>
</code></code></code></code></code></div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bportlet%5D" class="tm-article-body__tags-item-link">portlet</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bjsr168%5D" class="tm-article-body__tags-item-link">jsr168</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bwebsphere%20portal%206%5D" class="tm-article-body__tags-item-link">websphere portal 6</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/java/" class="tm-article-body__tags-item-link">
                  Java
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 35: ↑32 и ↓3</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 35: ↑32 и ↓3" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+29</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    56
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/45927/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      70
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/garbuz/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/a47/ea4/3cc/a47ea43cc77a140fbea48cca56fb5be5.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 110 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    61
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><span class="tm-user-card__name">Гобозов Георгий</span> <a href="/ru/users/garbuz/" class="tm-user-card__nickname">
          @garbuz
        </a> <!----></div> <p class="tm-user-card__short-info">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/45927/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 70 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-05-25T07:10:01.000Z" title="2021-05-25, 10:10">25  мая   в 10:10</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/vdsina/blog/558430/" class="tm-article-title__link"><span>Превращаем одноплатник Cubietruck в Wi-Fi Hotspot с Captive portal, VPN-шлюзом и Ad block</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 35: ↑33 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 35: ↑33 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+31</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">9.8K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    123
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/vdsina/blog/558430/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      19
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-02-05T12:44:32.000Z" title="2021-02-05, 15:44">5  февраля   в 15:44</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/skillfactory/blog/540292/" class="tm-article-title__link"><span>Как два интроверта сделали Portal на Flash</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 20: ↑19 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 20: ↑19 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+18</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">4.6K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    22
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/skillfactory/blog/540292/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      12
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2008-06-04T07:51:37.000Z" title="2008-06-04, 11:51">4  июня  2008 в 11:51</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/26790/" class="tm-article-title__link"><span>Недокументированная возможность в WebSphere Portal 5.1 (общая сессия для портлета и сервлета)</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 2: ↑2 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 2: ↑2 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+2</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.1K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    2
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/26790/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      5
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T10:05:13.000Z" title="2021-09-26, 13:05">вчера в 13:05</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/579980/" class="tm-article-title__link"><span>Источник опорного напряжения — один из принципов и одна из реализаций</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 46: ↑44 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 46: ↑44 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+42</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">6.3K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    54
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/579980/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      5
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T21:49:14.000Z" title="2021-09-27, 00:49">сегодня в 00:49</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580092/" class="tm-article-title__link"><span>30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 36: ↑36 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 36: ↑36 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+36</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">11K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    39
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580092/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      53
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T19:37:10.000Z" title="2021-09-26, 22:37">вчера в 22:37</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580086/" class="tm-article-title__link"><span>Термо принтер и JavaScript</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 32: ↑31 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 32: ↑31 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+30</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">6.2K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    30
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580086/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      38
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T19:00:02.000Z" title="2021-09-26, 22:00">вчера в 22:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/funcorp/blog/579542/" class="tm-article-title__link"><span>Jetpack Compose — как легко построить UI на Android</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 30: ↑26 и ↓4</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 30: ↑26 и ↓4" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+22</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2.8K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    47
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/funcorp/blog/579542/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      6
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T22:35:26.000Z" title="2021-09-27, 01:35">сегодня в 01:35</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580094/" class="tm-article-title__link"><span>Блокчейн нас подвёл? Почему ДЭГ — это плохо и можем ли мы адекватно контролировать процесс подсчёта голосов?</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 34: ↑26 и ↓8</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 34: ↑26 и ↓8" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+18</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">8.9K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    16
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580094/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      56
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="45927" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/45927/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/45927/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"45927":{"id":"45927","timePublished":"2008-12-01T15:54:21+00:00","isCorporative":false,"lang":"ru","titleHtml":"Основы портлетов","leadData":{"textHtml":"Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология \u003Ca href=\"http:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9F%D0%BE%D1%80%D1%82%D0%BB%D0%B5%D1%82\"\u003Eпортлетов\u003C\u002Fa\u003E. Хотя на хабре уже есть пара упоминаний о портлетах, но там ничего внятного я не нашел. Поэтому решил написать свою статью, где хочу показать на практике как программировать портлеты. При этом попутно вставляя какие-то теоретические сведения. А принимая во внимание, то, что документации на русском крайне мало, то рассказать об этом хочется вдвойне :)\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":61,"votesCount":110},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"27613","alias":"garbuz","fullname":"Гобозов Георгий","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa47\u002Fea4\u002F3cc\u002Fa47ea43cc77a140fbea48cca56fb5be5.jpg","speciality":null},"statistics":{"commentsCount":70,"favoritesCount":56,"readingCount":26719,"score":29,"votesCount":35},"hubs":[{"relatedData":null,"id":"375","alias":"java","type":"collective","title":"Java","titleHtml":"Java","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EПривет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология \u003Ca href=\"http:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9F%D0%BE%D1%80%D1%82%D0%BB%D0%B5%D1%82\"\u003Eпортлетов\u003C\u002Fa\u003E. Хотя на хабре уже есть пара упоминаний о портлетах, но там ничего внятного я не нашел. Поэтому решил написать свою статью, где хочу показать на практике как программировать портлеты. При этом попутно вставляя какие-то теоретические сведения. А принимая во внимание, то, что документации на русском крайне мало, то рассказать об этом хочется вдвойне :)\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nЧтобы быть немного в курсе дела, нам потребуется несколько определений:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПортал в простейшем его рассмотрении — это программная платформа, содержащая портлет-контейнер, который в свою очередь поддерживает \u003Ca href=\"http:\u002F\u002Fportals.apache.org\u002Fpluto\u002Fportlet-1.0-apidocs\u002F\"\u003EPortlet API\u003C\u002Fa\u003E и позволяет нам запускать портлеты. Так же помомо этого, портал обычно предоставляет средства для управления группами и пользователями, а так же широкие возможности их кастомизации.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПортлет — это отдельное небольшое веб-приложение, которое выполняется на портале, портал в свою очередь агрегирует один или несколько портлетов на отдельной веб странице, которые обычно настраиваются для для отдельных пользователей и групп портала. В итоге мы получаем обычную веб-страницу, наполненную несколькими веб-приложениями. И еще, портлеты имеют много аналогий с сервлетами, я думаю, что многие, кто вообще в курсе дела, это заметят. Лишний раз проводить аналогии и останавливаться на этом не буду.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ этой статье буду описывать разработку портлетов в рамках спецификации \u003Ca href=\"http:\u002F\u002Fjcp.org\u002Fen\u002Fjsr\u002Fdetail?id=168\"\u003EJSR 168\u003C\u002Fa\u003E, но не буду рассказывать о выборе портала, о его установке, деплое портлетов и т.п. Сразу скажу, что разрабатывал приложение на \u003Ca href=\"http:\u002F\u002Fwww-01.ibm.com\u002Fsoftware\u002Fwebsphere\u002Fportal\u002F\"\u003EIBM Web Sphere Portal 6\u003C\u002Fa\u003E. Если кто-то расскажет об особенностях разработки и деплоя на других порталах типа Jboss Portal или еще какого, то буду очень признателен :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак приступим к разработке, а разрабатывать мы будем… на самом деле долго думал, что лучше привести как пример, хотел, чтобы пример не был чем-то тривиальным типа Hello World, хотел чтобы портлету нашлось практическое применение и выбор мой пал на портлет для агрегации \u003Ca href=\"http:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002FRSS\"\u003ERSS\u003C\u002Fa\u003E. А что? Актульно!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак, наше мини ТЗ:\u003Cbr\u002F\u003E\r\n Необходимо написать портлет, который будет собирать rss с различных каналов и отображать его. При этом каждому пользователю портала мы предоставим возможность самому настраивать портлет под свои нужды, т.е. создавать и удалять отображаемые каналы, а так же устанавливать количество новостей с каждого канала и частоту их обновления.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСперва давайте создадим список классов, библиотек и jsp-шек, которые потребуются нам для нашего приложения:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1) HabraRssPortlet — собственно сам класс портлета.\u003Cbr\u002F\u003E\r\n2) RssUtil — класс для работы с RSS.\u003Cbr\u002F\u003E\r\n3) rssutils — библиотека (конечно можно и самому парсер написать, но это займет время и наверняка сразу хорошо не получится — проверено опытом)\u003Cbr\u002F\u003E\r\n3) HabraRssPortletView.jsp — для отображения Rss.\u003Cbr\u002F\u003E\r\n4) HabraRssPortletEdit.jsp — для конфигурирования портлета пользователем.\u003Cbr\u002F\u003E\r\n5) HabraRssPortletHelp.jsp — где будет что-то типа «About»\u003Cbr\u002F\u003E\r\n6) portlet.xml и web.xml — ну я думаю понятно для чего…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПогнали!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nХочу начать с дескриптора развертывания portlet.xml дабы объяснить некоторые моменты, которые понадобятся нам позже, дескриптор web.xml приводит тут не буду, там все до боли просто. Если кому-то интересно, то его можно всегда взглянуть в аттаче.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003Eportlet.xml\u003C\u002Fstrong\u003E\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fjava.sun.com\u002Fxml\u002Fns\u002Fportlet\u002Fportlet-app_1_0.xsd\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fwww.vz.ru\u002Frss.xml\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fvirtser.net\u002Fblog\u002Fpost\u002Fsource-code-highlighter.aspx\"\u003E\u003C\u002Fa\u003E\u003Cblockquote\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;?\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Exml\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eversion\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"1.0\"\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eencoding\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"UTF-8\"\u003C\u002Ffont\u003E?\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-app\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Exmlns\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"http:\u002F\u002Fjava.sun.com\u002Fxml\u002Fns\u002Fportlet\u002Fportlet-app_1_0.xsd\"\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eversion\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"1.0\"\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Exmlns:xsi\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"http:\u002F\u002Fwww.w3.org\u002F2001\u002FXMLSchema-instance\"\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Exsi:schemaLocation\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"http:\u002F\u002Fjava.sun.com\u002Fxml\u002Fns\u002Fportlet\u002Fportlet-app_1_0.xsd java.sun.com\u002Fxml\u002Fns\u002Fportlet\u002Fportlet-app_1_0.xsd\"\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eid\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"ru.habrahabr.rssportlet.HabraRssPortlet.a97fbe5bd1\"\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-name\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EHabraRssPortlet\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-name\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Edisplay-name\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EHabraRssPortlet\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Edisplay-name\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Edisplay-name\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Exml:lang\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"ru\"\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EHabraRssPortlet\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Edisplay-name\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-class\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Eru.habrahabr.rssportlet.HabraRssPortlet\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-class\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Einit-param\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Ewps.markup\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Ehtml\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Einit-param\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eexpiration-cache\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E0\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eexpiration-cache\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Esupports\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Emime-type\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Etext\u002Fhtml\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Emime-type\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Eview\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Eedit\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Econfig\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Ehelp\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Esupports\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Esupported-locale\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Eru\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Esupported-locale\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eresource-bundle\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Eru.habrahabr.rssportlet.nl.HabraRssPortletResource\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eresource-bundle\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-info\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Etitle\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EHabraRssPortlet\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Etitle\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eshort-title\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EHabraRssPortlet\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eshort-title\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ekeywords\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EHabraRssPortlet\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ekeywords\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-info\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-preferences\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            &lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Epreference\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EupdateFrequency\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E                \u003Cfont\u003E&lt;!-- in minutes --\u003E\u003C\u002Ffont\u003E&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E10\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Epreference\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Epreference\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EitemQuantity\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E3\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Epreference\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Epreference\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003ErssLinks\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ename\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Ewww.vz.ru\u002Frss.xml\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Evalue\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Epreference\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-preferences\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ecustom-portlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003Econfig\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ecustom-portlet-mode\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet-app\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E\u003C\u002Ffont\u003E&lt;br\u003E\u003Cfont color=\"gray\"\u003E* This source code was highlighted with \u003Cfont color=\"gray\"\u003ESource Code Highlighter\u003C\u002Ffont\u003E.\u003C\u002Ffont\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eportlet-app\u003C\u002Fstrong\u003E — главный элемент дескриптора развертывания, должен содержать как минимум два атрибута: версия и идентификатор + сслки на схемы, описывающие данный xml. Так же внутри элемента \u003Cstrong\u003Eportlet-app\u003C\u002Fstrong\u003E могут содержаться объявления портлетов, кастомные режимы и состояния портлета.\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eportlet\u003C\u002Fstrong\u003E — данный элемент представляет класс портлета и все его метаданные\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eportlet-name\u003C\u002Fstrong\u003E — имя портлета\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Edisplay-name\u003C\u002Fstrong\u003E — отображаемое имя портлета\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eportlet-class\u003C\u002Fstrong\u003E — класс портлета, указывается вместе со структурой пакетов\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Einit-param\u003C\u002Fstrong\u003E — параметры инициализации портлета\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eexpiration-cache\u003C\u002Fstrong\u003E — таймаут кэша\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Esupports\u003C\u002Fstrong\u003E — поддерживаемые режимы и mime типы\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Esupported-locale\u003C\u002Fstrong\u003E — поддерживаемые локали\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eresource-bundle\u003C\u002Fstrong\u003E — класса отвечающий за метаданные, которые находятся в bundle\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eportlet-info\u003C\u002Fstrong\u003E — информация о портлете. Если присутствует bundle, то эту информацию можно вынести в него.\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Eportlet-preferences\u003C\u002Fstrong\u003E — являются неким хранилищем, именно там мы и будем сохранять ссылки на Rss, период обновления и количество новостей с каждого канала. Опциональным для этого элемента является элемент preferences-validator, который в свою очередь занимается проверкой preferences. Хочу заметить, preferences не обязательно указывать в дескрипторе, их можно создать и программно во время работы программы. \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cstrong\u003Ecustom-portlet-mode\u003C\u002Fstrong\u003E — кастомные режимы портлетов, тут я для примера включил режим config, хотя использовать его не будем\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНиже приведен основной класс нашего приложения — \u003Cstrong\u003EHabraRssPortlet\u003C\u002Fstrong\u003E, который является потомком класса \u003Cstrong\u003EGenericPortlet\u003C\u002Fstrong\u003E, а он в свою очередь является абстрактным классом и обеспечивает дефолтную имплементацию интерфейса Portlet. Все тот же GenericPortlet обеспечивает поддержку несколько режимов: \u003Cstrong\u003EVIEW, EDIT, HELP\u003C\u002Fstrong\u003E, еще иногда бывают кастомные режимы типа CONFIG, но это уже зависит от конкретной реализации портала. Для конечного пользователя все три режима чаще всего представлены различной отображаемой информацией и доступным функционалом в том или ином режиме. Переход между режимами осуществляется либо через меню портлета, либо через кнопки\u002Fссылки. Обычно у любого класса портлета перегружаются несколько методов, чаще всего это методы \u003Cstrong\u003EdoView, doEdit и doHelp\u003C\u002Fstrong\u003E, каждый из которых и отвечает за соответствующий режим.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003EHabraRssPortlet.java\u003C\u002Fstrong\u003E\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fvirtser.net\u002Fblog\u002Fpost\u002Fsource-code-highlighter.aspx\"\u003E\u003C\u002Fa\u003E\u003Cblockquote\u003E\u003Cfont color=\"black\"\u003Epackage ru.habrahabr.rssportlet;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nimport java.io.*;\u003Cbr\u002F\u003E\r\nimport java.util.*;\u003Cbr\u002F\u003E\r\nimport javax.portlet.*;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E HabraRssPortlet extends GenericPortlet {\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E JSP_FOLDER    = \u003Cfont color=\"#A31515\"\u003E\"\u002F_HabraRssPortlet\u002Fjsp\u002F\"\u003C\u002Ffont\u003E; \u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E VIEW_JSP     = \u003Cfont color=\"#A31515\"\u003E\"HabraRssPortletView\"\u003C\u002Ffont\u003E; \u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E EDIT_JSP     = \u003Cfont color=\"#A31515\"\u003E\"HabraRssPortletEdit\"\u003C\u002Ffont\u003E; \u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E HELP_JSP     = \u003Cfont color=\"#A31515\"\u003E\"HabraRssPortletHelp\"\u003C\u002Ffont\u003E; \u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E CONFIG_JSP    = \u003Cfont color=\"#A31515\"\u003E\"HabraRssPortletConfig\"\u003C\u002Ffont\u003E; \u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E RSS_LINKS    = \u003Cfont color=\"#A31515\"\u003E\"rssLinks\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E UPDATE_FREQUENCY = \u003Cfont color=\"#A31515\"\u003E\"updateFrequency\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E ITEM_QUANTITY  = \u003Cfont color=\"#A31515\"\u003E\"itemQuantity\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E NEW_RSS_LINK   = \u003Cfont color=\"#A31515\"\u003E\"newRssLink\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E ADD_NEW_RSS_LINK = \u003Cfont color=\"#A31515\"\u003E\"addNewRssLink\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E DELETE_RSS_LINK = \u003Cfont color=\"#A31515\"\u003E\"deleteRssLink\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E RSS_LINKS_LIST  = \u003Cfont color=\"#A31515\"\u003E\"rssLinksList\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E FREQUENCY     = \u003Cfont color=\"#A31515\"\u003E\"frequency\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E QUANTITY     = \u003Cfont color=\"#A31515\"\u003E\"quantity\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E SET_FREQUENCY  = \u003Cfont color=\"#A31515\"\u003E\"setFrequency\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E SET_QUANTITY   = \u003Cfont color=\"#A31515\"\u003E\"setQuantity\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E ERROR_MESSAGE  = \u003Cfont color=\"#A31515\"\u003E\"errorMessage\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E UPDATE_FEEDS   = \u003Cfont color=\"#A31515\"\u003E\"updateFeeds\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E final \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E EDIT_BACK     = \u003Cfont color=\"#A31515\"\u003E\"editBack\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E HashMap rssMap    = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E HashMap();\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E HashMap updateTimeMap = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E HashMap();\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E doView(RenderRequest request, RenderResponse response)throws PortletException, IOException {\u003Cbr\u002F\u003E\r\n    response.setContentType(request.getResponseContentType());\u003Cbr\u002F\u003E\r\n    PortletPreferences preferences = request.getPreferences();\u003Cbr\u002F\u003E\r\n    \u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (!rssMap.containsKey(request.getUserPrincipal().getName())){\u003Cbr\u002F\u003E\r\n      rssMap.put(request.getUserPrincipal().getName(), \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E());\u003Cbr\u002F\u003E\r\n      updateTimeMap.put(request.getUserPrincipal().getName(), \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E Long(0));\u003Cbr\u002F\u003E\r\n      \u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n        \u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (RssUtil.checkUpdateTime(getLastUpdateTime(request), preferences)) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E rssItems = (\u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E)rssMap.\u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E(request.getUserPrincipal().getName());\u003Cbr\u002F\u003E\r\n      rssItems.clear();\u003Cbr\u002F\u003E\r\n      rssItems = RssUtil.updateRssFeeds(preferences);\u003Cbr\u002F\u003E\r\n      System.\u003Cfont color=\"#0000ff\"\u003Eout\u003C\u002Ffont\u003E.println(\u003Cfont color=\"#A31515\"\u003E\"News for user \"\u003C\u002Ffont\u003E + request.getUserPrincipal().getName() + \u003Cfont color=\"#A31515\"\u003E\" updated!\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n      rssMap.put(request.getUserPrincipal().getName(), rssItems);\u003Cbr\u002F\u003E\r\n      setLastUpdateTime(request);\u003Cbr\u002F\u003E\r\n      \u003Cbr\u002F\u003E\r\n    } \u003Cbr\u002F\u003E\r\n        \u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E interval = Integer.parseInt(preferences.getValue(UPDATE_FREQUENCY, \u003Cfont color=\"#A31515\"\u003E\"60\"\u003C\u002Ffont\u003E));\u003Cbr\u002F\u003E\r\n    System.\u003Cfont color=\"#0000ff\"\u003Eout\u003C\u002Ffont\u003E.println(\u003Cfont color=\"#A31515\"\u003E\"Time befor update (in seconds) = \"\u003C\u002Ffont\u003E + ((interval * 60) - ((System.currentTimeMillis() - getLastUpdateTime(request).longValue()) \u002F 1000 )));\u003Cbr\u002F\u003E\r\n    \u003Cbr\u002F\u003E\r\n    request.setAttribute(\u003Cfont color=\"#A31515\"\u003E\"rssMap\"\u003C\u002Ffont\u003E, rssMap.\u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E(request.getUserPrincipal().getName()));\u003Cbr\u002F\u003E\r\n    PortletRequestDispatcher rd = getPortletContext().getRequestDispatcher(getJspFilePath(request, VIEW_JSP));\u003Cbr\u002F\u003E\r\n    rd.include(request, response);\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E doEdit(RenderRequest request, RenderResponse response)\u003Cbr\u002F\u003E\r\n      throws PortletException, IOException {\u003Cbr\u002F\u003E\r\n    response.setContentType(request.getResponseContentType());\u003Cbr\u002F\u003E\r\n    PortletRequestDispatcher rd = getPortletContext().getRequestDispatcher(\u003Cbr\u002F\u003E\r\n        getJspFilePath(request, EDIT_JSP));\u003Cbr\u002F\u003E\r\n    rd.include(request, response);\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprotected\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E doHelp(RenderRequest request, RenderResponse response)\u003Cbr\u002F\u003E\r\n      throws PortletException, IOException {\u003Cbr\u002F\u003E\r\n    response.setContentType(request.getResponseContentType());\u003Cbr\u002F\u003E\r\n    PortletRequestDispatcher rd = getPortletContext().getRequestDispatcher(getJspFilePath(request, HELP_JSP));\u003Cbr\u002F\u003E\r\n    rd.include(request, response);\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E processAction(ActionRequest request, ActionResponse response)\u003Cbr\u002F\u003E\r\n      throws PortletException, java.io.IOException {\u003Cbr\u002F\u003E\r\n    PortletPreferences preferences = request.getPreferences();\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(ADD_NEW_RSS_LINK) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(NEW_RSS_LINK).trim().length() \u003E 0) {\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] links = (\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[]) preferences.getValues(HabraRssPortlet.RSS_LINKS, \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E newLink = request.getParameter(NEW_RSS_LINK);\u003Cbr\u002F\u003E\r\n        preferences.setValues(RSS_LINKS, addToArray(links, newLink));\u003Cbr\u002F\u003E\r\n        preferences.store();\u003Cbr\u002F\u003E\r\n        System.\u003Cfont color=\"#0000ff\"\u003Eout\u003C\u002Ffont\u003E.println(\u003Cfont color=\"#A31515\"\u003E\"\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E New rss link added \"\u003C\u002Ffont\u003E + newLink);\u003Cbr\u002F\u003E\r\n      } \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E {\u003Cbr\u002F\u003E\r\n        response.setRenderParameter(ERROR_MESSAGE, \u003Cfont color=\"#A31515\"\u003E\"Link must be not empty!\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(DELETE_RSS_LINK) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(RSS_LINKS_LIST) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n          &amp;&amp; request.getParameter(RSS_LINKS_LIST).trim().length() \u003E 0 ) {\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] links = (\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[]) preferences.getValues(\u003Cbr\u002F\u003E\r\n            HabraRssPortlet.RSS_LINKS, \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E deletedLink = request.getParameter(RSS_LINKS_LIST);\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (isFound(links, deletedLink)) {\u003Cbr\u002F\u003E\r\n          preferences.setValues(RSS_LINKS, deleteFromArray(links, deletedLink));\u003Cbr\u002F\u003E\r\n          preferences.store();\u003Cbr\u002F\u003E\r\n          System.\u003Cfont color=\"#0000ff\"\u003Eout\u003C\u002Ffont\u003E.println(\u003Cfont color=\"#A31515\"\u003E\"\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E Rss link deleted \"\u003C\u002Ffont\u003E + deletedLink);\u003Cbr\u002F\u003E\r\n        }\u003Cbr\u002F\u003E\r\n      } \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E {\u003Cbr\u002F\u003E\r\n        response.setRenderParameter(ERROR_MESSAGE, \u003Cfont color=\"#A31515\"\u003E\"Choose a link!\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(SET_FREQUENCY) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(FREQUENCY).trim().length() \u003E 0\u003Cbr\u002F\u003E\r\n          &amp;&amp; isDigit(request.getParameter(FREQUENCY))) {\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E frequency = request.getParameter(FREQUENCY);\u003Cbr\u002F\u003E\r\n        preferences.setValue(UPDATE_FREQUENCY, frequency);\u003Cbr\u002F\u003E\r\n        preferences.store();\u003Cbr\u002F\u003E\r\n        System.\u003Cfont color=\"#0000ff\"\u003Eout\u003C\u002Ffont\u003E.println(\u003Cfont color=\"#A31515\"\u003E\"\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E Frequency updated \"\u003C\u002Ffont\u003E + frequency);\u003Cbr\u002F\u003E\r\n      } \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E {\u003Cbr\u002F\u003E\r\n        response.setRenderParameter(ERROR_MESSAGE, \u003Cfont color=\"#A31515\"\u003E\"Set valid frequency!\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(SET_QUANTITY) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(QUANTITY).trim().length() \u003E 0\u003Cbr\u002F\u003E\r\n          &amp;&amp; isDigit(request.getParameter(QUANTITY))) {\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E quantity = request.getParameter(QUANTITY);\u003Cbr\u002F\u003E\r\n        preferences.setValue(ITEM_QUANTITY, quantity);\u003Cbr\u002F\u003E\r\n        preferences.store();\u003Cbr\u002F\u003E\r\n        System.\u003Cfont color=\"#0000ff\"\u003Eout\u003C\u002Ffont\u003E.println(\u003Cfont color=\"#A31515\"\u003E\"\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E\u003E Quantity updated \"\u003C\u002Ffont\u003E + quantity);\u003Cbr\u002F\u003E\r\n      } \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E {\u003Cbr\u002F\u003E\r\n        response.setRenderParameter(ERROR_MESSAGE, \u003Cfont color=\"#A31515\"\u003E\"Set valid quantity!\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(UPDATE_FEEDS) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E rssItems = (\u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E)rssMap.\u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E(request.getUserPrincipal().getName());\u003Cbr\u002F\u003E\r\n      rssItems.clear();\u003Cbr\u002F\u003E\r\n      rssItems = RssUtil.updateRssFeeds(preferences);\u003Cbr\u002F\u003E\r\n      System.\u003Cfont color=\"#0000ff\"\u003Eout\u003C\u002Ffont\u003E.println(\u003Cfont color=\"#A31515\"\u003E\"News fo user \"\u003C\u002Ffont\u003E + request.getUserPrincipal().getName() + \u003Cfont color=\"#A31515\"\u003E\" updated!\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n      rssMap.put(request.getUserPrincipal().getName(), rssItems);\u003Cbr\u002F\u003E\r\n      setLastUpdateTime(request);\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getParameter(EDIT_BACK) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E) {\u003Cbr\u002F\u003E\r\n      response.setPortletMode(PortletMode.VIEW);\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n    \u003Cbr\u002F\u003E\r\n    \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E getJspFilePath(RenderRequest request, \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E jspFile) {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E markup = request.getProperty(\u003Cfont color=\"#A31515\"\u003E\"wps.markup\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (markup == \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n      markup = getMarkup(request.getResponseContentType());\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E JSP_FOLDER + markup + \u003Cfont color=\"#A31515\"\u003E\"\u002F\"\u003C\u002Ffont\u003E + jspFile + \u003Cfont color=\"#A31515\"\u003E\".\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n        + getJspExtension(markup);\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E getMarkup(\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E contentType) {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (\u003Cfont color=\"#A31515\"\u003E\"text\u002Fvnd.wap.wml\"\u003C\u002Ffont\u003E.equals(contentType))\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#A31515\"\u003E\"wml\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#A31515\"\u003E\"html\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E getJspExtension(\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E markupName) {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#A31515\"\u003E\"jsp\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] addToArray(\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] array, \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E s) {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] ans = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[array.length + 1];\u003Cbr\u002F\u003E\r\n    System.arraycopy(array, 0, ans, 0, array.length);\u003Cbr\u002F\u003E\r\n    ans[ans.length - 1] = s;\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E ans;\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] deleteFromArray(\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] array, \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E s) {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] ans = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[array.length - 1];\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E addIndex = 0;\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Efor\u003C\u002Ffont\u003E (\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E i = 0; i &lt; array.length; i++) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (array[i].equals(s)) {\u003Cbr\u002F\u003E\r\n        addIndex++;\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#0000ff\"\u003Econtinue\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n      ans[i - addIndex] = array[i];\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E ans;\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E boolean isFound(\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[] array, \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E s) {\u003Cbr\u002F\u003E\r\n    boolean found = \u003Cfont color=\"#0000ff\"\u003Efalse\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Efor\u003C\u002Ffont\u003E (\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E i = 0; i &lt; array.length; i++) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (array[i].equals(s)) {\u003Cbr\u002F\u003E\r\n        found = \u003Cfont color=\"#0000ff\"\u003Etrue\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#0000ff\"\u003Ebreak\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E found;\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E boolean isDigit(\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E s) {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Echar\u003C\u002Ffont\u003E[] array = s.toCharArray();\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Efor\u003C\u002Ffont\u003E (\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E i = 0; i &lt; array.length; i++) {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (!Character.isDigit(array[i])) {\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Efalse\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Etrue\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n  \u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E Long getLastUpdateTime(PortletRequest request){\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E (Long)updateTimeMap.\u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E(request.getUserPrincipal().getName());\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n  \u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E setLastUpdateTime(PortletRequest request){\u003Cbr\u002F\u003E\r\n    updateTimeMap.put(request.getUserPrincipal().getName(), \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E Long(System.currentTimeMillis()));\u003Cbr\u002F\u003E\r\n  }\u003Cbr\u002F\u003E\r\n  \u003Cbr\u002F\u003E\r\n  \u003Cbr\u002F\u003E\r\n}\u003Cbr\u002F\u003E\r\n\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"gray\"\u003E* This source code was highlighted with \u003Cfont color=\"gray\"\u003ESource Code Highlighter\u003C\u002Ffont\u003E.\u003C\u002Ffont\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nПройдемся по коду:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nС набором констант все ясно, далее мы создаем два статических объекта типа HashMap, — ключом ко всем значениям обеих карт служит имя конкретного пользователя портала, значением либо объект типа ArrayList, содержащий Rss-контент, либо объект типа Long, содержащий время последнего обновлнения каналов. Так как время жизни статической переменной портлета равно времени жизни самого портлета, то я решил хранить данние именно в них, а не персистить их куда-либо, тем более я вижу мало смысла в сохранении rss'a в какую-нибудь базу данных.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n Далее начинается то, о чем мы говорили чуть выше, а именно переопределение методов класса GenericPortlet:\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n \u003Cstrong\u003EМетод doView:\u003C\u002Fstrong\u003E от объекта запроса получаем объект типа PortletPreferences, из которого в свою очередь можем вытащить нужное нам значение или же наоборот внести в него свое значение. Потом проверяем нашу первую карту на наличие в ней ключа с именем активного пользователя, если такого ключа нет, то заносим в обе карты пары ключ-значение, в одном случае значение — это объект ArrayList, в другом — объект Long, содержащий время последнего обновления. Далее проверяем, нужен ли нам апдейт новостей. Напомню, что для всех пользователей по умолчанию установлен один канал, одно и тоже количество новостей и время их обновления (см. portlet.xml) Итак, если пользователь зашел первый раз на страничку с нашим портлетом, то для него сразу же выполнится обновление канала, полученный rss-контент заносим в наш ArrayList, который мы получили из карты с rss-контентом по имени пользователя (ключ). Далее все просто — в запрос кладем все тот же ArrayList, вызываем PortletRequestDispatcher и перенаправляемся на jsp-страничку HabraRssPortletView, котрая и будет отображать наш rss-контент:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003EHabraRssPortletView.jsp\u003C\u002Fstrong\u003E\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fvirtser.net\u002Fblog\u002Fpost\u002Fsource-code-highlighter.aspx\"\u003E\u003C\u002Fa\u003E\u003Cblockquote\u003E\u003Cfont color=\"black\"\u003E\u003Cfont\u003E&lt;%@page session=\"false\" contentType=\"text\u002Fhtml\" pageEncoding=\"ISO-8859-1\" import=\"java.util.*,javax.portlet.*,ru.habrahabr.rssportlet.*\" %\u003E\u003C\u002Ffont\u003E&lt;br\u003E\u003Cfont\u003E&lt;%@taglib uri=\"http:\u002F\u002Fjava.sun.com\u002Fportlet\" prefix=\"portlet\" %\u003E\u003C\u002Ffont\u003E&lt;br\u003E\u003Cfont\u003E&lt;%@taglib uri=\"http:\u002F\u002Fjava.sun.com\u002Fjsp\u002Fjstl\u002Fcore\" prefix=\"c\" %\u003E\u003C\u002Ffont\u003E &lt;br\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eportlet:defineObjects\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u002F\u003E\u003C\u002Ffont\u003E&lt;br\u003E&lt;br\u003E&lt;br\u003E\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (request.getAttribute(\u003Cfont color=\"#A31515\"\u003E\"rssMap\"\u003C\u002Ffont\u003E) != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E){&lt;br\u003E    \u003Cfont\u003E%\u003E\u003C\u002Ffont\u003E&lt;br\u003E    &lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ec:forEach\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Evar\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"item\"\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eitems\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"${rssMap}\"\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ep\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eb\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ea\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Ehref\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"${item.link}\"\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E${item.title}\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ea\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eb\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Espan\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E${item.description}\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Espan\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ep\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ehr\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ec:forEach\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E&lt;br\u003E    &lt;br\u003E\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E&lt;br\u003E } \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E {&lt;br\u003E \u003Cfont\u003E%\u003E\u003C\u002Ffont\u003EError!!!!\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E&lt;br\u003E }&lt;br\u003E\u003Cfont\u003E%\u003E\u003C\u002Ffont\u003E\u003C\u002Ffont\u003E&lt;br\u003E&lt;br\u003E\u003Cfont color=\"gray\"\u003E* This source code was highlighted with \u003Cfont color=\"gray\"\u003ESource Code Highlighter\u003C\u002Ffont\u003E.\u003C\u002Ffont\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа страничке из запроса получаем наш объект ArrayList, итерируем его с помощью JSTL и выводим наш Rss-контент.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n   \u003Ca href=\"http:\u002F\u002Fipicture.ru\u002FGallery\u002FViewfull\u002F9764110.html\"\u003E\u003Cimg src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002FpvWGMAfTWP.jpg\" data-src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002FpvWGMAfTWP.jpg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003EМетод doEdit:\u003C\u002Fstrong\u003E тут ничего особенного нет, так же вызываем PortletRequestDispatcher и переходим на jsp-страничку HabraRssPortletEdit. Вся логика зашита именно в ней, хоть это и не есть хорошо. Мы, конечно же, без проблем межем все это исправить :) Что же происходит на этой страничке? В скриплете с помощью все того же объекта PortletPreferences мы получаем необходимые нам значения, а именно:\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n а)Список rss каналов.\u003Cbr\u002F\u003E\r\n б)Частоту обновления.\u003Cbr\u002F\u003E\r\n в)Количество новостей из каждого канала.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003EHabraRssPortletEdit.jsp (часть)\u003C\u002Fstrong\u003E\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fvirtser.net\u002Fblog\u002Fpost\u002Fsource-code-highlighter.aspx\"\u003E\u003C\u002Fa\u003E\u003Cblockquote\u003E\u003Cfont color=\"black\"\u003E&lt;%&lt;br\u003E PortletPreferences preferences = renderRequest.getPreferences();&lt;br\u003E \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E( preferences!=\u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E ) {&lt;br\u003E    \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E frequency = (\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E)  preferences.getValue(HabraRssPortlet.UPDATE_FREQUENCY, \u003Cfont color=\"#A31515\"\u003E\"60\"\u003C\u002Ffont\u003E);&lt;br\u003E    \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E quantity = (\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E)  preferences.getValue(HabraRssPortlet.ITEM_QUANTITY, \u003Cfont color=\"#A31515\"\u003E\"5\"\u003C\u002Ffont\u003E);&lt;br\u003E    \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E [] links = (\u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E[]) preferences.getValues(HabraRssPortlet.RSS_LINKS, \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E );&lt;br\u003E%\u003E\u003C\u002Ffont\u003E&lt;br\u003E&lt;br\u003E\u003Cfont color=\"gray\"\u003E* This source code was highlighted with \u003Cfont color=\"gray\"\u003ESource Code Highlighter\u003C\u002Ffont\u003E.\u003C\u002Ffont\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E \u003Cbr\u002F\u003E\r\nДалее рисуем необходимые нам поля, списки и кнопочки, вставляя в них значения, полученные чуть выше, и которые мы можем потом свободно редактировать, т.е. добавлять rss-каналы, удалять их, изменять значения частоты обновления и т.д. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n   \u003Ca href=\"http:\u002F\u002Fipicture.ru\u002FGallery\u002FViewfull\u002F9764182.html\"\u003E\u003Cimg src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002FldgT6i253r.jpg\" data-src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002FldgT6i253r.jpg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n   \u003Ca href=\"http:\u002F\u002Fipicture.ru\u002FGallery\u002FViewfull\u002F9764247.html\"\u003E\u003Cimg src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002Fgc9Pz6hSNV.jpg\" data-src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002Fgc9Pz6hSNV.jpg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003EМетод doHelp:\u003C\u002Fstrong\u003E тут ничего интересного совсем уже нет, вызываем все тот же PortletRequestDispatcher и перенаправляемся на страничку HabraRssPortletHelp, там пишем что-угодно, хотя обычно принято писать что-то типа справочных сведений.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n \u003Cstrong\u003EМетод processAction:\u003C\u002Fstrong\u003E — сердце нашего портлета, именно тут идет вся обработка взаимодействия с пользователем, в нашем случае это все сабмиты с форм, которые располежены на страничке HabraRssPortletEdit. Прошу заметить, что в этом методе используются объекты типа ActionRequest и ActionResponse, в отличии от RenderRequest и RenderResponse, которые ответственны за рендеринг портлета, эти обеъкты ответственны за взаимодействие с пользователем. Обработка заключается в простейшей валидации входных параметров, изменении и создании значений preferences. Замечу, что валидаюцию preferences можно вынести в отдельный класс, который должен имплементиться от PreferencesValidator, при этом надо не забыть прописать этот класс в дескриптор portlet.xml. Мы же сделали немного попроще, если входящие параметры нас не устраивают, то мы устанавливаем объекту типа ActionResponse параметр рендеринга, содержащий сообщение об ошибке, это сообщение будет выводиться на той же старничке.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n   \u003Ca href=\"http:\u002F\u002Fipicture.ru\u002FGallery\u002FViewfull\u002F9764286.html\"\u003E\u003Cimg src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002Fee4fMRDOkY.jpg\" data-src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002Fee4fMRDOkY.jpg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nДа, еще очень важно то, что изменять значения preferences можно только внутри метода processAction. Самое главное, что стоит не забывать, это после всех измененийв вызвать метод store() у объекта типа PortletPreferences, иначе изменения не сохранятся. Прощу заметить, что портал хранит preferences отдельно для каждого пользователя, поэтому если один пользователь добавит в список своих каналов еще несколько ссылок, то у других пользователей все так же и останется одна ссылка, то же касается и остальных значений preferences, они индивидуальны для каждого пользователя. Правда очень удобно? :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Fipicture.ru\u002FGallery\u002FViewfull\u002F9764313.html\"\u003E\u003Cimg src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002FxzKBH2n2P5.jpg\" data-src=\"http:\u002F\u002Fpic.ipicture.ru\u002Fuploads\u002F081201\u002Fthumbs\u002FxzKBH2n2P5.jpg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nТеперь давайте немного рассмотрим класс, отвечающий за RSS. Я уже упоминал выше, что я воспользовался готовой библиотекой, скачать можно \u003Ca href=\"http:\u002F\u002Ftoday.java.net\u002Fpub\u002Fa\u002Ftoday\u002F2006\u002F03\u002F21\u002Freading-news-with-sun-rss-utilities.html\"\u003Eтут\u003C\u002Fa\u003E, может она не самая лучшая, но что есть, то есть :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cstrong\u003ERssUtil.java\u003C\u002Fstrong\u003E\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fvirtser.net\u002Fblog\u002Fpost\u002Fsource-code-highlighter.aspx\"\u003E\u003C\u002Fa\u003E\u003Cblockquote\u003E\u003Cfont color=\"black\"\u003Epackage ru.habrahabr.rssportlet;&lt;br\u003E&lt;br\u003E\u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E RssUtil {&lt;br\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E updateRssFeeds(PortletPreferences preferences){&lt;br\u003E        \u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E allItems = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E \u003Cfont color=\"#2B91AF\"\u003EArrayList\u003C\u002Ffont\u003E();&lt;br\u003E        \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E [] links = preferences.getValues(HabraRssPortlet.RSS_LINKS, \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E);&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E quantity = Integer.parseInt(preferences.getValue(HabraRssPortlet.ITEM_QUANTITY, \u003Cfont color=\"#A31515\"\u003E\"3\"\u003C\u002Ffont\u003E));&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003Efor\u003C\u002Ffont\u003E (\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E i=0; i &lt; links.length; i++){&lt;br\u003E            \u003Cfont color=\"#2B91AF\"\u003EString\u003C\u002Ffont\u003E link = links[i];&lt;br\u003E            InputStream stream = \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E;&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003Etry\u003C\u002Ffont\u003E {&lt;br\u003E                URL s = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E URL(link);&lt;br\u003E                URLConnection connection = s.openConnection();&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (!(connection instanceof URLConnection)) {            &lt;br\u003E                    \u003Cfont color=\"#0000ff\"\u003Ethrow\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E IllegalArgumentException(s.toExternalForm() + \u003Cfont color=\"#A31515\"\u003E\" is not a valid HTTP Url\"\u003C\u002Ffont\u003E);&lt;br\u003E                }&lt;br\u003E                stream = connection.getInputStream();&lt;br\u003E                \u003Cfont color=\"#0000ff\"\u003Etry\u003C\u002Ffont\u003E{&lt;br\u003E                    RssParser parser = RssParserFactory.createDefault();&lt;br\u003E                    Rss rss = parser.parse(stream);&lt;br\u003E                    Collection items = rss.getChannel().getItems();&lt;br\u003E                    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (items != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E &amp;&amp; !items.isEmpty()) {&lt;br\u003E                        Iterator it = items.iterator();&lt;br\u003E                        \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E count = 0;&lt;br\u003E                        \u003Cfont color=\"#0000ff\"\u003Ewhile\u003C\u002Ffont\u003E (it.hasNext() &amp;&amp; count &lt; quantity){&lt;br\u003E                            Item item = (Item) it.next();&lt;br\u003E                            allItems.add(item);&lt;br\u003E                            count++;&lt;br\u003E                        }&lt;br\u003E                    }&lt;br\u003E                }\u003Cfont color=\"#0000ff\"\u003Ecatch\u003C\u002Ffont\u003E (RssParserException e) {&lt;br\u003E                    e.printStackTrace();&lt;br\u003E                }&lt;br\u003E            } \u003Cfont color=\"#0000ff\"\u003Ecatch\u003C\u002Ffont\u003E(IOException e) {&lt;br\u003E                e.printStackTrace();&lt;br\u003E            }&lt;br\u003E        }&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E allItems;&lt;br\u003E    }&lt;br\u003E&lt;br\u003E    \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estatic\u003C\u002Ffont\u003E boolean checkUpdateTime(Long lastUpdateTime, PortletPreferences preferences) {&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E interval = Integer.parseInt(preferences.getValue(HabraRssPortlet.UPDATE_FREQUENCY, \u003Cfont color=\"#A31515\"\u003E\"60\"\u003C\u002Ffont\u003E));&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (((System.currentTimeMillis() - lastUpdateTime.longValue()) \u002F 1000) \u003E (interval * 60))&lt;br\u003E            \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Etrue\u003C\u002Ffont\u003E;&lt;br\u003E        \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Efalse\u003C\u002Ffont\u003E;&lt;br\u003E    }&lt;br\u003E&lt;br\u003E}&lt;br\u003E\u003C\u002Ffont\u003E&lt;br\u003E\u003Cfont color=\"gray\"\u003E* This source code was highlighted with \u003Cfont color=\"gray\"\u003ESource Code Highlighter\u003C\u002Ffont\u003E.\u003C\u002Ffont\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКласс состоит из двух статических методов, один из которых собственно получает Rss-контент из имеющихся каналов, а другой проверяет не пора ли обновиться. Ничего сложного :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу вот вроде бы и все. Все что тут было сказано, это мое личное ИМХО. Если у кого-то возникли вопросы — задавайте в камментах :) Весь \u003Ca href=\"http:\u002F\u002Frapidshare.com\u002Ffiles\u002F169204632\u002FHabraRssPortlet.7z.html\"\u003Eкод\u003C\u002Fa\u003E и \u003Ca href=\"http:\u002F\u002Frapidshare.com\u002Ffiles\u002F169204335\u002FHabraRssPortlet.war.html\"\u003Ewar-архив\u003C\u002Fa\u003E можно взять в аттаче :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nPS. Да, и простите за System.out.println() в коде, оставил для наглядности.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003C\u002Fcode\u003E\u003C\u002Fcode\u003E\u003C\u002Fcode\u003E\u003C\u002Fcode\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"portlet"},{"titleHtml":"jsr168"},{"titleHtml":"websphere portal 6"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F45927\u002F8f57e4e74c347934a3f344fd271e0cd1\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F45927\u002F8f57e4e74c347934a3f344fd271e0cd1\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F45927\\\u002F\"},\"headline\":\"Основы портлетов\",\"datePublished\":\"2008-12-01T18:54:21+03:00\",\"dateModified\":\"2008-12-01T18:54:21+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Гобозов Георгий\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно &mdash; это технология портлетов. Хотя на хабре уже е...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F45927\\\u002F#post-content-body\",\"about\":[\"h_java\",\"f_develop\"],\"image\":[\"http:\\\u002F\\\u002Fpic.ipicture.ru\\\u002Fuploads\\\u002F081201\\\u002Fthumbs\\\u002FpvWGMAfTWP.jpg\",\"http:\\\u002F\\\u002Fpic.ipicture.ru\\\u002Fuploads\\\u002F081201\\\u002Fthumbs\\\u002FldgT6i253r.jpg\",\"http:\\\u002F\\\u002Fpic.ipicture.ru\\\u002Fuploads\\\u002F081201\\\u002Fthumbs\\\u002Fgc9Pz6hSNV.jpg\",\"http:\\\u002F\\\u002Fpic.ipicture.ru\\\u002Fuploads\\\u002F081201\\\u002Fthumbs\\\u002Fee4fMRDOkY.jpg\",\"http:\\\u002F\\\u002Fpic.ipicture.ru\\\u002Fuploads\\\u002F081201\\\u002Fthumbs\\\u002FxzKBH2n2P5.jpg\"]}","metaDescription":"Привет хабралюди! Сегодня я хочу рассказать об одной интересной технологии, с которой познакомился совсем недавно — это технология портлетов. Хотя на хабре уже есть пара упоминаний о портлетах, но там...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"578296":{"id":"578296","timePublished":"2021-09-26T14:00:02+00:00","isCorporative":true,"lang":"ru","titleHtml":"Вектор? Растр? А может — и то, и другое?","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Zach Leatherman","originalUrl":"https:\u002F\u002Fwww.zachleat.com\u002Fweb\u002Fvector-raster-split\u002F"}}],"author":{"id":"1220775","alias":"ru_vds","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fe36\u002F812\u002Fd3d\u002Fe36812d3de38eb3d479d7a13228717ef.png","speciality":"Пользователь"},"statistics":{"commentsCount":8,"favoritesCount":25,"readingCount":2120,"score":15,"votesCount":17},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"449","alias":"vector_graphics","type":"collective","title":"Работа с векторной графикой","titleHtml":"Работа с векторной графикой","isProfiled":true},{"relatedData":null,"id":"8880","alias":"server_side_optimization","type":"collective","title":"Серверная оптимизация","titleHtml":"Серверная оптимизация","isProfiled":true},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"19802","alias":"graph_design","type":"collective","title":"Графический дизайн","titleHtml":"Графический дизайн","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"На этой неделе я столкнулся с интересным классом задач, для решения которых, как я теперь понимаю, можно было использовать гораздо более удачный подход и раньше. Но существует ли такой подход?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F578296\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fge\u002Fkf\u002F1n\u002Fgekf1nauxn50imhrqyil4rlzj5m.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\n\u003Ci\u003E\u003Cfont color=\"#999999\"\u003EИзображение для верхней части сайта\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nРечь идёт о подготовке изображения, рассчитанного на использовании в верхней правой части сайта \u003Ca href=\"https:\u002F\u002Fjamstackconf.com\" rel=\"nofollow noopener noreferrer\"\u003Ejamstackconf.com\u003C\u002Fa\u003E. Мы, в маркетинговой команде Netlify, используем Figma. Первая моя попытка экспорта этого изображения для использования его на сайте оказалась далеко не самой удачной.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"графика"},{"titleHtml":"веб-разработка"},{"titleHtml":"ruvds_перевод"}]},"579296":{"id":"579296","timePublished":"2021-09-26T10:00:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Упрощаем эмуляцию X86 с помощью Live CD","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"ClassicHasClass","originalUrl":"https:\u002F\u002Fwww.talospace.com\u002F2021\u002F09\u002Fbetter-x8664-emulation-with-live-cds.html"}}],"author":{"id":"2488151","alias":"Bright_Translate","fullname":"Дмитрий Брайт","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ff9c\u002Fff9\u002F7d9\u002Ff9cff97d9c0677af28dab451897f88e4.jpg","speciality":"Переводчик"},"statistics":{"commentsCount":7,"favoritesCount":19,"readingCount":2351,"score":13,"votesCount":13},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"7289","alias":"nix","type":"collective","title":"*nix","titleHtml":"*nix","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false},{"relatedData":null,"id":"21930","alias":"antikvariat","type":"collective","title":"Старое железо","titleHtml":"Старое железо","isProfiled":false}],"flows":[{"id":"6","alias":"admin","title":"Администрирование"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F579296\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmt\u002Fwb\u002F5s\u002Fmtwb5s5gaflvyaymdbaqbremhye.png\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nТипичный подход к эмулированию среды для запуска старых файлов с архитектурой i386 сопряжен со сложностями, в частности с поиском всех необходимых библиотек. Однако этой проблемы можно избежать, воспользовавшись заранее подготовленным образом Live CD, о чем в статье и пойдет речь на примере образа эмулятора Palm OS и игры Shogo: Mobile Armor Division.","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"ruvds_перевод"},{"titleHtml":"QEMU"},{"titleHtml":"pose"},{"titleHtml":"palm"}]},"579542":{"id":"579542","timePublished":"2021-09-26T19:00:02+00:00","isCorporative":true,"lang":"ru","titleHtml":"Jetpack Compose — как легко построить UI на Android","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2713395","alias":"i15in","fullname":"Иван","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F25f\u002Fe4b\u002Ff94\u002F25fe4bf94867d9647a0ae809abf2e429.jpg","speciality":"Android developer"},"statistics":{"commentsCount":6,"favoritesCount":47,"readingCount":2799,"score":22,"votesCount":30},"hubs":[{"relatedData":null,"id":"18232","alias":"funcorp","type":"corporative","title":"Блог компании FUNCORP","titleHtml":"Блог компании FUNCORP","isProfiled":false},{"relatedData":null,"id":"6345","alias":"mobile_dev","type":"collective","title":"Разработка мобильных приложений","titleHtml":"Разработка мобильных приложений","isProfiled":true},{"relatedData":null,"id":"9188","alias":"ui","type":"collective","title":"Интерфейсы","titleHtml":"Интерфейсы","isProfiled":true},{"relatedData":null,"id":"17107","alias":"android_dev","type":"collective","title":"Разработка под Android","titleHtml":"Разработка под Android","isProfiled":true},{"relatedData":null,"id":"19441","alias":"kotlin","type":"collective","title":"Kotlin","titleHtml":"Kotlin","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ июле этого года вместе с Android Studio Arctic Fox вышла одна из долгожданных библиотек — Jetpack Compose. Она позволяет создавать пользовательский интерфейс в декларативном стиле и обещает быть революцией в построении UI.\u003C\u002Fp\u003E\u003Cp\u003EРазбираемся, так ли это на самом деле, какие у библиотеки преимущества и недостатки. Подробности — в статье.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5da\u002F63d\u002F3cb\u002F5da63d3cbeb8e38de3dde2792d851722.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5da\u002F63d\u002F3cb\u002F5da63d3cbeb8e38de3dde2792d851722.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"разработка мобильных приложений"},{"titleHtml":"jetpack compose"},{"titleHtml":"ui"},{"titleHtml":"интерфейсы"},{"titleHtml":"android"},{"titleHtml":"kotlin"},{"titleHtml":"android studio"},{"titleHtml":"arctic fox"},{"titleHtml":"пользовательские интерфейсы"}]},"579772":{"id":"579772","timePublished":"2021-09-27T05:32:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сливы процветают. Эксперт-«параноик» Майкл Баззель о защите личных данных","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Michael Bazzell","originalUrl":"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F"}}],"author":{"id":"2297567","alias":"SearchInform_team","fullname":null,"avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":3,"readingCount":1350,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"22418","alias":"searchinform","type":"corporative","title":"Блог компании SearchInform","titleHtml":"Блог компании SearchInform","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНаш очередной пост из серии «интересное на иностранном языке» – рассказ Майкла Баззеля о том, как сберечь свои персональные данные от утечек. Майкл – знаковая фигура в сфере OSINT, работал в правительстве США и ФБР, его приглашали в качестве технического эксперта в сериал «Мистер Робот», который считают достойным с точки зрения достоверности. В личной жизни эксперт придерживается настолько жестких правил в отношении информационной гигиены, что некоторые считают его «неадекватом». Так ли это – может быть несколько мнений. \u003C\u002Fp\u003E\u003Cp\u003EОдин из факторов, который убеждает в правильном подходе Майкла, – что риски обнаружить свои данные в интернете стали существенно выше, потому что шифровальщики без разбору сливают в сеть все, до чего дотягиваются при атаках на бизнес. Приводим перевод \u003Ca href=\"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F\"\u003Eпоста Майкла Баззеля\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EАтакуют корпорации, а страдают люди\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EБольшинство людей не задумываются о том, как их касается проблема распространения вирусов-шифровальщиков. Логика такова: речь идет о проблемах компаний, это они вынуждены платить выкуп. При чем тут, казалось бы, обычные люди?! \u003C\u002Fp\u003E\u003Cp\u003EА при том, что преступники сменили тактику: сейчас они не просто шифруют данные, но и скачивают их, выкладывают в открытый доступ, если компании не платят им выкуп. Теперь давайте подумаем, что в этих слитых базах? Множество данных о сотрудниках, клиентах, контрагентах, с которыми компания-жертва работает.\u003C\u002Fp\u003E\u003Cp\u003EХочу сразу уточнить: я это пишу не потому что выступаю за уплату выкупа. Я за то, чтобы сопротивляться избыточному сбору данных там, где это не обязательно. Мы халатно относимся к своим ПДн, раздавая их по первому требованию.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"персональные данные"},{"titleHtml":"пдн"},{"titleHtml":"сёрчинформ"},{"titleHtml":"Майкл Баззел"},{"titleHtml":"утечки информации"}]},"579804":{"id":"579804","timePublished":"2021-09-26T12:06:13+00:00","isCorporative":true,"lang":"ru","titleHtml":"ОС для работы со звуком — что она умеет","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2691015","alias":"mirhifi","fullname":"«Мир Hi-Fi»","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fdfb\u002F713\u002Fedb\u002Fdfb713edbeed85de6588bd27d6c43229.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":24,"readingCount":5621,"score":9,"votesCount":11},"hubs":[{"relatedData":null,"id":"18822","alias":"audiomania","type":"corporative","title":"Блог компании Аудиомания","titleHtml":"Блог компании Аудиомания","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21918","alias":"soft","type":"collective","title":"Софт","titleHtml":"Софт","isProfiled":false},{"relatedData":null,"id":"21988","alias":"sound","type":"collective","title":"Звук","titleHtml":"Звук","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EОдин из предыдущих материалов мы посвятили \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Faudiomania\u002Fblog\u002F575076\u002F\"\u003Eинструментам\u003C\u002Fa\u003E для сборки цифровой звуковой рабочей станции (DAW). Еще мы говорили об \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Faudiomania\u002Fblog\u002F575892\u002F\"\u003Eopen source проектах\u003C\u002Fa\u003E, в рамках которых можно сделать собственный синтезатор или педалборд.\u003C\u002Fp\u003E\u003Cp\u003EСегодня продолжим тему и расскажем об открытой ОС \u003Cstrong\u003EElk Audio\u003C\u002Fstrong\u003E, построенной на базе Linux. Она заточена под обработку звука на встраиваемых системах.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa15\u002Ffc8\u002F97f\u002Fa15fc897faa2b01e93257c9af08a6eaa.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa15\u002Ffc8\u002F97f\u002Fa15fc897faa2b01e93257c9af08a6eaa.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"аудиомания"},{"titleHtml":"звук"},{"titleHtml":"Elk Audio"},{"titleHtml":"операционные системы"},{"titleHtml":"DAW"}]},"579854":{"id":"579854","timePublished":"2021-09-27T06:03:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Видишь уязвимости? А они есть! Наше исследование популярных CMS-систем","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2684283","alias":"Solar_Pentest","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":5,"favoritesCount":8,"readingCount":1545,"score":17,"votesCount":19},"hubs":[{"relatedData":null,"id":"20826","alias":"solarsecurity","type":"corporative","title":"Блог компании Ростелеком-Солар","titleHtml":"Блог компании Ростелеком-Солар","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛьвиная доля всех работ по анализу защищенности внешнего периметра – это тестирование веб-приложений. Здесь могут быть как корпоративные решения, так и «домашние» разработки на базе различных публичных систем управления контентом (CMS). Мы всегда проводим глубокий анализ подобных решений на тестовых стендах и зачастую находим уязвимости нулевого дня. Собственно, из опыта таких проектов и родилась идея собрать исследовательскую команду и провести глубокий анализ популярных CMS-систем и различных плагинов для них. В этом посте мы поделимся результатами нашего исследования, а также продемонстрируем примеры уязвимого кода наиболее интересных, на наш взгляд, уязвимостей и примеры их эксплуатации. Конечно все эти уязвимости уже исправлены и описываются здесь с разрешения владельцев систем.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","buttonTextHtml":"Не всё то в безопасности, что с Bug Bounty","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"cms"},{"titleHtml":"уязвимости"},{"titleHtml":"уязвимости и их эксплуатация"},{"titleHtml":"уязвимость нулевого дня"}]},"579980":{"id":"579980","timePublished":"2021-09-26T10:05:13+00:00","isCorporative":false,"lang":"ru","titleHtml":"Источник опорного напряжения — один из принципов и одна из реализаций","editorVersion":"1.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"269411","alias":"VT100","fullname":null,"avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":5,"favoritesCount":54,"readingCount":6295,"score":42,"votesCount":46},"hubs":[{"relatedData":null,"id":"21472","alias":"circuit-design","type":"collective","title":"Схемотехника","titleHtml":"Схемотехника","isProfiled":true},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21976","alias":"DIY","type":"collective","title":"DIY или Сделай сам","titleHtml":"DIY или Сделай сам","isProfiled":false},{"relatedData":null,"id":"22016","alias":"easyelectronics","type":"collective","title":"Электроника для начинающих","titleHtml":"Электроника для начинающих","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Как не счесть «алмазов в каменных пещерах» — так не счесть случаев, когда необходимо втиснуть какую-нибудь характеристику «непрерывного» внешнего мира в «дискретное» нутро цифровых алгоритмов или извлечь обратно. Как помнят многие — это делается с помощью аналого-цифровых (АЦП, ADC) и цифро-аналоговых (ЦАП, DAC) преобразователей. Но только более посвящённые — обратят при этом внимание на источник опорного напряжения для преобразований (ИОН, Reference), который во многом определяет стабильность и абсолютную точность полученного результата. Конечно, есть некоторое число случаев, когда можно произвести измерение или генерацию отношения двух токов или напряжений. Тогда достаточно подать большее из них на опорный вход преобразователя. Но это — именно «некоторое число».\u003Cbr\u003E\r\n Желающих ознакомиться с одним из принципов и одной из реализаций температурно-стабильного ИОН — приглашаю под кат. Помощь в этом — предоставит симулятор \u003Ca href=\"https:\u002F\u002Fwww.analog.com\u002Fen\u002Fdesign-center\u002Fdesign-tools-and-calculators\u002Fltspice-simulator.html\" rel=\"nofollow noopener noreferrer\"\u003ELTSPICE\u003C\u002Fa\u003E (несмотря на то, что человек с КДПВ сказал: «My favorite CAD is solder»). Желательно — знание закона Ома, правил Кирхгофа, принципов работы биполярного транзистора (на уровне модели Эберса-Молла) и идеального операционного усилителя.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cb\u003EКДПВ1\u003C\u002Fb\u003E: Robert Allan Pease — the czar of bandgap. «Орденские цепи» — из ИМС стабилизаторов в корпусе TO-3.\u003Cbr\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fj9\u002Ffk\u002Fui\u002Fj9fkuinqeb01dhjearz6ekwbahc.jpeg\"\u003E\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Источники питания"},{"titleHtml":"АЦП и ЦАП"},{"titleHtml":"схемотехника для чайников."}]},"580008":{"id":"580008","timePublished":"2021-09-27T06:30:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Летний Магнитогорск","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2614609","alias":"city_scraper","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F8f8\u002Fd6c\u002F328\u002F8f8d6c328ec3a513103b6757c2c21610.png","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":2,"readingCount":1545,"score":7,"votesCount":11},"hubs":[{"relatedData":null,"id":"22012","alias":"Ecology","type":"collective","title":"Экология","titleHtml":"Экология","isProfiled":false},{"relatedData":null,"id":"22024","alias":"urban","type":"collective","title":"Урбанизм","titleHtml":"Урбанизм","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EМагнитогорск Челябинской области – один из крупнейших мировых центров чёрной металлургии. В России это шестой из крупнейших городов, которые не являются центрами субъектов страны. \u003C\u002Fp\u003E\u003Cp\u003EСовсем недавно город был одним из наиболее неблагополучных с точки зрения загрязнения атмосферного воздуха, но в 2021 году был зафиксирован «повышенный» уровень – то есть не «высокий» или «очень высокий», как раньше. \u003C\u002Fp\u003E\u003Cp\u003EКак этот город выглядит летом? Где и как его жители могут проводить время?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Магнитогорск"},{"titleHtml":"промышленность"},{"titleHtml":"промышленные города"},{"titleHtml":"урбанизм\u002Fурбания"},{"titleHtml":"урбанистика"},{"titleHtml":"города России"},{"titleHtml":"города"}]},"580018":{"id":"580018","timePublished":"2021-09-26T09:06:26+00:00","isCorporative":false,"lang":"ru","titleHtml":"Сколько стоит замена батарей в электромобилях?","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Bryce Gaton","originalUrl":"https:\u002F\u002Fthedriven.io\u002F2021\u002F07\u002F23\u002Fhow-much-are-replacement-batteries-for-electric-vehicles-in-australia\u002F"}}],"author":{"id":"1803585","alias":"GeorgKDeft","fullname":"дима","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F10f\u002Fd61\u002F864\u002F10fd6186430ede52ad4a1567dff9afdc.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":190,"favoritesCount":22,"readingCount":37116,"score":18,"votesCount":36},"hubs":[{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21914","alias":"energy","type":"collective","title":"Энергия и элементы питания","titleHtml":"Энергия и элементы питания","isProfiled":false},{"relatedData":null,"id":"22004","alias":"transport","type":"collective","title":"Транспорт","titleHtml":"Транспорт","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E Мы приветствуем вопросы читателей об аккумуляторных электромобилях, зарядках и обо всем, что вы хотите узнать. Поэтому, пожалуйста, отправьте их, и мы заставим наших экспертов ответить и пригласить других людей внести свой вклад через раздел комментариев.  \u003C\u002Fp\u003E\u003Cp\u003EСегодняшний вопрос читателя: У меня есть вопрос относительно стоимости замены батареи в BEV, доступной в Австралии, и производитель сообщил срок службы до того, как потребуется замена?  \u003C\u002Fp\u003E\u003Cp\u003EЭта тема является ключевым моментом, который волнует многих покупателей перед покупкой BEV. С уважением, Андрей.\u003C\u002Fp\u003E\u003Cp\u003E Привет, Эндрю, да, вопрос о том, когда заменять аккумулятор электромобиля и о стоимости, важен - но, возможно, не так сильно, как думает широкая публика.  \u003C\u002Fp\u003E\u003Cp\u003EПервое: я разделю вопрос на две части. Какова вероятность того, что аккумулятор потребует замены в течение срока службы автомобиля? Какова стоимость возможной замены батареи? Потребуется ли замена аккумулятора в течение срока службы автомобиля? Чтобы ответить на этот вопрос, необходимо изучить две проблемы: Когда аккумулятор перестанет «подходить по назначению»? а также Как долго длится «жизнь автомобиля»?  \u003C\u002Fp\u003E\u003Cp\u003EВо-первых, значительная часть производителей дает гарантию на свои батареи как минимум на 70% емкости, оставшейся после 8 лет. Для Hyundai Kona с запасом хода 450–500 км по городу это соответствует минимальному диапазону 315–350 км в возрасте 8 лет. Для многих, если не для большинства, это означает зарядку, возможно, два раза в неделю, а не один раз в неделю. То же самое и для дальних путешествий - может быть, пара дополнительных остановок для перезарядки, например, по пути между Сиднеем и Брисбеном.  \u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F937\u002F372\u002F95b\u002F93737295b6a08ba7a8b84ab4b0c417e2.jpg","buttonTextHtml":"Далее в цифрах о цене аккумуляторов сейчас","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F937\u002F372\u002F95b\u002F93737295b6a08ba7a8b84ab4b0c417e2.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"аккумуляторы"},{"titleHtml":"замена"},{"titleHtml":"электромобили"},{"titleHtml":"цена"}]},"580038":{"id":"580038","timePublished":"2021-09-26T13:35:19+00:00","isCorporative":false,"lang":"ru","titleHtml":"KODI: собираем удобный и функциональный медиацентр для дома. Часть 9. Spotify","editorVersion":"2.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"2644801","alias":"arboozof","fullname":"Роман","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ff76\u002F452\u002F3d5\u002Ff764523d55be8ef6fc4307ea3158dadf.png","speciality":"IT\u002FRetail"},"statistics":{"commentsCount":12,"favoritesCount":34,"readingCount":5065,"score":10,"votesCount":10},"hubs":[{"relatedData":null,"id":"36","alias":"linux","type":"collective","title":"Настройка Linux","titleHtml":"Настройка Linux","isProfiled":true},{"relatedData":null,"id":"144","alias":"open_source","type":"collective","title":"Open source","titleHtml":"Open source","isProfiled":true},{"relatedData":null,"id":"21908","alias":"smartphones","type":"collective","title":"Смартфоны","titleHtml":"Смартфоны","isProfiled":false},{"relatedData":null,"id":"21946","alias":"video_tech","type":"collective","title":"Видеотехника","titleHtml":"Видеотехника","isProfiled":false},{"relatedData":null,"id":"21988","alias":"sound","type":"collective","title":"Звук","titleHtml":"Звук","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПродолжаем тему интеграции в наш медиацентр онлайн-сервисов прослушивания музыки. Ранее мы уже «подружили» медиацентр KODI с сервисом Яндекс.Музыка. Сегодня на очереди не менее популярный сервис – Spotify.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd36\u002Fb76\u002Fd13\u002Fd36b76d13fccd166d952840d838d4997.png","buttonTextHtml":"Читать дальше &rarr;","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd36\u002Fb76\u002Fd13\u002Fd36b76d13fccd166d952840d838d4997.png","fit":"cover","positionY":0,"positionX":14.74358974359}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"kodi"},{"titleHtml":"xbmc"},{"titleHtml":"ubuntu"},{"titleHtml":"kubuntu"},{"titleHtml":"music"},{"titleHtml":"spotify"},{"titleHtml":"addons"},{"titleHtml":"дополнения"},{"titleHtml":"тв"}]},"580048":{"id":"580048","timePublished":"2021-09-26T14:22:36+00:00","isCorporative":false,"lang":"ru","titleHtml":"Будь строже к себе: как ограничения помогают сделать код лучше","editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null}],"author":{"id":"2787821","alias":"ZeBrains_team","fullname":"Станислав Маслов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fae3\u002F3ee\u002F4f1\u002Fae33ee4f1a117aeeab42ec5a9e2eba25.jpg","speciality":"директор продакшена в IT-компании"},"statistics":{"commentsCount":10,"favoritesCount":45,"readingCount":3977,"score":8,"votesCount":16},"hubs":[{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20682","alias":"pm","type":"collective","title":"Управление проектами","titleHtml":"Управление проектами","isProfiled":true},{"relatedData":null,"id":"20726","alias":"productpm","type":"collective","title":"Управление продуктом","titleHtml":"Управление продуктом","isProfiled":true}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EЕсли вам приходилось задумываться о построении эффективной экосистемы проекта и определении ролей тимлида и разработчика — статья Артема Прозорова из ZeBrains для вас. \u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EПредлагаю вам задуматься над одним вопросом. Но не спешите с ответом, потому что он не так очевиден, как может показаться:\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EКакая из команд может реализовать более технически стабильный продукт?&nbsp;\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EКоманда №1:\u003C\u002Fstrong\u003E Проектный менеджер, аналитик, тестировщик и несколько разработчиков, у каждого из которых за плечами минимум три года опыта. Все работают в одном офисе, посвящая свое время одному проекту в режиме fulltime.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EКоманда №2:\u003C\u002Fstrong\u003E Один сильный разработчик. Ему помогают множество не знакомых между собой людей из разных часовых поясов. У каждого — свой набор компетенций и уровень опыта. Работой над проектом участники занимаются в свободном режиме, по несколько часов в неделю.\u003C\u002Fp\u003E\u003Cp\u003E* * *\u003C\u002Fp\u003E\u003Cp\u003EОтвет на этот вопрос получим к концу статьи.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fefe\u002F413\u002Feb2\u002Fefe413eb27c391cfcfef0484e6997aab.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"управление проектами"},{"titleHtml":"управление продуктом"},{"titleHtml":"управление командой разработки"},{"titleHtml":"управление командами разработчиков"},{"titleHtml":"тимлид"},{"titleHtml":"тимлиды и разработчики"}]},"580060":{"id":"580060","timePublished":"2021-09-27T09:00:04+00:00","isCorporative":true,"lang":"ru","titleHtml":"Арракис, который мы заслужили","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"238277","alias":"Zelenyikot","fullname":"Виталий Егоров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F22b\u002F2d7\u002F7a5\u002F22b2d77a57b687aae24784a3e53089c9.jpg","speciality":"Популяризатор космонавтики"},"statistics":{"commentsCount":0,"favoritesCount":4,"readingCount":531,"score":9,"votesCount":11},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false},{"relatedData":null,"id":"21984","alias":"sci-fi","type":"collective","title":"Научная фантастика","titleHtml":"Научная фантастика","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F580060\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk0\u002Fds\u002Fy5\u002Fk0dsy5npxclyjdytiroqga7-leu.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nВо вселенной писателя-фантаста Фрэнка Герберта, Дюна, она же Арракис &mdash; это пустынная и маловодная планета с двумя лунами. По сюжету, она находится за пределами Солнечной системы, но если мы захотим поискать ближайшую схожую параллель,&nbsp;то больше всего подходит планета Марс. Предлагаю воспользоваться возможностями, которые даёт современная космонавтика, и совершить воображаемую прогулку на нашу Дюну.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Марс"},{"titleHtml":"Дюна"},{"titleHtml":"MRO"},{"titleHtml":"Curiosity"},{"titleHtml":"марсоход"},{"titleHtml":"ruvds_статьи"}]},"580066":{"id":"580066","timePublished":"2021-09-26T18:12:37+00:00","isCorporative":false,"lang":"ru","titleHtml":"Сколько мы переплачиваем за сервера используя Ruby on Rails","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"941194","alias":"motoroller95","fullname":"Искандар Гохар","avatarUrl":"","speciality":"Ruby on Rails developer at IT-territory"},"statistics":{"commentsCount":45,"favoritesCount":5,"readingCount":3935,"score":7,"votesCount":13},"hubs":[{"relatedData":null,"id":"224","alias":"ruby","type":"collective","title":"Ruby","titleHtml":"Ruby","isProfiled":true},{"relatedData":null,"id":"8279","alias":"ror","type":"collective","title":"Ruby on Rails","titleHtml":"Ruby on Rails","isProfiled":true},{"relatedData":null,"id":"17822","alias":"parallel_programming","type":"collective","title":"Параллельное программирование","titleHtml":"Параллельное программирование","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F577948\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eпрошлой\u003C\u002Fa\u003E статье я разбирался с тем как работает GIL, а сегодня меня захватила идея узнать насколько дорого обходится этот GIL для кода, который исполняется у нас на бэкенде. Для этого я решил пропатчить MRI и добавить пару переменных, в которые буду засекать сколько времени поток реально выполнял код, а сколько ничего не делал и ждал пока ему удастся завладеть локом. \u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"ruby"},{"titleHtml":"gil"}]},"580080":{"id":"580080","timePublished":"2021-09-26T19:12:55+00:00","isCorporative":false,"lang":"ru","titleHtml":"Дайджест свежих материалов из мира фронтенда за последнюю неделю №486 (20 — 26 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"59347","alias":"alexzfort","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd2a\u002Fe8a\u002F5ac\u002Fd2ae8a5ac9876f838ebdd45f3ea3bc3b.png","speciality":""},"statistics":{"commentsCount":2,"favoritesCount":16,"readingCount":2641,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"307","alias":"css","type":"collective","title":"CSS","titleHtml":"CSS","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true},{"relatedData":null,"id":"17103","alias":"html5","type":"collective","title":"HTML","titleHtml":"HTML","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"Предлагаем вашему вниманию подборку с ссылками на новые материалы из области фронтенда и около него.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fec\u002F0x\u002Fkx\u002Fec0xkxfr5jd-rci1wjo9bmr4cns.jpeg\"\u003E\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"фронтенд"},{"titleHtml":"css"},{"titleHtml":"js"},{"titleHtml":"es6"},{"titleHtml":"vue"},{"titleHtml":"react"},{"titleHtml":"angular"},{"titleHtml":"ember"},{"titleHtml":"html5"},{"titleHtml":"браузеры"},{"titleHtml":"ссылки"}]},"580084":{"id":"580084","timePublished":"2021-09-26T19:30:13+00:00","isCorporative":false,"lang":"ru","titleHtml":"Telegram Bots vs Google Forms","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2705023","alias":"dm_aq","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":4,"favoritesCount":18,"readingCount":3206,"score":7,"votesCount":7},"hubs":[{"relatedData":null,"id":"144","alias":"open_source","type":"collective","title":"Open source","titleHtml":"Open source","isProfiled":true},{"relatedData":null,"id":"19441","alias":"kotlin","type":"collective","title":"Kotlin","titleHtml":"Kotlin","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EGoogle forms отличный инструмент для решения простых организационных задач, например, сбор информации для регистрации людей на небольшое мероприятие. Но что если мы попытаемся решить эту задачу по другому? Например через telegram.&nbsp;\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"telegrambot"},{"titleHtml":"telegram"},{"titleHtml":"kotlin"},{"titleHtml":"spring"}]},"580086":{"id":"580086","timePublished":"2021-09-26T19:37:10+00:00","isCorporative":false,"lang":"ru","titleHtml":"Термо принтер и JavaScript","editorVersion":"2.0","postType":"article","postLabels":[{"type":"recovery","data":null}],"author":{"id":"1709955","alias":"IIIarp","fullname":"Сергей Шарпов","avatarUrl":"","speciality":"Веб разработчик"},"statistics":{"commentsCount":38,"favoritesCount":30,"readingCount":6195,"score":30,"votesCount":32},"hubs":[{"relatedData":null,"id":"84","alias":"crazydev","type":"collective","title":"Ненормальное программирование","titleHtml":"Ненормальное программирование","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПриобрел я на днях термопринтер (кассовый аппарат, если изволите) жене для магазина и решил что смогу его обуздать как истинный программист и сделать свою веб кассу, вместо того, что-бы использовать платные решения, ведь задача простая, печатать чеки, но это оказалось не так то и просто...\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4f3\u002F259\u002Fe4e\u002F4f3259e4e73b5bfae82890fd3db512a0.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4f3\u002F259\u002Fe4e\u002F4f3259e4e73b5bfae82890fd3db512a0.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"термопринтер"},{"titleHtml":"javascript"},{"titleHtml":"webusb"}]},"580088":{"id":"580088","timePublished":"2021-09-26T21:17:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Запуск X-приложения в chroot на примере POSE (или «QEMU не нужен»)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1481597","alias":"edo1h","fullname":null,"avatarUrl":"","speciality":"немного программист, немного админ"},"statistics":{"commentsCount":4,"favoritesCount":7,"readingCount":810,"score":11,"votesCount":11},"hubs":[{"relatedData":null,"id":"221","alias":"sys_admin","type":"collective","title":"Системное администрирование","titleHtml":"Системное администрирование","isProfiled":true},{"relatedData":null,"id":"7289","alias":"nix","type":"collective","title":"*nix","titleHtml":"*nix","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта мини-статья родилась как ответ на статью \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F579296\" rel=\"noopener noreferrer nofollow\"\u003EУпрощаем эмуляцию X86 с помощью Live CD\u003C\u002Fa\u003E, в которой для запуска старых 32-битных приложений на 64-битных дистрибутивах Linux предлагалось использовать QEMU + Live CD — по моему мнению «из пушки по воробьям». Опишу своё решение на \u003Ccode\u003Echroot\u003C\u002Fcode\u003E + \u003Ccode\u003Edebootstrap\u003C\u002Fcode\u003E. \u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"chroot"},{"titleHtml":"debootstrap"},{"titleHtml":"xwindow"}]},"580090":{"id":"580090","timePublished":"2021-09-26T21:19:11+00:00","isCorporative":false,"lang":"ru","titleHtml":"Сравнение подходов к реализации распределенных транзакций для микросервисов","editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null},{"type":"translation","data":{"originalAuthorName":"Bilgin Ibryam","originalUrl":"https:\u002F\u002Fdevelopers.redhat.com\u002Farticles\u002F2021\u002F09\u002F21\u002Fdistributed-transaction-patterns-microservices-compared"}}],"author":{"id":"194270","alias":"sprosin","fullname":"Sergey Prosin","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd67\u002F5d8\u002F1d6\u002Fd675d81d6fe5bf69493735cef4910eb5.jpg","speciality":"Веду команды к релизам, пишу статьи, выступаю."},"statistics":{"commentsCount":3,"favoritesCount":65,"readingCount":2892,"score":13,"votesCount":13},"hubs":[{"relatedData":null,"id":"7504","alias":"refactoring","type":"collective","title":"Проектирование и рефакторинг","titleHtml":"Проектирование и рефакторинг","isProfiled":true},{"relatedData":null,"id":"21482","alias":"distributed_systems","type":"collective","title":"Распределённые системы","titleHtml":"Распределённые системы","isProfiled":true},{"relatedData":null,"id":"22115","alias":"microservices","type":"collective","title":"Микросервисы","titleHtml":"Микросервисы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКак архитектор-консультант в Red Hat, я имел возможность поработать над множеством проектов для наших клиентов. У каждого из них есть свои особенности, которые, однако, имеют некоторые общие черты. Большинство клиентов хотят знать, как скоординировать запись в несколько систем одновременно. Ответ на этот вопрос обычно включает подробное объяснение двойной записи, распределенных транзакций, современных альтернатив, а также возможных сценариев сбоев и недостатков каждого подхода. Как правило, именно в этот момент заказчик понимает, что разделение монолитного приложения на микросервисы - долгий и сложный путь, обычно требующий компромиссов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"распределенные системы"},{"titleHtml":"микросервисы"},{"titleHtml":"транзакции"},{"titleHtml":"распределенные транзакции"},{"titleHtml":"оркестрация"},{"titleHtml":"оркестрация микросервисов"},{"titleHtml":"хореография"},{"titleHtml":"конвейеры"}]},"580092":{"id":"580092","timePublished":"2021-09-26T21:49:14+00:00","isCorporative":false,"lang":"ru","titleHtml":"30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"805873","alias":"rantal","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":53,"favoritesCount":39,"readingCount":10568,"score":36,"votesCount":36},"hubs":[{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"17350","alias":"s_admin","type":"collective","title":"Серверное администрирование","titleHtml":"Серверное администрирование","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E30 сентября 2021 14:01:15  GMT оканчивается срок действия корневого сертификата IdenTrust DST Root CA X3.\u003C\u002Fp\u003E\u003Cp\u003EЭто событие достойно вашего внимания по той причине, что после наступления этого момента ряд устаревших систем перестанут доверять сертификатам,&nbsp;выпущенным центром сертификации Let’s Encrypt. С учётом того, что на текущий момент Let's Encrypt предоставляет бесплатные криптографические сертификаты примерно для \u003Ca href=\"https:\u002F\u002Fletsencrypt.org\u002Fstats\u002F\" rel=\"noopener noreferrer nofollow\"\u003E250 миллионов доменных имен\u003C\u002Fa\u003E, а \"устаревшие системы\" - это порой системы возрастом всего 5-6 лет, вряд ли окончание срока действия сертификата&nbsp;DST Root CA X3 пройдёт для всех гладко и незаметно. В чём причина, кого конкретно это затронет, и что можно сделать?\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"let's encrypt"},{"titleHtml":"DST Root CA X3"},{"titleHtml":"корневой сертификат"},{"titleHtml":"https"},{"titleHtml":"tls"},{"titleHtml":"openssl"}]},"580094":{"id":"580094","timePublished":"2021-09-26T22:35:26+00:00","isCorporative":false,"lang":"ru","titleHtml":"Блокчейн нас подвёл? Почему ДЭГ — это плохо и можем ли мы адекватно контролировать процесс подсчёта голосов?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"206414","alias":"PoltoS","fullname":"Сергей Полторак","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F5cf\u002F03a\u002Fc7f\u002F5cf03ac7fe60ea8a6686bd4c57627ddc.png","speciality":""},"statistics":{"commentsCount":56,"favoritesCount":16,"readingCount":8915,"score":18,"votesCount":34},"hubs":[{"relatedData":null,"id":"118","alias":"crypto","type":"collective","title":"Криптография","titleHtml":"Криптография","isProfiled":true},{"relatedData":null,"id":"210","alias":"it_testing","type":"collective","title":"Тестирование IT-систем","titleHtml":"Тестирование IT-систем","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EИнтересно наблюдать, как дискредитируется термин блокчейна на выборах в госдуму. Вроде голосование было на блокчейне, но его якобы подделали. Т.е. блокчейн можно подделать или ЦИК и ДИТ нам подсунули какой-то лохчейн вместо блокчейна?!? И мало кто обсуждает происходящее по существу без эмоций, связанных с результатами партий и кандидатов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Криптография"},{"titleHtml":"блокчейн"},{"titleHtml":"открытые данные"},{"titleHtml":"электронное голосование"},{"titleHtml":"выборы"},{"titleHtml":"выборы в госдуму"},{"titleHtml":"дэг"},{"titleHtml":"дэг 2021"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["579980","580092","580086","579542","580094","580018","579854","580080","578296","579296","580090","580088","580038","580060","579772","579804","580048","580008","580084","580066"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":2},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["558430","540292","26790"],"similarListRefs":{"26790":{"id":"26790","timePublished":"2008-06-04T07:51:37+00:00","isCorporative":false,"lang":"ru","titleHtml":"Недокументированная возможность в WebSphere Portal 5.1 (общая сессия для портлета и сервлета)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"37873","alias":"yaneblog","fullname":"Серега","avatarUrl":null,"speciality":"Пользователь"},"statistics":{"commentsCount":5,"favoritesCount":2,"readingCount":1108,"score":2,"votesCount":2},"hubs":[{"id":"375","alias":"java","type":"collective","title":"Java","titleHtml":"Java","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ch4\u003EБыла следующая задача:\u003C\u002Fh4\u003E написать портлет, который отображает график отчета, хранящегося в Когносе. Отчет Когноса может строиться очень и очень долго, от нескольких секунд до 20.\u003Cbr\u002F\u003E\r\nЗаставлять ждать пользователя столько времени — ужасное решение.\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Что же делать?","image":null},"status":"published","plannedPublishTime":null,"checked":null},"540292":{"id":"540292","timePublished":"2021-02-05T12:44:32+00:00","isCorporative":true,"lang":"ru","titleHtml":"Как два интроверта сделали Portal на Flash","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Ido","originalUrl":"https:\u002F\u002Fmedium.com\u002Fsuper-jump\u002Fportal-the-flash-version-10e986930d1f"}}],"author":{"id":"2534597","alias":"honyaki","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F96e\u002F81d\u002Fbc0\u002F96e81dbc01247c6c855b1806b355efa3.jpg","speciality":null},"statistics":{"commentsCount":12,"favoritesCount":22,"readingCount":4615,"score":18,"votesCount":20},"hubs":[{"id":"17931","alias":"skillfactory","type":"corporative","title":"Блог компании SkillFactory","titleHtml":"Блог компании SkillFactory","isProfiled":false},{"id":"6258","alias":"flash_platform","type":"collective","title":"Adobe Flash","titleHtml":"Adobe Flash","isProfiled":false},{"id":"7773","alias":"gamedev","type":"collective","title":"Разработка игр","titleHtml":"Разработка игр","isProfiled":true},{"id":"20800","alias":"game_design","type":"collective","title":"Дизайн игр","titleHtml":"Дизайн игр","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"2","alias":"design","title":"Дизайн","titleHtml":"Дизайн"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fskillfactory\u002Fblog\u002F540292\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fub\u002F24\u002Fgj\u002Fub24gjan9jjyanb_lfouwscd_ek.gif\" \u002F\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nВ 2006 году, когда Valve анонсировала Portal, я самозабвенно болтал со своим другом Хеном Матшульски по MSN-Messenger. Valve в то время определяла нашу жизнь в смысле игр, а Portal не походил ни на что из того, что мы видели раньше. Взволнованный, нетерпеливый анонс подтолкнул нас к тому, чтобы в путешествии длиной в год сделать версию Portal на Flash ещё до того, как мы даже прикоснёмся к оригинальной игре.\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Как это было","image":null},"status":"published","plannedPublishTime":null,"checked":null},"558430":{"id":"558430","timePublished":"2021-05-25T07:10:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Превращаем одноплатник Cubietruck в Wi-Fi Hotspot с Captive portal, VPN-шлюзом и Ad block","editorVersion":"1.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"6039","alias":"devzona","fullname":"Антон Сердюков","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa6e\u002Febe\u002Fdde\u002Fa6eebeddec1cbc5ad614c31caef70e0e.jpg","speciality":"Programistik"},"statistics":{"commentsCount":19,"favoritesCount":123,"readingCount":9800,"score":31,"votesCount":35},"hubs":[{"id":"22298","alias":"vdsina","type":"corporative","title":"Блог компании VDSina.ru","titleHtml":"Блог компании VDSina.ru","isProfiled":false},{"id":"17201","alias":"wireless","type":"collective","title":"Беспроводные технологии","titleHtml":"Беспроводные технологии","isProfiled":true},{"id":"21476","alias":"raspberrypi","type":"collective","title":"Разработка на Raspberry Pi","titleHtml":"Разработка на Raspberry Pi","isProfiled":true},{"id":"21958","alias":"network_hardware","type":"collective","title":"Сетевое оборудование","titleHtml":"Сетевое оборудование","isProfiled":false},{"id":"21976","alias":"DIY","type":"collective","title":"DIY или Сделай сам","titleHtml":"DIY или Сделай сам","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование","titleHtml":"Администрирование"},{"id":"7","alias":"popsci","title":"Научпоп","titleHtml":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg  src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fyw\u002F1n\u002Fyw\u002Fyw1nyw9nry6xckjx5vcrlh4rlio.jpeg\" alt=\"raspap\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nДля построения Wi-Fi сети обычно используют готовые маршрутизаторы, функциональность которых всегда ограничен прошивкой. А если необходимо добавить блокировщик рекламы, VPN шлюз и красивый Captive portal, покупать новую железку? Стоимость устройства с такими возможностями будет уже весьма высока. Можно взять Linux с Hostapd и сделать точку доступа с Wi-Fi, но в отличие от готовых маршрутизаторов не будет наглядного Web-интерфейса. И для решения этой задачи был создан проект RaspAP, который на базе устройств с ОС Debian создает Wi-Fi Hotspot с Captive portal, VPN-шлюзом, Ad block. Для RaspAP в отличие от OpenWrt не требуется непосредственная поддержка устройства, достаточно поддержки последней версии Debian. RaspAP работает поверх уже установленных ОС: Raspberry Pi OS, Armbian, Debian, Ubuntu. Как сделать Wi-Fi Hotspot на RaspAP прошу под кат.\u003Cbr\u002F\u003E\r\n ","imageUrl":null,"buttonTextHtml":null,"image":null},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"garbuz":{"scoreStats":{"score":61,"votesCount":110},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"27613","alias":"garbuz","fullname":"Гобозов Георгий","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa47\u002Fea4\u002F3cc\u002Fa47ea43cc77a140fbea48cca56fb5be5.jpg","speciality":null}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
