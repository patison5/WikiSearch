<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Тайна незанятого xl0 или получаем контроль над своей сетью / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/71053\/"},"headline":"Тайна незанятого xl0 или получаем контроль над своей сетью","datePublished":"2009-09-30T14:20:11+04:00","dateModified":"2009-10-01T10:50:25+04:00","author":{"@type":"Person","name":"nightfly"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:  1. Настройка DHCP 2. Поднима...","url":"https:\/\/habr.com\/ru\/post\/71053\/#post-content-body","about":["h_nix","f_admin"],"image":["http:\/\/img195.imageshack.us\/img195\/3968\/dummiesm.jpg","http:\/\/img121.imageshack.us\/img121\/3422\/net.jpg","http:\/\/img28.imageshack.us\/img28\/7003\/sgconf.png","http:\/\/img121.imageshack.us\/img121\/4276\/testdel.png","http:\/\/img121.imageshack.us\/img121\/6268\/useradd.png","http:\/\/img219.imageshack.us\/img219\/6966\/tariffs.png","http:\/\/img219.imageshack.us\/img219\/6594\/cacti.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Тайна незанятого xl0 или получаем контроль над своей сетью" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Тайна незанятого xl0 или получаем контроль над своей сетью" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Тайна незанятого xl0 или получаем контроль над своей сетью" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:

1. Настройка DHCP
2. Поднимаем свой DNS по минимуму
3. Съем..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:

1. Настройка DHCP
2. Поднимаем свой DNS по минимуму
3. Съем..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:

1. Настройка DHCP
2. Поднимаем свой DNS по минимуму
3. Съем..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:

1. Настройка DHCP
2. Поднимаем свой DNS по минимуму
3. Съем..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:

1. Настройка DHCP
2. Поднимаем свой DNS по минимуму
3. Съем..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/71053/91d62709dc7a433f122b76cdf65bb928/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/71053/91d62709dc7a433f122b76cdf65bb928/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/71053/91d62709dc7a433f122b76cdf65bb928/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/71053/91d62709dc7a433f122b76cdf65bb928/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/71053/91d62709dc7a433f122b76cdf65bb928/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="71053" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2009-09-30T10:20:11.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/71053/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/71053/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/71053/91d62709dc7a433f122b76cdf65bb928/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/nightfly/" title="nightfly" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/getpro/habr/avatars/b11/df1/471/b11df1471e71efa5c3679a60978743ee.gif" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/nightfly/" class="tm-user-info__username">
      nightfly
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2009-09-30T10:20:11.000Z" title="2009-09-30, 14:20">30  сентября  2009 в 14:20</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Тайна незанятого xl0 или получаем контроль над своей сетью</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/nix/" class="tm-article-snippet__hubs-item-link"><span>*nix</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Как вы все помните, в конце <a href="http://nightfly.habrahabr.ru/blog/70414/">предыдущего поста</a> я обещал более подробно рассмотреть <i>вкратце и максимально доступно</i> следующие вопросы:<br/>
<br/>
1. Настройка DHCP<br/>
2. Поднимаем свой DNS по минимуму<br/>
3. Съем статистики по интерфейсам при помощи snmp и отрисовывание красот в cacti<br/>
4. Лимитирование по трафику пользователей внутри сети<br/>
5. Ведение детальной статистики по тому, как куда и кем расходуется трафик<br/>
6. Настройка бекапа каналов в случае наличия еще одного провайдера (а о xl0 все и забыли)<br/>
7. Разруливание трафика между несколькими каналами средствами ipfw<br/>
<img src="http://img195.imageshack.us/img195/3968/dummiesm.jpg" alt="image" data-src="http://img195.imageshack.us/img195/3968/dummiesm.jpg" data-blurred="true"/><br/>
<a name="habracut"></a><br/>
<i>В свете предыдущих обсуждений хотелось бы напомнить:</i><br/>
 — статьи сии из серии “FreeBSD for dummies”<br/>
 — нет, я не буду писать про pf и altq<br/>
 — успокойтесь с хардовыми решениями и проксями на винде – не о них идет речь<br/>
 — нет, про squid &amp; sarg ни слова – не наш метод, хотя ж никто не запрещал?<br/>
 — 10.10.10.0/24 и 172.16.0.0/24 потому что не 123.123.123.122 и не 222.222.222.222 мне глаз не режет<br/>
 — так делать нельзя и не рекомендуется – это не руководство, это просто демонстрация концепции в общем. В идеале не должно быть всяких allow from any to any, доступа к mysql под рутом итд. Ну вы поняли :)<br/>
<br/>
<i>Итак поехали по порядку</i><br/>
<br/>
Сверяемся для начала с нашей красивой сферической сетью в вакууме и решаем что было-бы хорошо раздавать всем сетевые настроечки (айпишку, маску, шлюз, днс-ы) автоматом <br/>
<br/>
<img src="http://img121.imageshack.us/img121/3422/net.jpg" alt="image" data-src="http://img121.imageshack.us/img121/3422/net.jpg" data-blurred="true"/><br/>
<br/>
Установка isc-dhcpd не должна вызывать никаких сложностей:<br/>
<code>#cd /usr/ports/net/isc-dhcp40-server/<br/>
#make install<br/>
</code><br/>
После чего в /etc/rc.conf добавляем следующее:<br/>
<code>dhcpd_enable="YES"<br/>
dhcpd_flags="-q"<br/>
dhcpd_conf="/usr/local/etc/dhcpd.conf"<br/>
dhcpd_ifaces="fxp0"<br/>
</code><br/>
<br/>
Далее правим наш /usr/local/etc/dhcpd.conf следующим удобным образом:<br/>
<code>option domain-name-servers 192.168.0.1;<br/>
default-lease-time 3600;<br/>
max-lease-time 43200;<br/>
authoritative;<br/>
ddns-update-style none;<br/>
log-facility local7;<br/>
one-lease-per-client true;<br/>
deny duplicates;<br/>
<br/>
subnet 192.168.0.0 netmask 255.255.255.0 {<br/>
 default-lease-time 3600;<br/>
 option domain-name "office";<br/>
 option subnet-mask 255.255.255.0;<br/>
 option routers 192.168.0.1;<br/>
<br/>
include "/usr/local/etc/dhcp_subnets.conf";<br/>
<br/>
}<br/>
</code><br/>
<br/>
Зачем так извратно? А чтобы проще было потом добавлять хосты в сабнет автоматом избегая возни с закзывающей «}»<br/>
<br/>
Поехали теперь смотреть что-же будет наш сабнет представлять из себя:<br/>
<br/>
/usr/local/etc/dhcp_subnets.conf<br/>
<br/>
и для теста вбиваем следующее:<br/>
<code>host hostmariya {<br/>
 hardware ethernet 00:a1:b0:01:bc:77;<br/>
 fixed-address 192.168.0.2;<br/>
 }<br/>
</code><br/>
<br/>
Все вроде, пробуем это все дело стартовать<br/>
<code># /usr/local/etc/rc.d/isc-dhcpd start<br/>
</code><br/>
<br/>
Оппаньки – запустилось. Ок. <br/>
Как вы могли заметить по опциям option domain-name-servers 192.168.0.1 сейчас мы будем по ускоренной программе подымать свой DNS сервер. Будет он у нас только форвардящим, ибо мы полностью пока что полагаемся на безупречность нашего провайдера. Да и свои зоны пока что вести не будем. Будем просто раздавать Наталье Васильевне и Григорию Сергеичу интернеты. Даже на двух провайдеров мы будем полагаться. <br/>
<i>Почему двух? </i><br/>
ВНЕЗАПНО появляется второй провайдер, более быстрый и дешевый. А от старого мы отказываться так не собираемся – зачем добру пропадать. Будем использовать его как резервный линк.<br/>
<br/>
Смотрим /etc/namedb/named.conf<br/>
<br/>
Раскаментиваем <br/>
<code>forward only;<br/>
</code><br/>
<br/>
Начинаем слушать наш внутренний fxp0<br/>
<code>listen-on { 127.0.0.1; 192.168.0.1; };<br/>
</code><br/>
<br/>
Раскоментиваем форвардеров которые у нас будут иметь вид допустим 10.10.10.2 и 172.16.0.2 (да да – второй провайдер у нас уже живет на сетевухе xl0 на которой висит айпишка допустим 172.16.0.1)<br/>
<code> forwarders {<br/>
 10.10.10.2;<br/>
 172.16.0.1;<br/>
 };<br/>
</code><br/>
<br/>
Сохраняемся и пробуем запускать:<br/>
<code>#/usr/sbin/named -t /var/named -u bind<br/>
</code><br/>
<br/>
Тестим запустилось ли хотябы:<br/>
<code>#ps aux | grep named<br/>
bind 10095 0.0 0.7 4280 3484 ?? Ss 7:58PM 0:00.11 /usr/sbin/named -t /var/named -u bind<br/>
</code><br/>
<br/>
Вроде запустилось<br/>
<br/>
а работает ли?<br/>
<br/>
<code># nslookup<br/>
> server 127.0.0.1<br/>
Default server: 127.0.0.1<br/>
Address: 127.0.0.1#53<br/>
> google.com<br/>
Server: 127.0.0.1<br/>
Address: 127.0.0.1#53<br/>
<br/>
Non-authoritative answer:<br/>
Name: google.com<br/>
Address: 74.125.127.100<br/>
Name: google.com<br/>
Address: 74.125.45.100<br/>
Name: google.com<br/>
Address: 74.125.67.100<br/>
</code><br/>
<br/>
Работает! Отличненько.<br/>
<br/>
Пишем в /etc/rc.conf строчечку <br/>
<code>named_enable="YES"<br/>
</code><br/>
<br/>
исправляемся в /etc/resolv.conf <br/>
на <br/>
<code>nameserver 127.0.0.1 <br/>
</code><br/>
<br/>
Как уже говорилось у нас появился еще один провайдер которого мы хотели бы использовать как основного? <br/>
Открываем наш страдальческий /etc/firewall.conf и в том месте где у нас все натиться делам допустим так:<br/>
<code>#internet natting and preserving<br/>
${FwCMD} add 1799 divert 8671 ip from table\(2\) to not table\(9\) <br/>
${FwCMD} add 1800 divert 8672 ip from table\(2\) to not table\(9\) out via xl0<br/>
${FwCMD} add 1847 fwd 172.16.0.2 ip from me to 213.180.204.8<br/>
${FwCMD} add 1849 fwd 10.10.10.2 ip from 10.10.10.1 to not table\(9\)<br/>
${FwCMD} add 1850 fwd 172.16.0.2 ip from 172.16.0.1 to not table\(9\)<br/>
${FwCMD} add 2099 divert 8671 ip from any to 10.10.10.1 in via rl0<br/>
${FwCMD} add 2100 divert 8672 ip from any to 172.16.0.1 in via xl0<br/>
</code><br/>
<br/>
Ну и подымаем второй natd для нового провайдера:<br/>
<code>/sbin/natd -u -p 8672 -a 172.16.0.1<br/>
</code><br/>
<br/>
Давайте в кратце разберем как это работает чтобы в будущем мы не путались:<br/>
• Правило 1799 это прямой заворот трафика от нашей сети из таблички 2 в natd <br/>
• Правило 1800 аналогично предыдущему но уже для резервного канала и естественно туда ничего не попадет пока существует 1799<br/>
• Правила 1847 предназначено только для прокидывания нужного нам хоста по которому мы будем контролировать живость канала сквозь нового провайдера (172.16.0.2)<br/>
• Правила 1849 и 1850 жестко рассказывают куда девать трафик появившийся на соответствующих сетевухах<br/>
• Ну и 2099 и 2100 соответственно обратные диверты в natd<br/>
<br/>
Логика работы проста – если живы правила 1799, 1849, 2099 интернет ходит новым провайдером который 172.16.0.2 если же они отсутствуют трафик «неожиданно» устремляется в 10.10.10.2 =)<br/>
Переключалку такую мы с вами напишем чуть позже.<br/>
<br/>
Смотрим что шло следующим пунктом нашей программы на сегодня. Ой… snmp и установка apache+mysql+php+cacti… А можно на следующий раз отложим? Ну-у-у пожалуйста-а-а! Ну хотябы установку и настройку cacti. Давайте сейчас будем ставить биллинг, а мониторить и допиливать до красивости все это мы будем в финале? <br/>
Договорились? ;) Тогда поехали.<br/>
<br/>
Для таких микрозадач использовать мы будем опенсорсный биллинг stargazer который является самым простым и предсказуемым решением из тех что я до сих пор видел.<br/>
Для его установки нам потребуется:<br/>
1. mysql в котором мы будем хранить данные биллинга<br/>
2. так как стройные костыли и подпорки мы будем писать на php поставим уж и php + apache<br/>
3. собственно последний стабильный stargazer<br/>
<br/>
Для начала рекомендую ознайомиться хотя-бы с вот такой минимальной докой либо с другими посвященными установке связки apache+php+mysql. Опишу вкратце.<br/>
<br/>
<i>Поехали ставить mysql.</i><br/>
<code># cd /usr/ports/databases/mysql50-server/<br/>
# make install<br/>
# /usr/local/bin/mysqladmin -u root -p password ourpassword<br/>
</code><br/>
<br/>
<i>Начинаем ставить php</i><br/>
<code># cd /usr/ports/lang/php5/<br/>
# make install<br/>
</code><br/>
<br/>
И собираем расширения поддержки mysql, gd, iconv ну и еще что нам может понадобиться в будущем<br/>
<br/>
<code># cd /usr/ports/lang/php5-extensions<br/>
# make install <br/>
</code><br/>
<br/>
Пробуем все ли установилось так как нам хотелось бы:<br/>
<code># apachectl start<br/>
# echo "&lt;?php phpinfo(); ?>" > /usr/local/www/data/test.php<br/>
</code><br/>
<br/>
Ну и собственно проверяем все ли получилось так как хотелось зайдя браузером по адресочку <a href="http://192.168.0.1/test.php">192.168.0.1/test.php</a><br/>
<br/>
Отлично. Теперь начинаем ставить то для чего все это затеивалось:<br/>
<code><a href="http://www.stg.dp.ua/download/server/2.406/stg-2.406.src.tgz"></a># fetch www.stg.dp.ua/download/server/2.406/stg-2.406.src.tgz<br/>
# tar zxvf stg-2.406.src.tgz<br/>
# cd stg-2.406<br/>
# cd projects/stargazer/<br/>
# ./build<br/>
#gmake install<br/>
#cd ../convertor/<br/>
#./build<br/>
</code><br/>
<br/>
Теперь будем конвертировать дефолтную текстовую базу в mysql. Правим convertor.conf:<br/>
<br/>
Комментируем store_postgresql:<br/>
<code>#&lt;DestStoreModule store_postgresql><br/>
# server = localhost<br/>
# database = stargazer<br/>
# user = stg<br/>
# password = 123456<br/>
#</code><br/>
<br/>
<br/>
Раскоменчиваем и приводим к нужному виду store_mysql:<br/>
<code>&lt;DestStoreModule store_mysql><br/>
 # Имя пользователя БД<br/>
 dbuser = root<br/>
<br/>
# Пароль пользователя БД<br/>
 rootdbpass = ourpassword<br/>
<br/>
# Имя БД на сервере<br/>
 dbname = stg<br/>
<br/>
# Адрес сервера БД<br/>
 dbhost = localhost<br/>
</code><br/>
<br/>
<br/>
Пробуем конвертиться:<br/>
<code># ./convertor<br/>
</code><br/>
<br/>
Пустая база конвертиться моментально. Начинаем конфигурить stargazer.<br/>
Прописываем классы трафика <br/>
<code># vim /etc/stargazer/rules<br/>
ALL 192.168.0.0/24 DIR1<br/>
ALL 0.0.0.0/0 DIR0<br/>
</code><br/>
<br/>
Подганяем под реалии жизни конфиг:<br/>
<code>#vim /etc/stargazer/stargazer.conf<br/>
</code><br/>
<br/>
По минимуму правим названия направлений:<br/>
<code> DirName0 = internet<br/>
 DirName1 = local<br/>
 DirName2 = <br/>
 DirName3 =<br/>
 DirName4 =<br/>
 DirName5 = <br/>
 DirName6 =<br/>
 DirName7 =<br/>
 DirName8 =<br/>
 DirName9 =<br/>
<br/>
</code><br/>
<br/>
Строим модуль захвата трафика cap_bpf так чтобы он считал его на интерфейсе смотрящем во внутреннюю сеть<br/>
<code>&lt;Module cap_bpf><br/>
 iface = fxp0<br/>
 </code><br/>
<br/>
<br/>
Коментируем все что относиться к &lt;StoreModule store_files> и по аналогии с конвертером подключаем модуль &lt;StoreModule store_mysql>:<br/>
<code>&lt;StoreModule store_mysql><br/>
 dbuser = root<br/>
 rootdbpass = ourpassword<br/>
 dbname = stg<br/>
 dbhost = localhost<br/>
</code><br/>
<br/>
<br/>
Пробуем запускать сам stargazer:<br/>
<code>#stargazer<br/>
</code><br/>
<br/>
И проверяем как запустились<br/>
<code>#tail /var/log/stargazer.log<br/>
</code><br/>
<br/>
Если мы видим что-то похожее на Stg started successfully. Значит есть шансы на жизнь ;)<br/>
Загружаем windows конфигуратор по адресу <a href="http://stg.dp.ua/download/sgconfig/1.91.9/sgconfig.1.91.9.win.exe">stg.dp.ua/download/sgconfig/1.91.9/sgconfig.1.91.9.win.exe</a> и после установки в настройках ставим коннект на 192.168.0.1:5555<br/>
Логин/пароль по умолчанию admin/123456. После логина мы должны увидеть что-то типа<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="http://img28.imageshack.us/img28/7003/sgconf.png"/><br/>
<br/>
С умолчальным пользователем test которого тут, же смело удаляем.<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="http://img121.imageshack.us/img121/4276/testdel.png"/><br/>
<br/>
Меняем пароль админа, либо добавляем новых. Добавляем исходя из старой схемы для теста нашу Марию Ивановну из бухгалтерии с айпишкой 192.168.0.2<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="http://img121.imageshack.us/img121/6268/useradd.png"/><br/>
<br/>
Будет она у нас «всегда Online» потому, что незачем в условиях офиса использовать auth_ia требующий указывать логин/пароль для доступа к сети. <br/>
В поля UserData0 и UserData1 вбиваем скорость и MAC и вот зачем:<br/>
Логика работы stargazer очень проста и гибка. В моменты когда пользователь появляеться онлайн, отсоединяется, удаляется и добавляется исполняються следующие скрипты:<br/>
<code>OnConnect<br/>
OnDisconnect<br/>
OnChange<br/>
OnUserAdd<br/>
OnUserDel<br/>
</code><br/>
<br/>
О назначении которых, несложно догадаться по их названиям. Все они находяться в /etc/stargazer/<br/>
<br/>
<i>Начинаем подганять их под наши реалии</i><br/>
Для начала создаем еще 2 скриптика на PHP (не даром же ставили его ;) при помощи которых мы будем получать скорость и МАС пользователя из базы.<br/>
Скрипт /etc/stargazer/GetSpeed с содержанием <br/>
<code>#!/usr/local/bin/php<br/>
&lt;?php<br/>
$login=$argv[1];<br/>
$link = mysql_connect("localhost", "root", "ourpassword");<br/>
mysql_select_db("stg");<br/>
$query = 'SELECT `Userdata0` FROM users where `login`= "'.$login.'"';<br/>
$result = mysql_query($query);<br/>
while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {<br/>
foreach ($line as $col_value) {<br/>
print ($col_value);<br/>
 }<br/>
}<br/>
?><br/>
</code><br/>
<br/>
И /etc/stargazer/GetMac вида<br/>
<code>#!/usr/local/bin/php<br/>
&lt;?php<br/>
$login=$argv[1];<br/>
$link = mysql_connect("localhost", "root", "ourpassword");<br/>
mysql_select_db("stg");<br/>
$query = 'SELECT `Userdata1` FROM users where `login`= "'.$login.'"';<br/>
$result = mysql_query($query);<br/>
while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {<br/>
foreach ($line as $col_value) {<br/>
print ($col_value);<br/>
 }<br/>
}<br/>
?><br/>
</code><br/>
<br/>
Назначаем им права для выполнения <br/>
<code>#chmod a+x /etc/stargazer/GetMac /etc/stargazer/GetSpeed<br/>
</code><br/>
<br/>
Тестим их на тему работоспособности для ранее созданного пользователя:<br/>
<code># /etc/stargazer/GetSpeed mariya<br/>
512<br/>
/etc/stargazer/GetMac mariya<br/>
00:a1:b0:01:bc:77<br/>
</code><br/>
<br/>
Отлично!<br/>
<br/>
Начинаем думать что же будет случаться когда пользователь появляется онлайн и выпадает в оффлайн.<br/>
Итак Что же будет случаться при появлении пользователя онлайн:<br/>
<code># OnConnect<br/>
IFACE="fxp0"<br/>
LOGIN=$1<br/>
IP=$2<br/>
CASH=$3<br/>
ID=$4<br/>
SPEED=`/etc/stargazer/GetSpeed $LOGIN`<br/>
MAC=`/etc/stargazer/GetMac $LOGIN`<br/>
SCOUNT="Kbit/s"<br/>
fwcmd="/sbin/ipfw -q"<br/>
arpcmd="/usr/sbin/arp"<br/>
cur_date=`date \+\%Y.\%m.\%d`<br/>
cur_time=`date \+\%H:\%M:\%S`<br/>
<br/>
# DELETE RULEZ<br/>
${fwcmd} delete `expr $ID '*' 10 + 10001`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10002`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10003`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10004`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10005`<br/>
<br/>
# ADD RULEZ<br/>
<br/>
# fix user mac to ip<br/>
${arpcmd} -S $IP $MAC<br/>
<br/>
#SPEED CONTROL<br/>
${fwcmd} pipe `expr $ID + 101` config bw $SPEED$SCOUNT queue `expr $SPEED '/' 8`Kbytes<br/>
${fwcmd} pipe `expr $ID + 901` config bw $SPEED$SCOUNT queue `expr $SPEED '/' 8`Kbytes<br/>
<br/>
# ALLOWS CONTROL<br/>
${fwcmd} add `expr $ID '*' 10 + 10001` allow icmp from $IP to me<br/>
${fwcmd} add `expr $ID '*' 10 + 10001` allow icmp from me to $IP<br/>
${fwcmd} add `expr $ID '*' 10 + 10002` pipe `expr $ID + 101` ip from $IP to any via $IFACE in<br/>
${fwcmd} add `expr $ID '*' 10 + 10003` pipe `expr $ID + 901` ip from any to $IP via $IFACE out<br/>
${fwcmd} add `expr $ID '*' 10 + 10004` allow ip from $IP to any<br/>
${fwcmd} add `expr $ID '*' 10 + 10005` allow ip from any to $IP<br/>
<br/>
# ADD TO LOG<br/>
echo "&lt;=;$cur_date;$cur_time;$ID;$LOGIN;$IP;$CASH;$SPEED;`expr $ID + 101`;$MAC" >> /var/stargazer/allconnect.log<br/>
</code><br/>
<br/>
и что будет случаться если он выпадает из онлайна:<br/>
<code># OnDisconnect<br/>
LOGIN=$1<br/>
IP=$2<br/>
CASH=$3<br/>
ID=$4<br/>
<br/>
fwcmd="/sbin/ipfw -q"<br/>
<br/>
# TIME FORMAT<br/>
cur_date=`date \+\%Y.\%m.\%d`<br/>
cur_time=`date \+\%H:\%M:\%S`<br/>
<br/>
# DELETE RULEZ FRO IPFW<br/>
${fwcmd} delete `expr $ID '*' 10 + 10001`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10002`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10003`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10004`<br/>
${fwcmd} delete `expr $ID '*' 10 + 10005`<br/>
${fwcmd} pipe `expr $ID + 101` delete<br/>
${fwcmd} pipe `expr $ID + 901` delete<br/>
echo "=>;$cur_date;$cur_time;$ID;$LOGIN;$IP;$CASH" >> /var/stargazer/allconnect.log<br/>
</code><br/>
<br/>
Думаю здесь все понятно – мы просто подымаем/удаляем соответствующие внтуренним ID пользователя правила шейпинга и делающие ему allow дальше чем наш локальный интерфейс fxp0.<br/>
Помниться у нас изначально они ничем не ограничивались ибо в самом конце стояло allow ip from any to any? Нет проблем.<br/>
Добавляем в /etc/firewall.conf что-то типа <br/>
<code>${FwCMD} add 101 allow all from 192.168.0.1 to any<br/>
${FwCMD} add 101 allow all from any to 192.168.0.1<br/>
${FwCMD} add 65533 deny all from table\(2\) to any<br/>
${FwCMD} add 65534 deny all from any to table\(2\)<br/>
</code><br/>
<br/>
Теперь пробуем по включать/повыключать «всегда Online» для нашего подопытного пользователя и смотрим /var/stargazer/allconnect.log<br/>
<i>Хозяйке на заметку</i>: всегда полезно контролировать на глаз что и как ходит и по каким правилам при помощи <br/>
<code>#ipfw show<br/>
</code><br/>
<br/>
Все – в минимальном варианте биллинг доставили. Вы спросите а зачем нам считать деньги? Да очень просто – мы же хотели нашей Марьивановне выдавать не более 500 мег интернетов в месяц либо просто выдавать ей в ручную по надобности определенную скорость с определенным количеством трафика? Нет проблем. Просто приравниваем 1мег к одной денюжке для простоты расчета. Допустим так<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="http://img219.imageshack.us/img219/6966/tariffs.png"/><br/>
<br/>
В общем простор для творчества есть.<br/>
<br/>
По-моему статья получилась какой-то крайне затянутой и мрачной. Явно пора заокругляться.<br/>
<br/>
В следующий раз если карма позволит обещаюсь таки рассказать как сделать переключалку на резервный канал, рисовать вот такие красивые графички при помощи cacti <br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="http://img219.imageshack.us/img219/6594/cacti.png"/><br/>
<br/>
и как удобно оформить отображение статистики по трафику собранной установленным нами сегодня stargazer.<br/>
<br/>
ЗЫ и да – мой русский неученый в школе с предыдущего раза как не прискорбно не улучшился :(<br/>
<habracut></habracut></div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D0%BE%D0%B5%20%D0%B0%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%5D" class="tm-article-body__tags-item-link">системное администрирование</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BFreeBSD%5D" class="tm-article-body__tags-item-link">FreeBSD</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bipfw%5D" class="tm-article-body__tags-item-link">ipfw</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bdummynet%5D" class="tm-article-body__tags-item-link">dummynet</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Brouting%5D" class="tm-article-body__tags-item-link">routing</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bbilling%5D" class="tm-article-body__tags-item-link">billing</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/nix/" class="tm-article-body__tags-item-link">
                  *nix
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 65: ↑56 и ↓9</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 65: ↑56 и ↓9" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+47</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    185
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/71053/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      25
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/nightfly/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/b11/df1/471/b11df1471e71efa5c3679a60978743ee.gif" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 235 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    102.7
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><!----> <a href="/ru/users/nightfly/" class="tm-user-card__nickname">
          @nightfly
        </a> <!----></div> <p class="tm-user-card__short-info">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/71053/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 25 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2013-03-26T17:54:26.000Z" title="2013-03-26, 21:54">26  марта  2013 в 21:54</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/174319/" class="tm-article-title__link"><span>За что я ненавижу аутсорсинговое системное администрирование. Взгляд со стороны клиента</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 134: ↑116 и ↓18</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 134: ↑116 и ↓18" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+98</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">111K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    237
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/174319/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      285
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2012-09-17T17:09:19.000Z" title="2012-09-17, 21:09">17  сентября  2012 в 21:09</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/151650/" class="tm-article-title__link"><span>7 очевидных правил безопасного системного администрирования физических серверов</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 91: ↑71 и ↓20</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 91: ↑71 и ↓20" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+51</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">72K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    359
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/151650/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      70
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2009-09-23T13:55:06.000Z" title="2009-09-23, 17:55">23  сентября  2009 в 17:55</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/70414/" class="tm-article-title__link"><span>Рассматриваем простейшие случаи раздачи интернета внутри офисной сети</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 20: ↑19 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 20: ↑19 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+18</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">6.8K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    62
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/70414/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      62
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T09:00:04.000Z" title="2021-09-27, 12:00">вчера в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580060/" class="tm-article-title__link"><span>Арракис, который мы заслужили</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 141: ↑136 и ↓5</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 141: ↑136 и ↓5" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+131</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">20K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    37
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580060/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      107
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T13:03:14.000Z" title="2021-09-27, 16:03">вчера в 16:03</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580124/" class="tm-article-title__link"><span>Электролюминесцентные индикаторы из прошлого</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 68: ↑68 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 68: ↑68 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+68</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">4.6K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    37
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580124/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      11
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T16:41:21.000Z" title="2021-09-27, 19:41">вчера в 19:41</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/lamptest/blog/580228/" class="tm-article-title__link"><span>Идеальная светодиодная лампа за 21 рубль</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 67: ↑65 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 67: ↑65 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+63</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">8.2K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    35
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/lamptest/blog/580228/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      24
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T21:49:14.000Z" title="2021-09-27, 00:49">вчера в 00:49</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580092/" class="tm-article-title__link"><span>30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 51: ↑51 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 51: ↑51 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+51</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">20K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    59
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580092/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      94
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T12:53:02.000Z" title="2021-09-27, 15:53">вчера в 15:53</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580210/" class="tm-article-title__link"><span>PHP Дайджест № 212 (13 – 27 сентября 2021)</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 38: ↑38 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 38: ↑38 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+38</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.3K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    10
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580210/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="71053" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/71053/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/71053/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"71053":{"id":"71053","timePublished":"2009-09-30T10:20:11+00:00","isCorporative":false,"lang":"ru","titleHtml":"Тайна незанятого xl0 или получаем контроль над своей сетью","leadData":{"textHtml":"Как вы все помните, в конце \u003Ca href=\"http:\u002F\u002Fnightfly.habrahabr.ru\u002Fblog\u002F70414\u002F\"\u003Eпредыдущего поста\u003C\u002Fa\u003E я обещал более подробно рассмотреть \u003Ci\u003Eвкратце и максимально доступно\u003C\u002Fi\u003E следующие вопросы:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1. Настройка DHCP\u003Cbr\u002F\u003E\r\n2. Поднимаем свой DNS по минимуму\u003Cbr\u002F\u003E\r\n3. Съем статистики по интерфейсам при помощи snmp и отрисовывание красот в cacti\u003Cbr\u002F\u003E\r\n4. Лимитирование по трафику пользователей внутри сети\u003Cbr\u002F\u003E\r\n5. Ведение детальной статистики по тому, как куда и кем расходуется трафик\u003Cbr\u002F\u003E\r\n6. Настройка бекапа каналов в случае наличия еще одного провайдера (а о xl0 все и забыли)\u003Cbr\u002F\u003E\r\n7. Разруливание трафика между несколькими каналами средствами ipfw\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"http:\u002F\u002Fimg195.imageshack.us\u002Fimg195\u002F3968\u002Fdummiesm.jpg\" alt=\"image\"\u002F\u003E\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":102.7,"votesCount":235},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"51237","alias":"nightfly","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb11\u002Fdf1\u002F471\u002Fb11df1471e71efa5c3679a60978743ee.gif","speciality":null},"statistics":{"commentsCount":25,"favoritesCount":185,"readingCount":5511,"score":47,"votesCount":65},"hubs":[{"relatedData":null,"id":"7289","alias":"nix","type":"collective","title":"*nix","titleHtml":"*nix","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EКак вы все помните, в конце \u003Ca href=\"http:\u002F\u002Fnightfly.habrahabr.ru\u002Fblog\u002F70414\u002F\"\u003Eпредыдущего поста\u003C\u002Fa\u003E я обещал более подробно рассмотреть \u003Ci\u003Eвкратце и максимально доступно\u003C\u002Fi\u003E следующие вопросы:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1. Настройка DHCP\u003Cbr\u002F\u003E\r\n2. Поднимаем свой DNS по минимуму\u003Cbr\u002F\u003E\r\n3. Съем статистики по интерфейсам при помощи snmp и отрисовывание красот в cacti\u003Cbr\u002F\u003E\r\n4. Лимитирование по трафику пользователей внутри сети\u003Cbr\u002F\u003E\r\n5. Ведение детальной статистики по тому, как куда и кем расходуется трафик\u003Cbr\u002F\u003E\r\n6. Настройка бекапа каналов в случае наличия еще одного провайдера (а о xl0 все и забыли)\u003Cbr\u002F\u003E\r\n7. Разруливание трафика между несколькими каналами средствами ipfw\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"http:\u002F\u002Fimg195.imageshack.us\u002Fimg195\u002F3968\u002Fdummiesm.jpg\" alt=\"image\" data-src=\"http:\u002F\u002Fimg195.imageshack.us\u002Fimg195\u002F3968\u002Fdummiesm.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EВ свете предыдущих обсуждений хотелось бы напомнить:\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n — статьи сии из серии “FreeBSD for dummies”\u003Cbr\u002F\u003E\r\n — нет, я не буду писать про pf и altq\u003Cbr\u002F\u003E\r\n — успокойтесь с хардовыми решениями и проксями на винде – не о них идет речь\u003Cbr\u002F\u003E\r\n — нет, про squid &amp; sarg ни слова – не наш метод, хотя ж никто не запрещал?\u003Cbr\u002F\u003E\r\n — 10.10.10.0\u002F24 и 172.16.0.0\u002F24 потому что не 123.123.123.122 и не 222.222.222.222 мне глаз не режет\u003Cbr\u002F\u003E\r\n — так делать нельзя и не рекомендуется – это не руководство, это просто демонстрация концепции в общем. В идеале не должно быть всяких allow from any to any, доступа к mysql под рутом итд. Ну вы поняли :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EИтак поехали по порядку\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСверяемся для начала с нашей красивой сферической сетью в вакууме и решаем что было-бы хорошо раздавать всем сетевые настроечки (айпишку, маску, шлюз, днс-ы) автоматом \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"http:\u002F\u002Fimg121.imageshack.us\u002Fimg121\u002F3422\u002Fnet.jpg\" alt=\"image\" data-src=\"http:\u002F\u002Fimg121.imageshack.us\u002Fimg121\u002F3422\u002Fnet.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУстановка isc-dhcpd не должна вызывать никаких сложностей:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#cd \u002Fusr\u002Fports\u002Fnet\u002Fisc-dhcp40-server\u002F\u003Cbr\u002F\u003E\r\n#make install\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nПосле чего в \u002Fetc\u002Frc.conf добавляем следующее:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Edhcpd_enable=\"YES\"\u003Cbr\u002F\u003E\r\ndhcpd_flags=\"-q\"\u003Cbr\u002F\u003E\r\ndhcpd_conf=\"\u002Fusr\u002Flocal\u002Fetc\u002Fdhcpd.conf\"\u003Cbr\u002F\u003E\r\ndhcpd_ifaces=\"fxp0\"\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДалее правим наш \u002Fusr\u002Flocal\u002Fetc\u002Fdhcpd.conf следующим удобным образом:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Eoption domain-name-servers 192.168.0.1;\u003Cbr\u002F\u003E\r\ndefault-lease-time 3600;\u003Cbr\u002F\u003E\r\nmax-lease-time 43200;\u003Cbr\u002F\u003E\r\nauthoritative;\u003Cbr\u002F\u003E\r\nddns-update-style none;\u003Cbr\u002F\u003E\r\nlog-facility local7;\u003Cbr\u002F\u003E\r\none-lease-per-client true;\u003Cbr\u002F\u003E\r\ndeny duplicates;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nsubnet 192.168.0.0 netmask 255.255.255.0 {\u003Cbr\u002F\u003E\r\n default-lease-time 3600;\u003Cbr\u002F\u003E\r\n option domain-name \"office\";\u003Cbr\u002F\u003E\r\n option subnet-mask 255.255.255.0;\u003Cbr\u002F\u003E\r\n option routers 192.168.0.1;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\ninclude \"\u002Fusr\u002Flocal\u002Fetc\u002Fdhcp_subnets.conf\";\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n}\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗачем так извратно? А чтобы проще было потом добавлять хосты в сабнет автоматом избегая возни с закзывающей «}»\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПоехали теперь смотреть что-же будет наш сабнет представлять из себя:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u002Fusr\u002Flocal\u002Fetc\u002Fdhcp_subnets.conf\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nи для теста вбиваем следующее:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Ehost hostmariya {\u003Cbr\u002F\u003E\r\n hardware ethernet 00:a1:b0:01:bc:77;\u003Cbr\u002F\u003E\r\n fixed-address 192.168.0.2;\u003Cbr\u002F\u003E\r\n }\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВсе вроде, пробуем это все дело стартовать\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# \u002Fusr\u002Flocal\u002Fetc\u002Frc.d\u002Fisc-dhcpd start\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОппаньки – запустилось. Ок. \u003Cbr\u002F\u003E\r\nКак вы могли заметить по опциям option domain-name-servers 192.168.0.1 сейчас мы будем по ускоренной программе подымать свой DNS сервер. Будет он у нас только форвардящим, ибо мы полностью пока что полагаемся на безупречность нашего провайдера. Да и свои зоны пока что вести не будем. Будем просто раздавать Наталье Васильевне и Григорию Сергеичу интернеты. Даже на двух провайдеров мы будем полагаться. \u003Cbr\u002F\u003E\r\n\u003Ci\u003EПочему двух? \u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\nВНЕЗАПНО появляется второй провайдер, более быстрый и дешевый. А от старого мы отказываться так не собираемся – зачем добру пропадать. Будем использовать его как резервный линк.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСмотрим \u002Fetc\u002Fnamedb\u002Fnamed.conf\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРаскаментиваем \u003Cbr\u002F\u003E\r\n\u003Ccode\u003Eforward only;\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНачинаем слушать наш внутренний fxp0\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Elisten-on { 127.0.0.1; 192.168.0.1; };\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРаскоментиваем форвардеров которые у нас будут иметь вид допустим 10.10.10.2 и 172.16.0.2 (да да – второй провайдер у нас уже живет на сетевухе xl0 на которой висит айпишка допустим 172.16.0.1)\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E forwarders {\u003Cbr\u002F\u003E\r\n 10.10.10.2;\u003Cbr\u002F\u003E\r\n 172.16.0.1;\u003Cbr\u002F\u003E\r\n };\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСохраняемся и пробуем запускать:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#\u002Fusr\u002Fsbin\u002Fnamed -t \u002Fvar\u002Fnamed -u bind\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТестим запустилось ли хотябы:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#ps aux | grep named\u003Cbr\u002F\u003E\r\nbind 10095 0.0 0.7 4280 3484 ?? Ss 7:58PM 0:00.11 \u002Fusr\u002Fsbin\u002Fnamed -t \u002Fvar\u002Fnamed -u bind\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВроде запустилось\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nа работает ли?\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# nslookup\u003Cbr\u002F\u003E\r\n\u003E server 127.0.0.1\u003Cbr\u002F\u003E\r\nDefault server: 127.0.0.1\u003Cbr\u002F\u003E\r\nAddress: 127.0.0.1#53\u003Cbr\u002F\u003E\r\n\u003E google.com\u003Cbr\u002F\u003E\r\nServer: 127.0.0.1\u003Cbr\u002F\u003E\r\nAddress: 127.0.0.1#53\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nNon-authoritative answer:\u003Cbr\u002F\u003E\r\nName: google.com\u003Cbr\u002F\u003E\r\nAddress: 74.125.127.100\u003Cbr\u002F\u003E\r\nName: google.com\u003Cbr\u002F\u003E\r\nAddress: 74.125.45.100\u003Cbr\u002F\u003E\r\nName: google.com\u003Cbr\u002F\u003E\r\nAddress: 74.125.67.100\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРаботает! Отличненько.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПишем в \u002Fetc\u002Frc.conf строчечку \u003Cbr\u002F\u003E\r\n\u003Ccode\u003Enamed_enable=\"YES\"\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nисправляемся в \u002Fetc\u002Fresolv.conf \u003Cbr\u002F\u003E\r\nна \u003Cbr\u002F\u003E\r\n\u003Ccode\u003Enameserver 127.0.0.1 \u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКак уже говорилось у нас появился еще один провайдер которого мы хотели бы использовать как основного? \u003Cbr\u002F\u003E\r\nОткрываем наш страдальческий \u002Fetc\u002Ffirewall.conf и в том месте где у нас все натиться делам допустим так:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#internet natting and preserving\u003Cbr\u002F\u003E\r\n${FwCMD} add 1799 divert 8671 ip from table\\(2\\) to not table\\(9\\) \u003Cbr\u002F\u003E\r\n${FwCMD} add 1800 divert 8672 ip from table\\(2\\) to not table\\(9\\) out via xl0\u003Cbr\u002F\u003E\r\n${FwCMD} add 1847 fwd 172.16.0.2 ip from me to 213.180.204.8\u003Cbr\u002F\u003E\r\n${FwCMD} add 1849 fwd 10.10.10.2 ip from 10.10.10.1 to not table\\(9\\)\u003Cbr\u002F\u003E\r\n${FwCMD} add 1850 fwd 172.16.0.2 ip from 172.16.0.1 to not table\\(9\\)\u003Cbr\u002F\u003E\r\n${FwCMD} add 2099 divert 8671 ip from any to 10.10.10.1 in via rl0\u003Cbr\u002F\u003E\r\n${FwCMD} add 2100 divert 8672 ip from any to 172.16.0.1 in via xl0\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу и подымаем второй natd для нового провайдера:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u002Fsbin\u002Fnatd -u -p 8672 -a 172.16.0.1\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДавайте в кратце разберем как это работает чтобы в будущем мы не путались:\u003Cbr\u002F\u003E\r\n• Правило 1799 это прямой заворот трафика от нашей сети из таблички 2 в natd \u003Cbr\u002F\u003E\r\n• Правило 1800 аналогично предыдущему но уже для резервного канала и естественно туда ничего не попадет пока существует 1799\u003Cbr\u002F\u003E\r\n• Правила 1847 предназначено только для прокидывания нужного нам хоста по которому мы будем контролировать живость канала сквозь нового провайдера (172.16.0.2)\u003Cbr\u002F\u003E\r\n• Правила 1849 и 1850 жестко рассказывают куда девать трафик появившийся на соответствующих сетевухах\u003Cbr\u002F\u003E\r\n• Ну и 2099 и 2100 соответственно обратные диверты в natd\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЛогика работы проста – если живы правила 1799, 1849, 2099 интернет ходит новым провайдером который 172.16.0.2 если же они отсутствуют трафик «неожиданно» устремляется в 10.10.10.2 =)\u003Cbr\u002F\u003E\r\nПереключалку такую мы с вами напишем чуть позже.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСмотрим что шло следующим пунктом нашей программы на сегодня. Ой… snmp и установка apache+mysql+php+cacti… А можно на следующий раз отложим? Ну-у-у пожалуйста-а-а! Ну хотябы установку и настройку cacti. Давайте сейчас будем ставить биллинг, а мониторить и допиливать до красивости все это мы будем в финале? \u003Cbr\u002F\u003E\r\nДоговорились? ;) Тогда поехали.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля таких микрозадач использовать мы будем опенсорсный биллинг stargazer который является самым простым и предсказуемым решением из тех что я до сих пор видел.\u003Cbr\u002F\u003E\r\nДля его установки нам потребуется:\u003Cbr\u002F\u003E\r\n1. mysql в котором мы будем хранить данные биллинга\u003Cbr\u002F\u003E\r\n2. так как стройные костыли и подпорки мы будем писать на php поставим уж и php + apache\u003Cbr\u002F\u003E\r\n3. собственно последний стабильный stargazer\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля начала рекомендую ознайомиться хотя-бы с вот такой минимальной докой либо с другими посвященными установке связки apache+php+mysql. Опишу вкратце.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EПоехали ставить mysql.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# cd \u002Fusr\u002Fports\u002Fdatabases\u002Fmysql50-server\u002F\u003Cbr\u002F\u003E\r\n# make install\u003Cbr\u002F\u003E\r\n# \u002Fusr\u002Flocal\u002Fbin\u002Fmysqladmin -u root -p password ourpassword\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EНачинаем ставить php\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# cd \u002Fusr\u002Fports\u002Flang\u002Fphp5\u002F\u003Cbr\u002F\u003E\r\n# make install\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ собираем расширения поддержки mysql, gd, iconv ну и еще что нам может понадобиться в будущем\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# cd \u002Fusr\u002Fports\u002Flang\u002Fphp5-extensions\u003Cbr\u002F\u003E\r\n# make install \u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПробуем все ли установилось так как нам хотелось бы:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# apachectl start\u003Cbr\u002F\u003E\r\n# echo \"&lt;?php phpinfo(); ?\u003E\" \u003E \u002Fusr\u002Flocal\u002Fwww\u002Fdata\u002Ftest.php\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу и собственно проверяем все ли получилось так как хотелось зайдя браузером по адресочку \u003Ca href=\"http:\u002F\u002F192.168.0.1\u002Ftest.php\"\u003E192.168.0.1\u002Ftest.php\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОтлично. Теперь начинаем ставить то для чего все это затеивалось:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fwww.stg.dp.ua\u002Fdownload\u002Fserver\u002F2.406\u002Fstg-2.406.src.tgz\"\u003E\u003C\u002Fa\u003E# fetch www.stg.dp.ua\u002Fdownload\u002Fserver\u002F2.406\u002Fstg-2.406.src.tgz\u003Cbr\u002F\u003E\r\n# tar zxvf stg-2.406.src.tgz\u003Cbr\u002F\u003E\r\n# cd stg-2.406\u003Cbr\u002F\u003E\r\n# cd projects\u002Fstargazer\u002F\u003Cbr\u002F\u003E\r\n# .\u002Fbuild\u003Cbr\u002F\u003E\r\n#gmake install\u003Cbr\u002F\u003E\r\n#cd ..\u002Fconvertor\u002F\u003Cbr\u002F\u003E\r\n#.\u002Fbuild\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь будем конвертировать дефолтную текстовую базу в mysql. Правим convertor.conf:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКомментируем store_postgresql:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#&lt;DestStoreModule store_postgresql\u003E\u003Cbr\u002F\u003E\r\n# server = localhost\u003Cbr\u002F\u003E\r\n# database = stargazer\u003Cbr\u002F\u003E\r\n# user = stg\u003Cbr\u002F\u003E\r\n# password = 123456\u003Cbr\u002F\u003E\r\n#\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРаскоменчиваем и приводим к нужному виду store_mysql:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E&lt;DestStoreModule store_mysql\u003E\u003Cbr\u002F\u003E\r\n # Имя пользователя БД\u003Cbr\u002F\u003E\r\n dbuser = root\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# Пароль пользователя БД\u003Cbr\u002F\u003E\r\n rootdbpass = ourpassword\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# Имя БД на сервере\u003Cbr\u002F\u003E\r\n dbname = stg\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# Адрес сервера БД\u003Cbr\u002F\u003E\r\n dbhost = localhost\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПробуем конвертиться:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# .\u002Fconvertor\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПустая база конвертиться моментально. Начинаем конфигурить stargazer.\u003Cbr\u002F\u003E\r\nПрописываем классы трафика \u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# vim \u002Fetc\u002Fstargazer\u002Frules\u003Cbr\u002F\u003E\r\nALL 192.168.0.0\u002F24 DIR1\u003Cbr\u002F\u003E\r\nALL 0.0.0.0\u002F0 DIR0\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПодганяем под реалии жизни конфиг:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#vim \u002Fetc\u002Fstargazer\u002Fstargazer.conf\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПо минимуму правим названия направлений:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E DirName0 = internet\u003Cbr\u002F\u003E\r\n DirName1 = local\u003Cbr\u002F\u003E\r\n DirName2 = \u003Cbr\u002F\u003E\r\n DirName3 =\u003Cbr\u002F\u003E\r\n DirName4 =\u003Cbr\u002F\u003E\r\n DirName5 = \u003Cbr\u002F\u003E\r\n DirName6 =\u003Cbr\u002F\u003E\r\n DirName7 =\u003Cbr\u002F\u003E\r\n DirName8 =\u003Cbr\u002F\u003E\r\n DirName9 =\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСтроим модуль захвата трафика cap_bpf так чтобы он считал его на интерфейсе смотрящем во внутреннюю сеть\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E&lt;Module cap_bpf\u003E\u003Cbr\u002F\u003E\r\n iface = fxp0\u003Cbr\u002F\u003E\r\n \u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКоментируем все что относиться к &lt;StoreModule store_files\u003E и по аналогии с конвертером подключаем модуль &lt;StoreModule store_mysql\u003E:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E&lt;StoreModule store_mysql\u003E\u003Cbr\u002F\u003E\r\n dbuser = root\u003Cbr\u002F\u003E\r\n rootdbpass = ourpassword\u003Cbr\u002F\u003E\r\n dbname = stg\u003Cbr\u002F\u003E\r\n dbhost = localhost\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПробуем запускать сам stargazer:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#stargazer\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ проверяем как запустились\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#tail \u002Fvar\u002Flog\u002Fstargazer.log\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли мы видим что-то похожее на Stg started successfully. Значит есть шансы на жизнь ;)\u003Cbr\u002F\u003E\r\nЗагружаем windows конфигуратор по адресу \u003Ca href=\"http:\u002F\u002Fstg.dp.ua\u002Fdownload\u002Fsgconfig\u002F1.91.9\u002Fsgconfig.1.91.9.win.exe\"\u003Estg.dp.ua\u002Fdownload\u002Fsgconfig\u002F1.91.9\u002Fsgconfig.1.91.9.win.exe\u003C\u002Fa\u003E и после установки в настройках ставим коннект на 192.168.0.1:5555\u003Cbr\u002F\u003E\r\nЛогин\u002Fпароль по умолчанию admin\u002F123456. После логина мы должны увидеть что-то типа\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"http:\u002F\u002Fimg28.imageshack.us\u002Fimg28\u002F7003\u002Fsgconf.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nС умолчальным пользователем test которого тут, же смело удаляем.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"http:\u002F\u002Fimg121.imageshack.us\u002Fimg121\u002F4276\u002Ftestdel.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМеняем пароль админа, либо добавляем новых. Добавляем исходя из старой схемы для теста нашу Марию Ивановну из бухгалтерии с айпишкой 192.168.0.2\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"http:\u002F\u002Fimg121.imageshack.us\u002Fimg121\u002F6268\u002Fuseradd.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБудет она у нас «всегда Online» потому, что незачем в условиях офиса использовать auth_ia требующий указывать логин\u002Fпароль для доступа к сети. \u003Cbr\u002F\u003E\r\nВ поля UserData0 и UserData1 вбиваем скорость и MAC и вот зачем:\u003Cbr\u002F\u003E\r\nЛогика работы stargazer очень проста и гибка. В моменты когда пользователь появляеться онлайн, отсоединяется, удаляется и добавляется исполняються следующие скрипты:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EOnConnect\u003Cbr\u002F\u003E\r\nOnDisconnect\u003Cbr\u002F\u003E\r\nOnChange\u003Cbr\u002F\u003E\r\nOnUserAdd\u003Cbr\u002F\u003E\r\nOnUserDel\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nО назначении которых, несложно догадаться по их названиям. Все они находяться в \u002Fetc\u002Fstargazer\u002F\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EНачинаем подганять их под наши реалии\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\nДля начала создаем еще 2 скриптика на PHP (не даром же ставили его ;) при помощи которых мы будем получать скорость и МАС пользователя из базы.\u003Cbr\u002F\u003E\r\nСкрипт \u002Fetc\u002Fstargazer\u002FGetSpeed с содержанием \u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#!\u002Fusr\u002Flocal\u002Fbin\u002Fphp\u003Cbr\u002F\u003E\r\n&lt;?php\u003Cbr\u002F\u003E\r\n$login=$argv[1];\u003Cbr\u002F\u003E\r\n$link = mysql_connect(\"localhost\", \"root\", \"ourpassword\");\u003Cbr\u002F\u003E\r\nmysql_select_db(\"stg\");\u003Cbr\u002F\u003E\r\n$query = 'SELECT `Userdata0` FROM users where `login`= \"'.$login.'\"';\u003Cbr\u002F\u003E\r\n$result = mysql_query($query);\u003Cbr\u002F\u003E\r\nwhile ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {\u003Cbr\u002F\u003E\r\nforeach ($line as $col_value) {\u003Cbr\u002F\u003E\r\nprint ($col_value);\u003Cbr\u002F\u003E\r\n }\u003Cbr\u002F\u003E\r\n}\u003Cbr\u002F\u003E\r\n?\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ \u002Fetc\u002Fstargazer\u002FGetMac вида\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#!\u002Fusr\u002Flocal\u002Fbin\u002Fphp\u003Cbr\u002F\u003E\r\n&lt;?php\u003Cbr\u002F\u003E\r\n$login=$argv[1];\u003Cbr\u002F\u003E\r\n$link = mysql_connect(\"localhost\", \"root\", \"ourpassword\");\u003Cbr\u002F\u003E\r\nmysql_select_db(\"stg\");\u003Cbr\u002F\u003E\r\n$query = 'SELECT `Userdata1` FROM users where `login`= \"'.$login.'\"';\u003Cbr\u002F\u003E\r\n$result = mysql_query($query);\u003Cbr\u002F\u003E\r\nwhile ($line = mysql_fetch_array($result, MYSQL_ASSOC)) {\u003Cbr\u002F\u003E\r\nforeach ($line as $col_value) {\u003Cbr\u002F\u003E\r\nprint ($col_value);\u003Cbr\u002F\u003E\r\n }\u003Cbr\u002F\u003E\r\n}\u003Cbr\u002F\u003E\r\n?\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНазначаем им права для выполнения \u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#chmod a+x \u002Fetc\u002Fstargazer\u002FGetMac \u002Fetc\u002Fstargazer\u002FGetSpeed\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТестим их на тему работоспособности для ранее созданного пользователя:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# \u002Fetc\u002Fstargazer\u002FGetSpeed mariya\u003Cbr\u002F\u003E\r\n512\u003Cbr\u002F\u003E\r\n\u002Fetc\u002Fstargazer\u002FGetMac mariya\u003Cbr\u002F\u003E\r\n00:a1:b0:01:bc:77\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОтлично!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНачинаем думать что же будет случаться когда пользователь появляется онлайн и выпадает в оффлайн.\u003Cbr\u002F\u003E\r\nИтак Что же будет случаться при появлении пользователя онлайн:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# OnConnect\u003Cbr\u002F\u003E\r\nIFACE=\"fxp0\"\u003Cbr\u002F\u003E\r\nLOGIN=$1\u003Cbr\u002F\u003E\r\nIP=$2\u003Cbr\u002F\u003E\r\nCASH=$3\u003Cbr\u002F\u003E\r\nID=$4\u003Cbr\u002F\u003E\r\nSPEED=`\u002Fetc\u002Fstargazer\u002FGetSpeed $LOGIN`\u003Cbr\u002F\u003E\r\nMAC=`\u002Fetc\u002Fstargazer\u002FGetMac $LOGIN`\u003Cbr\u002F\u003E\r\nSCOUNT=\"Kbit\u002Fs\"\u003Cbr\u002F\u003E\r\nfwcmd=\"\u002Fsbin\u002Fipfw -q\"\u003Cbr\u002F\u003E\r\narpcmd=\"\u002Fusr\u002Fsbin\u002Farp\"\u003Cbr\u002F\u003E\r\ncur_date=`date \\+\\%Y.\\%m.\\%d`\u003Cbr\u002F\u003E\r\ncur_time=`date \\+\\%H:\\%M:\\%S`\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# DELETE RULEZ\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10001`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10002`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10003`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10004`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10005`\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# ADD RULEZ\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# fix user mac to ip\u003Cbr\u002F\u003E\r\n${arpcmd} -S $IP $MAC\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n#SPEED CONTROL\u003Cbr\u002F\u003E\r\n${fwcmd} pipe `expr $ID + 101` config bw $SPEED$SCOUNT queue `expr $SPEED '\u002F' 8`Kbytes\u003Cbr\u002F\u003E\r\n${fwcmd} pipe `expr $ID + 901` config bw $SPEED$SCOUNT queue `expr $SPEED '\u002F' 8`Kbytes\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# ALLOWS CONTROL\u003Cbr\u002F\u003E\r\n${fwcmd} add `expr $ID '*' 10 + 10001` allow icmp from $IP to me\u003Cbr\u002F\u003E\r\n${fwcmd} add `expr $ID '*' 10 + 10001` allow icmp from me to $IP\u003Cbr\u002F\u003E\r\n${fwcmd} add `expr $ID '*' 10 + 10002` pipe `expr $ID + 101` ip from $IP to any via $IFACE in\u003Cbr\u002F\u003E\r\n${fwcmd} add `expr $ID '*' 10 + 10003` pipe `expr $ID + 901` ip from any to $IP via $IFACE out\u003Cbr\u002F\u003E\r\n${fwcmd} add `expr $ID '*' 10 + 10004` allow ip from $IP to any\u003Cbr\u002F\u003E\r\n${fwcmd} add `expr $ID '*' 10 + 10005` allow ip from any to $IP\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# ADD TO LOG\u003Cbr\u002F\u003E\r\necho \"&lt;=;$cur_date;$cur_time;$ID;$LOGIN;$IP;$CASH;$SPEED;`expr $ID + 101`;$MAC\" \u003E\u003E \u002Fvar\u002Fstargazer\u002Fallconnect.log\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nи что будет случаться если он выпадает из онлайна:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E# OnDisconnect\u003Cbr\u002F\u003E\r\nLOGIN=$1\u003Cbr\u002F\u003E\r\nIP=$2\u003Cbr\u002F\u003E\r\nCASH=$3\u003Cbr\u002F\u003E\r\nID=$4\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nfwcmd=\"\u002Fsbin\u002Fipfw -q\"\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# TIME FORMAT\u003Cbr\u002F\u003E\r\ncur_date=`date \\+\\%Y.\\%m.\\%d`\u003Cbr\u002F\u003E\r\ncur_time=`date \\+\\%H:\\%M:\\%S`\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n# DELETE RULEZ FRO IPFW\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10001`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10002`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10003`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10004`\u003Cbr\u002F\u003E\r\n${fwcmd} delete `expr $ID '*' 10 + 10005`\u003Cbr\u002F\u003E\r\n${fwcmd} pipe `expr $ID + 101` delete\u003Cbr\u002F\u003E\r\n${fwcmd} pipe `expr $ID + 901` delete\u003Cbr\u002F\u003E\r\necho \"=\u003E;$cur_date;$cur_time;$ID;$LOGIN;$IP;$CASH\" \u003E\u003E \u002Fvar\u002Fstargazer\u002Fallconnect.log\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДумаю здесь все понятно – мы просто подымаем\u002Fудаляем соответствующие внтуренним ID пользователя правила шейпинга и делающие ему allow дальше чем наш локальный интерфейс fxp0.\u003Cbr\u002F\u003E\r\nПомниться у нас изначально они ничем не ограничивались ибо в самом конце стояло allow ip from any to any? Нет проблем.\u003Cbr\u002F\u003E\r\nДобавляем в \u002Fetc\u002Ffirewall.conf что-то типа \u003Cbr\u002F\u003E\r\n\u003Ccode\u003E${FwCMD} add 101 allow all from 192.168.0.1 to any\u003Cbr\u002F\u003E\r\n${FwCMD} add 101 allow all from any to 192.168.0.1\u003Cbr\u002F\u003E\r\n${FwCMD} add 65533 deny all from table\\(2\\) to any\u003Cbr\u002F\u003E\r\n${FwCMD} add 65534 deny all from any to table\\(2\\)\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь пробуем по включать\u002Fповыключать «всегда Online» для нашего подопытного пользователя и смотрим \u002Fvar\u002Fstargazer\u002Fallconnect.log\u003Cbr\u002F\u003E\r\n\u003Ci\u003EХозяйке на заметку\u003C\u002Fi\u003E: всегда полезно контролировать на глаз что и как ходит и по каким правилам при помощи \u003Cbr\u002F\u003E\r\n\u003Ccode\u003E#ipfw show\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВсе – в минимальном варианте биллинг доставили. Вы спросите а зачем нам считать деньги? Да очень просто – мы же хотели нашей Марьивановне выдавать не более 500 мег интернетов в месяц либо просто выдавать ей в ручную по надобности определенную скорость с определенным количеством трафика? Нет проблем. Просто приравниваем 1мег к одной денюжке для простоты расчета. Допустим так\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"http:\u002F\u002Fimg219.imageshack.us\u002Fimg219\u002F6966\u002Ftariffs.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ общем простор для творчества есть.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПо-моему статья получилась какой-то крайне затянутой и мрачной. Явно пора заокругляться.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ следующий раз если карма позволит обещаюсь таки рассказать как сделать переключалку на резервный канал, рисовать вот такие красивые графички при помощи cacti \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"http:\u002F\u002Fimg219.imageshack.us\u002Fimg219\u002F6594\u002Fcacti.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nи как удобно оформить отображение статистики по трафику собранной установленным нами сегодня stargazer.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗЫ и да – мой русский неученый в школе с предыдущего раза как не прискорбно не улучшился :(\u003Cbr\u002F\u003E\r\n\u003Chabracut\u003E\u003C\u002Fhabracut\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"системное администрирование"},{"titleHtml":"FreeBSD"},{"titleHtml":"ipfw"},{"titleHtml":"dummynet"},{"titleHtml":"routing"},{"titleHtml":"billing"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F71053\u002F91d62709dc7a433f122b76cdf65bb928\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F71053\u002F91d62709dc7a433f122b76cdf65bb928\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F71053\\\u002F\"},\"headline\":\"Тайна незанятого xl0 или получаем контроль над своей сетью\",\"datePublished\":\"2009-09-30T14:20:11+04:00\",\"dateModified\":\"2009-10-01T10:50:25+04:00\",\"author\":{\"@type\":\"Person\",\"name\":\"nightfly\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:  1. Настройка DHCP 2. Поднима...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F71053\\\u002F#post-content-body\",\"about\":[\"h_nix\",\"f_admin\"],\"image\":[\"http:\\\u002F\\\u002Fimg195.imageshack.us\\\u002Fimg195\\\u002F3968\\\u002Fdummiesm.jpg\",\"http:\\\u002F\\\u002Fimg121.imageshack.us\\\u002Fimg121\\\u002F3422\\\u002Fnet.jpg\",\"http:\\\u002F\\\u002Fimg28.imageshack.us\\\u002Fimg28\\\u002F7003\\\u002Fsgconf.png\",\"http:\\\u002F\\\u002Fimg121.imageshack.us\\\u002Fimg121\\\u002F4276\\\u002Ftestdel.png\",\"http:\\\u002F\\\u002Fimg121.imageshack.us\\\u002Fimg121\\\u002F6268\\\u002Fuseradd.png\",\"http:\\\u002F\\\u002Fimg219.imageshack.us\\\u002Fimg219\\\u002F6966\\\u002Ftariffs.png\",\"http:\\\u002F\\\u002Fimg219.imageshack.us\\\u002Fimg219\\\u002F6594\\\u002Fcacti.png\"]}","metaDescription":"Как вы все помните, в конце предыдущего поста я обещал более подробно рассмотреть вкратце и максимально доступно следующие вопросы:\r\n\r\n1. Настройка DHCP\r\n2. Поднимаем свой DNS по минимуму\r\n3. Съем...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"572164":{"id":"572164","timePublished":"2021-09-27T11:37:23+00:00","isCorporative":false,"lang":"ru","titleHtml":"Первые шаги в ОТО: прецессия орбиты Меркурия","editorVersion":"2.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"1832999","alias":"Yermack","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F690\u002F140\u002F823\u002F690140823f555d03574a59d46f648d24.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":23,"readingCount":2868,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"18840","alias":"julia","type":"collective","title":"Julia","titleHtml":"Julia","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21968","alias":"physics","type":"collective","title":"Физика","titleHtml":"Физика","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКогда речь заходит о теории относительности, частенько на ровном месте разрастаются споры, которые были занесены в почву непонимания и обильно удобрены мифами, недосказанностью и недостаточной математической подготовкой. Даже на лекциях от некоторых профессоров можно услышать, что детище гения Эйнштейна не имеет практической пользы, а на робкие попытки пролепетать что-то про спутниковые системы навигации они пренебрежительно отмахиваются, дескать, там все сложно и двояко. \u003C\u002Fp\u003E\u003Cp\u003EТак что совершенно естественно желание попробовать провести некоторые расчеты самолично, потрогать формулы, покрутить параметры, чтобы постепенно заложить интуицию в столь горячей теме.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"прецессия"},{"titleHtml":"меркурий"},{"titleHtml":"теория относительности"},{"titleHtml":"уравнения эйнштейна"},{"titleHtml":"метрики"},{"titleHtml":"спасибо scihub"},{"titleHtml":"спасибо mathpix"},{"titleHtml":"астрология_точная_наука"}]},"579772":{"id":"579772","timePublished":"2021-09-27T05:32:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сливы процветают. Эксперт-«параноик» Майкл Баззель о защите личных данных","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Michael Bazzell","originalUrl":"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F"}}],"author":{"id":"2297567","alias":"SearchInform_team","fullname":null,"avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":7,"readingCount":2352,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"22418","alias":"searchinform","type":"corporative","title":"Блог компании SearchInform","titleHtml":"Блог компании SearchInform","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНаш очередной пост из серии «интересное на иностранном языке» – рассказ Майкла Баззеля о том, как сберечь свои персональные данные от утечек. Майкл – знаковая фигура в сфере OSINT, работал в правительстве США и ФБР, его приглашали в качестве технического эксперта в сериал «Мистер Робот», который считают достойным с точки зрения достоверности. В личной жизни эксперт придерживается настолько жестких правил в отношении информационной гигиены, что некоторые считают его «неадекватом». Так ли это – может быть несколько мнений. \u003C\u002Fp\u003E\u003Cp\u003EОдин из факторов, который убеждает в правильном подходе Майкла, – что риски обнаружить свои данные в интернете стали существенно выше, потому что шифровальщики без разбору сливают в сеть все, до чего дотягиваются при атаках на бизнес. Приводим перевод \u003Ca href=\"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F\"\u003Eпоста Майкла Баззеля\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EАтакуют корпорации, а страдают люди\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EБольшинство людей не задумываются о том, как их касается проблема распространения вирусов-шифровальщиков. Логика такова: речь идет о проблемах компаний, это они вынуждены платить выкуп. При чем тут, казалось бы, обычные люди?! \u003C\u002Fp\u003E\u003Cp\u003EА при том, что преступники сменили тактику: сейчас они не просто шифруют данные, но и скачивают их, выкладывают в открытый доступ, если компании не платят им выкуп. Теперь давайте подумаем, что в этих слитых базах? Множество данных о сотрудниках, клиентах, контрагентах, с которыми компания-жертва работает.\u003C\u002Fp\u003E\u003Cp\u003EХочу сразу уточнить: я это пишу не потому что выступаю за уплату выкупа. Я за то, чтобы сопротивляться избыточному сбору данных там, где это не обязательно. Мы халатно относимся к своим ПДн, раздавая их по первому требованию.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"персональные данные"},{"titleHtml":"пдн"},{"titleHtml":"сёрчинформ"},{"titleHtml":"Майкл Баззел"},{"titleHtml":"утечки информации"}]},"579854":{"id":"579854","timePublished":"2021-09-27T06:03:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Видишь уязвимости? А они есть! Наше исследование популярных CMS-систем","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2684283","alias":"Solar_Pentest","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":22,"readingCount":3855,"score":27,"votesCount":29},"hubs":[{"relatedData":null,"id":"20826","alias":"solarsecurity","type":"corporative","title":"Блог компании Ростелеком-Солар","titleHtml":"Блог компании Ростелеком-Солар","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛьвиная доля всех работ по анализу защищенности внешнего периметра – это тестирование веб-приложений. Здесь могут быть как корпоративные решения, так и «домашние» разработки на базе различных публичных систем управления контентом (CMS). Мы всегда проводим глубокий анализ подобных решений на тестовых стендах и зачастую находим уязвимости нулевого дня. Собственно, из опыта таких проектов и родилась идея собрать исследовательскую команду и провести глубокий анализ популярных CMS-систем и различных плагинов для них. В этом посте мы поделимся результатами нашего исследования, а также продемонстрируем примеры уязвимого кода наиболее интересных, на наш взгляд, уязвимостей и примеры их эксплуатации. Конечно все эти уязвимости уже исправлены и описываются здесь с разрешения владельцев систем.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","buttonTextHtml":"Не всё то в безопасности, что с Bug Bounty","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"cms"},{"titleHtml":"уязвимости"},{"titleHtml":"уязвимости и их эксплуатация"},{"titleHtml":"уязвимость нулевого дня"}]},"580008":{"id":"580008","timePublished":"2021-09-27T06:30:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Летний Магнитогорск","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2614609","alias":"city_scraper","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F8f8\u002Fd6c\u002F328\u002F8f8d6c328ec3a513103b6757c2c21610.png","speciality":"Пользователь"},"statistics":{"commentsCount":6,"favoritesCount":3,"readingCount":3700,"score":14,"votesCount":20},"hubs":[{"relatedData":null,"id":"22012","alias":"Ecology","type":"collective","title":"Экология","titleHtml":"Экология","isProfiled":false},{"relatedData":null,"id":"22024","alias":"urban","type":"collective","title":"Урбанизм","titleHtml":"Урбанизм","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EМагнитогорск Челябинской области – один из крупнейших мировых центров чёрной металлургии. В России это шестой из крупнейших городов, которые не являются центрами субъектов страны. \u003C\u002Fp\u003E\u003Cp\u003EСовсем недавно город был одним из наиболее неблагополучных с точки зрения загрязнения атмосферного воздуха, но в 2021 году был зафиксирован «повышенный» уровень – то есть не «высокий» или «очень высокий», как раньше. \u003C\u002Fp\u003E\u003Cp\u003EКак этот город выглядит летом? Где и как его жители могут проводить время?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Магнитогорск"},{"titleHtml":"промышленность"},{"titleHtml":"промышленные города"},{"titleHtml":"урбанизм\u002Fурбания"},{"titleHtml":"урбанистика"},{"titleHtml":"города России"},{"titleHtml":"города"}]},"580050":{"id":"580050","timePublished":"2021-09-27T10:23:25+00:00","isCorporative":false,"lang":"ru","titleHtml":"Один человек ответил на 85+ тысяч вопросов на Stack Overflow (24,1 ответа в день)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1585037","alias":"sahsAGU","fullname":"Александр Гуреев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F43c\u002F6c7\u002F0ab\u002F43c6c70ab024d45474e6abe8db797573.jpg","speciality":"Автор"},"statistics":{"commentsCount":35,"favoritesCount":9,"readingCount":10639,"score":11,"votesCount":17},"hubs":[{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"306","alias":"mysql","type":"collective","title":"MySQL","titleHtml":"MySQL","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"594","alias":"sql","type":"collective","title":"SQL","titleHtml":"SQL","isProfiled":true},{"relatedData":null,"id":"7152","alias":"data_mining","type":"collective","title":"Data Mining","titleHtml":"Data Mining","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cstrong\u003EВ среднем 24,1 ответа в день (если все 365 дней в году считать рабочими) на протяжении почти 10 лет.\u003C\u002Fstrong\u003E \u003C\u002Fp\u003E\u003Cp\u003EНесколько дней назад на некоторых англоязычных ресурсах началось обсуждение одного очень необычного пользователя Stack Overflow. Его зовут Гордон Линофф (Gordon Linoff), он из Нью-Йорка, и за 9 лет и 8 месяцев своего присутствия на платформе он дал 85,201 ответов на различные вопросы, в основном связанные с SQL и дата-майнингом (цифра актуальна на 27.09.2021). \u003C\u002Fp\u003E\u003Cp\u003EЧто это за маг?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"sql"},{"titleHtml":"mysql"},{"titleHtml":"stackoverflow"},{"titleHtml":"базы данных"},{"titleHtml":"дата майнинг"},{"titleHtml":"data mining"}]},"580060":{"id":"580060","timePublished":"2021-09-27T09:00:04+00:00","isCorporative":true,"lang":"ru","titleHtml":"Арракис, который мы заслужили","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"238277","alias":"Zelenyikot","fullname":"Виталий Егоров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F22b\u002F2d7\u002F7a5\u002F22b2d77a57b687aae24784a3e53089c9.jpg","speciality":"Популяризатор космонавтики"},"statistics":{"commentsCount":107,"favoritesCount":37,"readingCount":20239,"score":131,"votesCount":141},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false},{"relatedData":null,"id":"21984","alias":"sci-fi","type":"collective","title":"Научная фантастика","titleHtml":"Научная фантастика","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F580060\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk0\u002Fds\u002Fy5\u002Fk0dsy5npxclyjdytiroqga7-leu.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nВо вселенной писателя-фантаста Фрэнка Герберта, Дюна, она же Арракис &mdash; это пустынная и маловодная планета с двумя лунами. По сюжету, она находится за пределами Солнечной системы, но если мы захотим поискать ближайшую схожую параллель,&nbsp;то больше всего подходит планета Марс. Предлагаю воспользоваться возможностями, которые даёт современная космонавтика, и совершить воображаемую прогулку на нашу Дюну.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Марс"},{"titleHtml":"Дюна"},{"titleHtml":"MRO"},{"titleHtml":"Curiosity"},{"titleHtml":"марсоход"},{"titleHtml":"ruvds_статьи"}]},"580088":{"id":"580088","timePublished":"2021-09-26T21:17:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Запуск X-приложения в chroot на примере POSE (или «QEMU не нужен»)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1481597","alias":"edo1h","fullname":null,"avatarUrl":"","speciality":"немного программист, немного админ"},"statistics":{"commentsCount":5,"favoritesCount":15,"readingCount":1274,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"221","alias":"sys_admin","type":"collective","title":"Системное администрирование","titleHtml":"Системное администрирование","isProfiled":true},{"relatedData":null,"id":"7289","alias":"nix","type":"collective","title":"*nix","titleHtml":"*nix","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта мини-статья родилась как ответ на статью \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F579296\" rel=\"noopener noreferrer nofollow\"\u003EУпрощаем эмуляцию X86 с помощью Live CD\u003C\u002Fa\u003E, в которой для запуска старых 32-битных приложений на 64-битных дистрибутивах Linux предлагалось использовать QEMU + Live CD — по моему мнению «из пушки по воробьям». Опишу своё решение на \u003Ccode\u003Echroot\u003C\u002Fcode\u003E + \u003Ccode\u003Edebootstrap\u003C\u002Fcode\u003E. \u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"chroot"},{"titleHtml":"debootstrap"},{"titleHtml":"xwindow"}]},"580090":{"id":"580090","timePublished":"2021-09-26T21:19:11+00:00","isCorporative":false,"lang":"ru","titleHtml":"Сравнение подходов к реализации распределенных транзакций для микросервисов","editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null},{"type":"translation","data":{"originalAuthorName":"Bilgin Ibryam","originalUrl":"https:\u002F\u002Fdevelopers.redhat.com\u002Farticles\u002F2021\u002F09\u002F21\u002Fdistributed-transaction-patterns-microservices-compared"}}],"author":{"id":"194270","alias":"sprosin","fullname":"Sergey Prosin","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd67\u002F5d8\u002F1d6\u002Fd675d81d6fe5bf69493735cef4910eb5.jpg","speciality":"Веду команды к релизам, пишу статьи, выступаю."},"statistics":{"commentsCount":6,"favoritesCount":102,"readingCount":5977,"score":20,"votesCount":20},"hubs":[{"relatedData":null,"id":"7504","alias":"refactoring","type":"collective","title":"Проектирование и рефакторинг","titleHtml":"Проектирование и рефакторинг","isProfiled":true},{"relatedData":null,"id":"21482","alias":"distributed_systems","type":"collective","title":"Распределённые системы","titleHtml":"Распределённые системы","isProfiled":true},{"relatedData":null,"id":"22115","alias":"microservices","type":"collective","title":"Микросервисы","titleHtml":"Микросервисы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКак архитектор-консультант в Red Hat, я имел возможность поработать над множеством проектов для наших клиентов. У каждого из них есть свои особенности, которые, однако, имеют некоторые общие черты. Большинство клиентов хотят знать, как скоординировать запись в несколько систем одновременно. Ответ на этот вопрос обычно включает подробное объяснение двойной записи, распределенных транзакций, современных альтернатив, а также возможных сценариев сбоев и недостатков каждого подхода. Как правило, именно в этот момент заказчик понимает, что разделение монолитного приложения на микросервисы - долгий и сложный путь, обычно требующий компромиссов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"распределенные системы"},{"titleHtml":"микросервисы"},{"titleHtml":"транзакции"},{"titleHtml":"распределенные транзакции"},{"titleHtml":"оркестрация"},{"titleHtml":"оркестрация микросервисов"},{"titleHtml":"хореография"},{"titleHtml":"конвейеры"}]},"580092":{"id":"580092","timePublished":"2021-09-26T21:49:14+00:00","isCorporative":false,"lang":"ru","titleHtml":"30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"805873","alias":"rantal","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":94,"favoritesCount":59,"readingCount":19517,"score":51,"votesCount":51},"hubs":[{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"17350","alias":"s_admin","type":"collective","title":"Серверное администрирование","titleHtml":"Серверное администрирование","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E30 сентября 2021 14:01:15  GMT оканчивается срок действия корневого сертификата IdenTrust DST Root CA X3.\u003C\u002Fp\u003E\u003Cp\u003EЭто событие достойно вашего внимания по той причине, что после наступления этого момента ряд устаревших систем перестанут доверять сертификатам,&nbsp;выпущенным центром сертификации Let’s Encrypt. С учётом того, что на текущий момент Let's Encrypt предоставляет бесплатные криптографические сертификаты примерно для \u003Ca href=\"https:\u002F\u002Fletsencrypt.org\u002Fstats\u002F\" rel=\"noopener noreferrer nofollow\"\u003E250 миллионов доменных имен\u003C\u002Fa\u003E, а \"устаревшие системы\" - это порой системы возрастом всего 5-6 лет, вряд ли окончание срока действия сертификата&nbsp;DST Root CA X3 пройдёт для всех гладко и незаметно. В чём причина, кого конкретно это затронет, и что можно сделать?\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"let's encrypt"},{"titleHtml":"DST Root CA X3"},{"titleHtml":"корневой сертификат"},{"titleHtml":"https"},{"titleHtml":"tls"},{"titleHtml":"openssl"}]},"580094":{"id":"580094","timePublished":"2021-09-26T22:35:26+00:00","isCorporative":false,"lang":"ru","titleHtml":"Блокчейн нас подвёл? Почему ДЭГ — это плохо и можем ли мы адекватно контролировать процесс подсчёта голосов?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"206414","alias":"PoltoS","fullname":"Сергей Полторак","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F5cf\u002F03a\u002Fc7f\u002F5cf03ac7fe60ea8a6686bd4c57627ddc.png","speciality":""},"statistics":{"commentsCount":100,"favoritesCount":28,"readingCount":15304,"score":32,"votesCount":54},"hubs":[{"relatedData":null,"id":"118","alias":"crypto","type":"collective","title":"Криптография","titleHtml":"Криптография","isProfiled":true},{"relatedData":null,"id":"210","alias":"it_testing","type":"collective","title":"Тестирование IT-систем","titleHtml":"Тестирование IT-систем","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EИнтересно наблюдать, как дискредитируется термин блокчейна на выборах в госдуму. Вроде голосование было на блокчейне, но его якобы подделали. Т.е. блокчейн можно подделать или ЦИК и ДИТ нам подсунули какой-то лохчейн вместо блокчейна?!? И мало кто обсуждает происходящее по существу без эмоций, связанных с результатами партий и кандидатов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Криптография"},{"titleHtml":"блокчейн"},{"titleHtml":"открытые данные"},{"titleHtml":"электронное голосование"},{"titleHtml":"выборы"},{"titleHtml":"выборы в госдуму"},{"titleHtml":"дэг"},{"titleHtml":"дэг 2021"}]},"580124":{"id":"580124","timePublished":"2021-09-27T13:03:14+00:00","isCorporative":true,"lang":"ru","titleHtml":"Электролюминесцентные индикаторы из прошлого","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"146371","alias":"radiolok","fullname":"Артем Кашканов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa46\u002Fc6a\u002F151\u002Fa46c6a15193f7c0cac79d2736b107358.jpg","speciality":"Релейно-декатронный маньяк"},"statistics":{"commentsCount":11,"favoritesCount":37,"readingCount":4556,"score":68,"votesCount":68},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false},{"relatedData":null,"id":"21930","alias":"antikvariat","type":"collective","title":"Старое железо","titleHtml":"Старое железо","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Сегодня речь пойдёт об электролюминесцентных индикаторах. Но, не о тех, которые окружают вас повсюду и к которым вы привыкли, а о других — получивших огромную популярность в 60-е годы прошлого века, и так же стремительно канувших в небытие. Заодно запущу свою коллекцию индикаторов, как серийно выпускавшихся, так и уникальных опытных и даже — лабораторных образцов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F523004\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F94e\u002F51f\u002F459\u002F94e51f459ae59c9d2fe6c448cb07bcca.gif\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Индикатор"},{"titleHtml":"электролюминесцентность"},{"titleHtml":"ruvds_статьи"}]},"580150":{"id":"580150","timePublished":"2021-09-27T10:50:03+00:00","isCorporative":true,"lang":"ru","titleHtml":"Топ-5 когнитивных искажений при планировании в IT","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2794469","alias":"KM_QA","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":7,"favoritesCount":49,"readingCount":5179,"score":37,"votesCount":39},"hubs":[{"relatedData":null,"id":"14332","alias":"oleg-bunin","type":"corporative","title":"Блог компании Конференции Олега Бунина (Онтико)","titleHtml":"Блог компании Конференции Олега Бунина (Онтико)","isProfiled":false},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true},{"relatedData":null,"id":"20754","alias":"tech_events","type":"collective","title":"Конференции","titleHtml":"Конференции","isProfiled":false},{"relatedData":null,"id":"21990","alias":"brain","type":"collective","title":"Мозг","titleHtml":"Мозг","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"4","alias":"marketing","title":"Маркетинг"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта статья подходит для тимлидов и их подопечных, а также для всех, кто оценивает проекты и задачи. Я расскажу, как и почему мы делаем ошибки из-за когнитивных искажений. Попадаем в них мы почти все, просто потому что мы живые люди. И на примере одного дня из жизни тимлида я хочу показать, в какие искажения чаще всего влетают в IT, и&nbsp; — самое полезное&nbsp; —&nbsp; как из них можно выходить.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EЗамечу, что искать когнитивные искажения стоит, в первую очередь, у себя, а не у коллег. \u003C\u002Fstrong\u003EИ что рассказывать про искажения намного проще, чем не влетать в их на практике, однако, если этому научиться, то в перспективе это изрядно окупается, потому что экономит и время, и деньги, помогая и нам, и команде.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"когнитивные искажения"},{"titleHtml":"нейрофизиология"},{"titleHtml":"мозг"},{"titleHtml":"психология"},{"titleHtml":"тимлидство"},{"titleHtml":"тимлид"},{"titleHtml":"управление людьми"},{"titleHtml":"управление проектами и командой"},{"titleHtml":"управление командой"},{"titleHtml":"управление персоналом"}]},"580172":{"id":"580172","timePublished":"2021-09-27T11:45:49+00:00","isCorporative":true,"lang":"ru","titleHtml":"Небинарный ngIf*","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1050218","alias":"Waterplea","fullname":"Александр Инкин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa70\u002F569\u002Ff31\u002Fa70569f31346559ce2b8b875e7f97480.jpg","speciality":"Google Developer Expert | Angular"},"statistics":{"commentsCount":1,"favoritesCount":11,"readingCount":866,"score":14,"votesCount":14},"hubs":[{"relatedData":null,"id":"17420","alias":"tinkoff","type":"corporative","title":"Блог компании TINKOFF","titleHtml":"Блог компании TINKOFF","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"18109","alias":"angular","type":"collective","title":"Angular","titleHtml":"Angular","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВам когда-нибудь хотелось отобразить состояние загрузки, пока \u003Ccode\u003EngIf\u003C\u002Fcode\u003E ждет ответа от \u003Ccode\u003Easync\u003C\u002Fcode\u003E-пайпа? Или, может, вы мечтали передать в \u003Ccode\u003EngFor\u003C\u002Fcode\u003E шаблон для пустого массива? Возможно, вы бросили это, потому что вам не хотелось реализовывать базовую логику этих директив самому. На самом деле в этом нет нужды! Один и тот же селектор может подцепить несколько директив, что позволяет расширить функциональность встроенных директив дополнительной логикой.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"template"},{"titleHtml":"directive"},{"titleHtml":"angular"},{"titleHtml":"structural"}]},"580194":{"id":"580194","timePublished":"2021-09-27T12:36:12+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сотрудники на карте: отвечаем на 10 важных вопросов о трекинге","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1254716","alias":"Axelus","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F118\u002Fc4f\u002F08f\u002F118c4f08ffa66438ad6be22e205d563d.png","speciality":"Разработчик"},"statistics":{"commentsCount":0,"favoritesCount":6,"readingCount":1007,"score":13,"votesCount":15},"hubs":[{"relatedData":null,"id":"20758","alias":"regionsoft","type":"corporative","title":"Блог компании RegionSoft","titleHtml":"Блог компании RegionSoft","isProfiled":false},{"relatedData":null,"id":"6398","alias":"it-infrastructure","type":"collective","title":"IT-инфраструктура","titleHtml":"IT-инфраструктура","isProfiled":true},{"relatedData":null,"id":"12365","alias":"saas","type":"collective","title":"SaaS \u002F S+S","titleHtml":"SaaS \u002F S+S","isProfiled":true},{"relatedData":null,"id":"17783","alias":"geo","type":"collective","title":"Геоинформационные сервисы","titleHtml":"Геоинформационные сервисы","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛюбой контроль сотрудников — опасный и болезненный вопрос, особенно в небольших компаниях. Часто в дружеские и открытые отношения компании не вписывается ни одна из форм контроля, рассчитывать можно только на доверие. Но пресловутый ковид и здесь внёс свои коррективы: расширение удалённой работы, увеличение штата мобильных сотрудников, частичная занятость пополнили ряды полевых сисадминов, аутсорсеров поддержки и остальных «разъездных» работников. Увы, люди разные и вслед за приятными плодами и бонусами удалёнки пришли негативные истории про поведение курьеров, опоздания и откровенные нарушения сотрудников на территории клиентов, неявки на работу или к заказчику и т.д. С этим столкнулись и ритейл, и ИТ, и любая сфера с мобильными сотрудниками. Очень хочется верить в лучшее, но без минимального контроля можно просто потерять бизнес — и тогда пострадают коллеги нерадивых сотрудников.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"geomonitor"},{"titleHtml":"геолокация"},{"titleHtml":"геозона"},{"titleHtml":"трекинг"}]},"580196":{"id":"580196","timePublished":"2021-09-27T12:28:15+00:00","isCorporative":true,"lang":"ru","titleHtml":"Зачем нужен динамический анализ кода, на примере проекта PVS-Studio","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2302295","alias":"MrROBUST","fullname":"Алексей Говоров","avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":3,"readingCount":633,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"18095","alias":"pvs-studio","type":"corporative","title":"Блог компании PVS-Studio","titleHtml":"Блог компании PVS-Studio","isProfiled":false},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"11606","alias":"vs","type":"collective","title":"Visual Studio","titleHtml":"Visual Studio","isProfiled":true},{"relatedData":null,"id":"21456","alias":"win_dev","type":"collective","title":"Разработка под Windows","titleHtml":"Разработка под Windows","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ разговоре с Маршаллом Клоу на подкасте CppCast #300 ABI Stability была затронута достаточно давняя новость о поддержке компиляторами Visual Studio инструмента AddressSanitizer (ASan). Мы уже достаточно давно внедрили ASan в свою систему тестирования и хотим рассказать о паре интересных ошибок, которые он помог найти.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F7ef\u002F2db\u002F210\u002F7ef2db210d677f9a8c07026d4361d3ba.png\" alt=\"0868_PVS-Studio_ASan_ru\u002Fimage2.png\"\u003E\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"pvs-studio"},{"titleHtml":"clang"},{"titleHtml":"asan"},{"titleHtml":"sanitizer"},{"titleHtml":"динамический анализ кода"}]},"580206":{"id":"580206","timePublished":"2021-09-27T12:51:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"МТС отказался от скрытых мобильных подписок?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2467147","alias":"Plusodin","fullname":"Владимир","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F343\u002Fb77\u002Fd12\u002F343b77d12f047368849a9880276f936e.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":8,"favoritesCount":4,"readingCount":4511,"score":13,"votesCount":13},"hubs":[{"relatedData":null,"id":"22008","alias":"cellular","type":"collective","title":"Сотовая связь","titleHtml":"Сотовая связь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр!\u003C\u002Fp\u003E\u003Cp\u003EНу что, подходит к концу первый сезон сериала «О скрытых мобильных подписках и операторах связи». Предыдущие три серии: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F550448\u002F\" rel=\"noopener noreferrer nofollow\"\u003EМегафон\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F563260\u002F\" rel=\"noopener noreferrer nofollow\"\u003EБилайн\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F571256\u002F\" rel=\"noopener noreferrer nofollow\"\u003ETele2\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНу и вишенка на этом торте – МТС.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"мтс"},{"titleHtml":"мобильные подписки"},{"titleHtml":"подписки"},{"titleHtml":"оператор связи"},{"titleHtml":"теле2"},{"titleHtml":"мегафон"},{"titleHtml":"билайн"}]},"580208":{"id":"580208","timePublished":"2021-09-27T12:52:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Основная проблема образования","editorVersion":"2.0","postType":"article","postLabels":[{"type":"recovery","data":null}],"author":{"id":"2270142","alias":"Chronicler","fullname":"Пушиз де Хрониклер","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Faa3\u002F149\u002Fdb0\u002Faa3149db0de5f6c071dfade7285fcb99.jpg","speciality":"Исследователь ближнего заполярья, почетный манул"},"statistics":{"commentsCount":13,"favoritesCount":12,"readingCount":2219,"score":8,"votesCount":20},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"17189","alias":"itstandarts","type":"collective","title":"IT-стандарты","titleHtml":"IT-стандарты","isProfiled":true},{"relatedData":null,"id":"20682","alias":"pm","type":"collective","title":"Управление проектами","titleHtml":"Управление проектами","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНа днях на Хабре появилась \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eкритическая статья\u003C\u002Fa\u003E о бакалавриате, что называется \"из первых уст\", от очередного первохода. Статья далеко не лишена смысла, однако главная проблема не была в ней затронута. А заключается она вовсе не в обилии посторонних дисциплин и даже не в том, что в учебных заведениях так мало разъясняют суровую конкретику жизни \"научиться штамповать JavaScript сайты за месяц\".  Да, эти проблемы присутствуют, наряду с плохой подготовкой педагогов и отношением к студентам, но не они на корню обесценивают нынешнее образование.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Что же на самом деле не так?","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"программирование"},{"titleHtml":"образование"},{"titleHtml":"курсы не нужны"},{"titleHtml":"вуз"}]},"580210":{"id":"580210","timePublished":"2021-09-27T12:53:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"PHP Дайджест № 212 (13 – 27 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"100489","alias":"pronskiy","fullname":"Роман Пронский","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F27f\u002Fb99\u002Feb3\u002F27fb99eb3e30e3221c5839e88be02395.jpg","speciality":"PHP"},"statistics":{"commentsCount":1,"favoritesCount":10,"readingCount":3339,"score":38,"votesCount":38},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"477","alias":"symfony","type":"collective","title":"Symfony","titleHtml":"Symfony","isProfiled":true},{"relatedData":null,"id":"9554","alias":"yii","type":"collective","title":"Yii","titleHtml":"Yii","isProfiled":true},{"relatedData":null,"id":"18812","alias":"laravel","type":"collective","title":"Laravel","titleHtml":"Laravel","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fek\u002F6r\u002Fr1\u002Fek6rr1odvyzb89tfv0lq4cmfxi4.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПодборка свежих новостей и материалов из мира PHP.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВышел PHP 8.1 RC2 и уже доступен первый пакет с использованием перечислений, будет сделан форк Magento, новый тип стандартов PER в дополнение к PSR, стартовала PhpStorm 2021.3 EAP, Symfony 6 будет полностью типизирован — как обновляться?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля PHP 8.2 предложены новые оптимизированные структуры данных.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже в выпуске порция инструментов, полезные статьи, видео и анонсы двух митапов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПриятного чтения!\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"php-дайджест"},{"titleHtml":"PHP"},{"titleHtml":"Symfony"},{"titleHtml":"Laravel"},{"titleHtml":"Magento"},{"titleHtml":"PHPUnit"},{"titleHtml":"PHP 8.1"},{"titleHtml":"PHP 8.2"}]},"580228":{"id":"580228","timePublished":"2021-09-27T16:41:21+00:00","isCorporative":true,"lang":"ru","titleHtml":"Идеальная светодиодная лампа за 21 рубль","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"108988","alias":"AlexeyNadezhin","fullname":"Алексей Надежин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffdc\u002F3ac\u002F9a2\u002Ffdc3ac9a2dc0107cc956f1bd0cf5fc2b.jpg","speciality":"Блогер"},"statistics":{"commentsCount":24,"favoritesCount":35,"readingCount":8179,"score":63,"votesCount":67},"hubs":[{"relatedData":null,"id":"21646","alias":"lamptest","type":"corporative","title":"Блог компании LampTest","titleHtml":"Блог компании LampTest","isProfiled":false},{"relatedData":null,"id":"21894","alias":"gadgets","type":"collective","title":"Гаджеты","titleHtml":"Гаджеты","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Удивительно осознавать, что достаточно сложное электронное устройство, которым является светодиодная лампочка, может стоить 21 рубль. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕщё сложнее поверить, что эта лампочка безукоризненна по всем параметрам.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F20f\u002F849\u002Ffcd\u002F20f849fcd6a3891f506676fc87223bdf.jpg\"\u003E\u003C\u002Fdiv\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"led"},{"titleHtml":"светодиодные лампы"},{"titleHtml":"тест"}]},"580304":{"id":"580304","timePublished":"2021-09-27T18:31:25+00:00","isCorporative":true,"lang":"ru","titleHtml":"Как сделать 248MP фотографию Солнца","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Simon Tang","originalUrl":"https:\u002F\u002Fpetapixel.com\u002F2021\u002F09\u002F15\u002Fa-closer-look-how-i-created-a-248mp-photo-of-the-sun\u002F"}}],"author":{"id":"2192534","alias":"Itelma","fullname":"T-800","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fc3a\u002Fd1e\u002F43d\u002Fc3ad1e43d500046c3228c9494b510912.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":4,"favoritesCount":3,"readingCount":967,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"22356","alias":"itelma","type":"corporative","title":"Блог компании НПП ИТЭЛМА","titleHtml":"Блог компании НПП ИТЭЛМА","isProfiled":false},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21932","alias":"photo","type":"collective","title":"Фототехника","titleHtml":"Фототехника","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe02\u002F643\u002Fa55\u002Fe02643a550e20aa10c366e20956e4b40.jpg\" alt=\"image\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EЭто изображение диска нашего Солнца создано с помощью большого рефракторного (линзового) телескопа и высокоскоростной монохромной CMOS-камеры.\u003C\u002Fi\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКаждый день над нашими головами висит большой шар света. Он там всегда, и никто не обращает на него внимания. Разумеется, мы не советуем вам долго смотреть на него и при этом ослепнуть, тем не менее, наука дала нам возможность смотреть прямо на солнце совершенно безопасно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоскольку техника стала более доступной, обычный человек может заглянуть в многочисленные слои Солнца с помощью специального оборудования, которое может купить в любом хорошем магазине телескопов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этой статье мы подробно рассмотрим слой, известный как хромосфера: область Солнца, видимая в оранжево-красном спектре. При помощи специального фильтра это устройство блокирует весь нежелательный свет, пропуская при этом определенный диапазон частот, который нас интересует.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"обработка изображений"},{"titleHtml":"фототехника"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["580060","580124","580228","580092","580210","580150","580094","579854","580090","580088","572164","580172","580008","580206","580194","580050","580304","580196","579772","580208"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":3},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["174319","151650","70414"],"similarListRefs":{"70414":{"id":"70414","timePublished":"2009-09-23T13:55:06+00:00","isCorporative":false,"lang":"ru","titleHtml":"Рассматриваем простейшие случаи раздачи интернета внутри офисной сети","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"51237","alias":"nightfly","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb11\u002Fdf1\u002F471\u002Fb11df1471e71efa5c3679a60978743ee.gif","speciality":null},"statistics":{"commentsCount":62,"favoritesCount":62,"readingCount":6820,"score":18,"votesCount":20},"hubs":[{"id":"7289","alias":"nix","type":"collective","title":"*nix","titleHtml":"*nix","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование","titleHtml":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Ci\u003EПредисловие\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\nВ процессе работы иногда приходиться подключать клиентов либо уже с присутствующими машинами на FreeBSD (распространенный вариант – держат там рабочие файлошары на самбах) либо ставить им такое решение по запросу, для максимально удобного решение насущных проблем клиента. Статья рассчитана на читателя крайне слабо знакомого с FreeBSD. Думаю людям, что-то, понимающим эта статья будет крайне отвратительна – рекомендую дальше не читать и не травмировать себя. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"http:\u002F\u002Fimg225.imageshack.us\u002Fimg225\u002F4941\u002Fsxem1.jpg\" alt=\"image\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"151650":{"id":"151650","timePublished":"2012-09-17T17:09:19+00:00","isCorporative":false,"lang":"ru","titleHtml":"7 очевидных правил безопасного системного администрирования физических серверов","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"46944","alias":"Albertum","fullname":"Альберт Умеров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb51\u002Fa09\u002F0fc\u002Fb51a090fc4a93d66fded7ef9793039f3.jpg","speciality":"Software Engeneer"},"statistics":{"commentsCount":70,"favoritesCount":359,"readingCount":72330,"score":51,"votesCount":91},"hubs":[{"id":"221","alias":"sys_admin","type":"collective","title":"Системное администрирование","titleHtml":"Системное администрирование","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование","titleHtml":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"Данные правила, как говорится, «написаны кровью». Возможно, кому-то они помогут сохранить немного (много) жизни и нервов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EОбязательны при проведении работ с физическим сервером, если есть хоть малейшая вероятность того, что он потеряет сетевую доступность (изменение настроек сети, параметров ядра, сетевых сервисов, перезагрузка после года непрерывной работы и т.д.)\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fstorage2\u002F795\u002Fb65\u002F819\u002F795b65819d5535f1034633219312db2f.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"174319":{"id":"174319","timePublished":"2013-03-26T17:54:26+00:00","isCorporative":false,"lang":"ru","titleHtml":"За что я ненавижу аутсорсинговое системное администрирование. Взгляд со стороны клиента","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"25232","alias":"atman","fullname":"atman","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa45\u002F3f3\u002F217\u002Fa453f3217b682afac8988927ae9539d7.jpg","speciality":null},"statistics":{"commentsCount":285,"favoritesCount":237,"readingCount":110635,"score":98,"votesCount":134},"hubs":[{"id":"221","alias":"sys_admin","type":"collective","title":"Системное администрирование","titleHtml":"Системное администрирование","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование","titleHtml":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Ch3\u003EПост гнева.\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЧтобы мой пост гнева не был похож на выяснение отношений — я намеренно не буду называть аутсорсинговую компанию, которая нас обслуживает. Имена в тексте мной изменены. Я не стремлюсь очернить моих нынешних сисадминов. Этот пост — просто крик души, возможность немного спустить пар. И может для кого-то из сисадминов интересно посмотреть на проблему глазами озверевшего клиента.\u003Cbr\u002F\u003E\r\nА еще я хотел бы понять — аутсорс администрирование — это всегда \u003Ci\u003Eтак\u003C\u002Fi\u003E? Или мне элементарно не повезло? Или наоборот мне очень повезло, а у остальных еще хуже?\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"nightfly":{"scoreStats":{"score":102.7,"votesCount":235},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"51237","alias":"nightfly","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb11\u002Fdf1\u002F471\u002Fb11df1471e71efa5c3679a60978743ee.gif","speciality":null}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
