<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>репостинг Twitter (или rss) в статус vkontakte.ru на Haskell / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/85894\/"},"headline":"репостинг Twitter (или rss) в статус vkontakte.ru на Haskell","datePublished":"2010-03-01T14:39:13+03:00","dateModified":"2010-03-12T00:02:02+03:00","author":{"@type":"Person","name":"Алексей"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте. Задача довольно простая и совершенно неоригинальная. Началось в...","url":"https:\/\/habr.com\/ru\/post\/85894\/#post-content-body","about":["h_haskell","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/85894\/fb4b0e69abc1367f2a0fbe6e1ab8da4b\/"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="репостинг Twitter (или rss) в статус vkontakte.ru на Haskell" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="репостинг Twitter (или rss) в статус vkontakte.ru на Haskell" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="репостинг Twitter (или rss) в статус vkontakte.ru на Haskell" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.
Задача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.
Задача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.
Задача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.
Задача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.
Задача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/85894/fb4b0e69abc1367f2a0fbe6e1ab8da4b/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/85894/fb4b0e69abc1367f2a0fbe6e1ab8da4b/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/85894/fb4b0e69abc1367f2a0fbe6e1ab8da4b/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/85894/fb4b0e69abc1367f2a0fbe6e1ab8da4b/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/85894/fb4b0e69abc1367f2a0fbe6e1ab8da4b/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="85894" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2010-03-01T11:39:13.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/85894/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/85894/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/85894/fb4b0e69abc1367f2a0fbe6e1ab8da4b/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/laughedelic/" title="laughedelic" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/d60/029/6a4/d600296a4e51746b1a639f18da0e65cd.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/laughedelic/" class="tm-user-info__username">
      laughedelic
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2010-03-01T11:39:13.000Z" title="2010-03-01, 14:39">1  марта  2010 в 14:39</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>репостинг Twitter (или rss) в статус vkontakte.ru на Haskell</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/haskell/" class="tm-article-snippet__hubs-item-link"><span>Haskell</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.<br/>
Задача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на Хабре о том, как это <a href="http://habrahabr.ru/blogs/python/59236/">решается на python'е</a> и аналогичную <a href="http://habrahabr.ru/blogs/php/59254/">статью про php</a>. В интернетах вроде бы даже какие-то онлайн сервисы есть специально для этой задачи. Но тут весь цимус в том, чтобы решить эту несложную задачу самому, используя свои любимые инструменты. Собственно решение на php появилось позже и с такой же целью.<br/>
<br/>
Ну и на чём же писал я? На haskell, natürlich!<br/>
Дальше подробно расскажу о том, как я всё сделал и как это повторить. Никаких особых знаний для понимания, пожалуй, не требуется.<br/>
<a name="habracut"></a><br/>
<b>Вступление</b><br/>
<br/>
В реализации решения мне помогли те две статьи и <a href="http://sovety.blogspot.com/2009/03/scripting-in-haskell-just-beginning.html">статья про репостинг из rss в livejournal на хаскелле</a>.<br/>
Сначала я хотел по-честному сделать работу с твиттером через <a href="http://apiwiki.twitter.com/">twitter-api</a>: потыкал соответствующую <a href="http://hackage.haskell.org/package/hs-twitter">библиотечку из hackage</a>, но она сходу не заработала и я её оставил — мне хотелось побыстрее получить результат и было лень копаться и разбираться, что я не так делаю. А поскольку твиттер транслируется по rss и чтение rss на haskell' е — уже решённая задача, я пошёл этим путём.<br/>
Тем более, что это более универсальное решение. Можно транслировать любой rss-канал во вконтакт. Можно даже сказать, что это не twitter2vkontakte, а rss2vkontakte.<br/>
Кроме того, я пользовался <a href="http://userapi.ru/">vkontakte-api</a>, а не парсил страницу в поисках статуса, как мои предшественники. Думаю, это плюс.<br/>
<br/>
Остальное — это literate-haskell-код. То есть не код с комментариями, а подробные комментарии с кусочками кода, которые являются обычными исходниками на haskell'е. Этот пост можно просто сохранить целиком в файл с расширением .lhs и скормить интерпритатору/компилятору. Всё должно нормально работать.<br/>
Весь рабочий код здесь выделен вот такими символами: <code><font color="#0000d4">></font></code><br/>
<br/>
<b>Необходимые приготовления</b><br/>
<br/>
Предполагается, что компилятор Haskell и основной набор библиотек у Вас уже есть. Если нет, то это легко исправить — надо установить <a href="http://hackage.haskell.org/platform/">Haskell Platform</a>. Это очень просто.<br/>
<br/>
Теперь, чтобы установить дополнительные библиотеки, достаточно набрать в консоли:<br/>
<code>cabal update<br/>
cabal install regex-tdfa curl feed utf8-string<br/>
</code><br/>
Дальше небольшой список импортов с краткими пояснениями.<br/>
Пару раз я использовал регулярные выражения:<br/>
<br/>
<code><font color="#0000d4">></font> <font color="#804040"><b>import</b></font> Text.Regex.TDFA (<font color="#008080">(=~)</font>)<br/>
</code><br/>
Один раз разрезал и склеивал список:<br/>
<br/>
<code><font color="#0000d4">></font> <font color="#804040"><b>import</b></font> Data.List (<font color="#008080">intercalate</font>)</code><br/>
<br/>
Для всех интернет-запросов пользовался библиотекой curl:<br/>
<br/>
<code><font color="#0000d4">></font> <font color="#804040"><b>import</b></font> Network.Curl      (<font color="#008080">curlGetString</font>)<br/>
<font color="#0000d4">></font> <font color="#804040"><b>import</b></font> Network.Curl.Opts<br/>
</code><br/>
Читал и парсил rss-фиды:<br/>
<br/>
<code><font color="#0000d4">></font> <font color="#804040"><b>import</b></font> Text.Feed.Import (<font color="#008080">parseFeedString</font>)<br/>
<font color="#0000d4">></font> <font color="#804040"><b>import</b></font> Text.Feed.Query (<font color="#008080">getFeedItems</font>, <font color="#008080">getItemSummary</font>)<br/>
</code><br/>
И даже разок кодировал строку в юникод:<br/>
<br/>
<code><font color="#0000d4">></font> <font color="#804040"><b>import</b></font> Codec.Binary.UTF8.String (<font color="#008080">encodeString</font>)<br/>
</code><br/>
<br/>
Дальше будет более содержательный код с более содержательными и, возможно, местами излишне подробными разъяснениями…<br/>
<br/>
<b>Twitter через rss</b><br/>
<br/>
Первое, что нам понадобится — адрес нашей rss-ленты твитов. Его можно взять у себя на страничке в твиттере. Заведём для него отдельную константу:<br/>
<br/>
<code><a href="https://twitter.com/statuses/user_timeline/22251772.rss"></a><font color="#0000d4">></font> feedUrl <font color="#804040"><b>=</b></font> <font color="#f10883">"https://twitter.com/statuses/user_timeline/22251772.rss"</font><br/>
</code><br/>
Как забирать rss-фиды и парсить, я подсмотрел в <a href="http://sovety.blogspot.com/2009/03/scripting-in-haskell-just-beginning.html">статье про rss2lj</a>. Но пользоваться этой библиотечкой я не стал. Там всё конечно хорошо сделано, но мне нужна одна простая функция, которая будет скачивать rss-фид, брать первый элемент и извлекать его содержание. И вот как я её сделал:<br/>
<br/>
<code><font color="#0000d4">></font> getTweet <font color="#804040"><b>::</b></font> IO String<br/>
<font color="#0000d4">></font> getTweet <font color="#804040"><b>=</b></font> <font color="#804040"><b>do</b></font><br/>
<font color="#0000d4">></font>     (_,feed) <font color="#804040"><b>&lt;-</b></font> curlGetString feedUrl []<br/>
<font color="#0000d4">></font>     return <font color="#804040"><b>$</b></font> getMsg <font color="#804040"><b>$</b></font> head <font color="#804040"><b>$</b></font> getItems feed<br/>
<font color="#0000d4">></font>     <font color="#2e8b57"><b>where</b></font><br/>
<font color="#0000d4">></font>         getItems <font color="#804040"><b>=</b></font> maybe (error <font color="#f10883">"rss parsing failed!"</font>) getFeedItems <font color="#804040"><b>.</b></font> parseFeedString<br/>
<font color="#0000d4">></font>         getMsg   <font color="#804040"><b>=</b></font> maybe (error <font color="#f10883">"rss-item parsing failed!"</font>)  format <font color="#804040"><b>.</b></font> getItemSummary<br/>
<font color="#0000d4">></font>         format   <font color="#804040"><b>=</b></font> unwords <font color="#804040"><b>.</b></font> (<font color="#f10883">"twitter:"</font><font color="#804040"><b>:</b></font>) <font color="#804040"><b>.</b></font> tail <font color="#804040"><b>.</b></font> words <font color="#804040"><b>.</b></font> encodeString<br/>
</code><br/>
Поясню, что в ней происходит. Функция <code>curlGetString :: URLString -> [CurlOption] -> IO (CurlCode, String)</code> берёт url-адрес, список опций, и выдаёт код операции (<code>CurlOk</code>, если всё прошло успешно) и ответ сервера. В данном случае, в качестве адреса мы указываем нашу twitter-rss ленту, и не даём никаких опций. На код завершения не обращаем внимания. А вот содержательную часть ответа обзываем feed.<br/>
Следующую строку надо читать справа налево: извлекаем элементы фида (<code>getItems feed</code>), получаем список, берём из него первый элемент (<code>head</code>), извлекаем из него собственно сообщение (<code>getMsg</code>) и возвращаем на выход.<br/>
А теперь поподробнее об этих функциях, в таком же порядке. Каждая из них написана в point-free-style, то есть без указания аргумента, просто как композиция (точка .) Других функций.<br/>
Композицию тоже можно читать справа налево, по точкам (: то есть в порядке применения фукнций: в <code>getItems</code> сначала применяется функция <code>parseFeedString</code> (из библиотеки Feed), она имеет тип (<code>String -> Maybe Feed</code>), то есть на вход получает строку со всякой кашей из rss-тегов, а выдаёт абстрактный тип фида, с которым уже можно что-то делать. Поскольку возвращается значение <code>Maybe Feed</code> («Может быть фид»), может статься, что парсер подавится, и вернёт <code>Nothing</code> — тогда мы выдаём ошибку с текстом «rss parsing failed!». Если же парсинг пройдёт удачно, мы получим значение (<code>Just фид</code>), и тогда применим к нему функцию <code>getFeedItems</code>, которая извлекает из фида элементы в виде списка. Это ветвление (<code>Nothing</code> или <code>Just ...</code>) реализуется стандартной функцией <code>maybe</code>.<br/>
После работы <code>getItems</code> мы получим список элементов фида: <code>[Item]</code>. Нам нужен только первый из них (то есть последний по дате). Берём его функцией <code>head</code>. И теперь хотим выковырять из него текст сообщения: <code>getMsg</code>.<br/>
Эта функция имеет схожую с <code>getItems</code> структуру: сначала применяется <code>getItemSummary</code>, которая возвращяет <code>Maybe String</code>. Если извлечь содержание не удалось, выдаём соответствующую ошибку. Иначе, форматируем полученное сообщение.<br/>
Форматирование (<code>format</code>) производится вкратце следующим образом (опять справа налево): кодируем строку в unicode, разбиваем на слова (по пробелам), выбрасываем первое слово, вставляем вместо него «twitter:» (по желанию), склеиваем обратно все слова в одну строку. Первое слово в rss-твитах — это всегда ваш ник. Поэтому мы его выкидываем.<br/>
<br/>
Вот и всё с rss. Я, возможно, описал всё излишне подробно, но думаю, для любопытствующих, незнакомых с haskell'ем, это описание было содержательным.<br/>
<br/>
<b>Vkontakte api</b><br/>
<br/>
Первым делом заведём несколько констант для работы с вконтактом:<br/>
<br/>
<code><font color="#0000d4">></font> email <font color="#804040"><b>=</b></font> <font color="#f10883">"Ваш e-mail"</font><br/>
<font color="#0000d4">></font> uid <font color="#804040"><b>=</b></font> <font color="#f10883">"Ваш user-id вконтакте"</font><br/>
<font color="#0000d4">></font> pass <font color="#804040"><b>=</b></font> <font color="#f10883">"Ваш пароль"</font><br/>
</code><br/>
Это данные, соответствующие вашей регистрации во вконтакте.<br/>
<br/>
Все операции осуществляются GET запросами на сервер (всё та же функция <code>curlGetString</code>), с соответствующими хитрыми адресами. Строятся они следующим образом:<br/>
базовый адрес (например <a href="http://userapi.com/data">userapi.com/data</a>?) плюс список параметров в форме ключ=значение, разделённых амперсандами &amp;.<br/>
Чтобы формировать такие адреса, напишем пару вспомогательных функций:<br/>
<br/>
<code><font color="#0000d4">></font> param <font color="#804040"><b>::</b></font> (String, String) <font color="#804040"><b>-></b></font> String<br/>
<font color="#0000d4">></font> param (key, value) <font color="#804040"><b>=</b></font> key <font color="#804040"><b>++</b></font> <font color="#f10883">"="</font> <font color="#804040"><b>++</b></font> value <font color="#804040"><b>++</b></font> <font color="#f10883">"&amp;"</font><br/>
</code><br/>
Эта функция просто берёт пару (ключ, значение) и делает из неё строку нужного формата.<br/>
<br/>
<code><font color="#0000d4">></font> formUrl <font color="#804040"><b>::</b></font> String <font color="#804040"><b>-></b></font> [(String, String)] <font color="#804040"><b>-></b></font> String <font color="#804040"><b>-></b></font> String<br/>
<font color="#0000d4">></font> formUrl base opts sid <font color="#804040"><b>=</b></font> base <font color="#804040"><b>++</b></font> ( concatMap param (opts<font color="#804040"><b>++</b></font>[(<font color="#f10883">"id"</font>,uid)]) ) <font color="#804040"><b>++</b></font> sid<br/>
</code><br/>
Формируем url нужного формата из базового адреса <code>base</code>, списка опций <code>opts</code> (ввиде пар), и идентификатора сессии <code>sid</code> (о нём позже).<br/>
Содержательная часть находится в скобках: <code>map</code> берёт функцию и список, и применяет функцию к каждому элементу списка. То есть из списка пар <code>(ключ, значение)</code>, делает список строк <code>"ключ=значение&amp;"</code>. А <code>concat</code> просто склеивает все эти строки в одну (<code>concatMap = concat . map</code>).<br/>
Для разных задач набор опций отличается, но во всех случаях нужно указывать идентификатор пользователя (<code>uid</code>), поэтому, чтобы не писать эту опцию каждый раз, мы добавляем её в определении этой функции.<br/>
<br/>
Чтобы как-то работать с вконтактом, нужно сначала авторизоваться. Тогда сервер даст нам печеньки (cookies) и идентификатор сессии (sid = session id). Печеньками я пользоваться не стал, а вот sid нужен практически для любой операции с получением/изменением данных пользователя.<br/>
<br/>
<code><a href="http://login.userapi.com/auth?"></a><font color="#0000d4">></font> login <font color="#804040"><b>::</b></font> IO String<br/>
<font color="#0000d4">></font> login <font color="#804040"><b>=</b></font> <font color="#804040"><b>do</b></font><br/>
<font color="#0000d4">></font>     (_,headers) <font color="#804040"><b>&lt;-</b></font> curlGetString authUrl [CurlHeader True]<br/>
<font color="#0000d4">></font>     return ( headers <font color="#804040"><b>=~</b></font> <font color="#f10883">"sid=[a-z0-9]*"</font>  <font color="#804040"><b>::</b></font> String )<br/>
<font color="#0000d4">></font>     <font color="#2e8b57"><b>where</b></font><br/>
<font color="#0000d4">></font>         authUrl <font color="#804040"><b>=</b></font> formUrl <font color="#f10883">"http://login.userapi.com/auth?"</font><br/>
<font color="#0000d4">></font>                           [(<font color="#f10883">"site"</font>,<font color="#f10883">"2"</font>), (<font color="#f10883">"fccode"</font>,<font color="#f10883">"0"</font>),<br/>
<font color="#0000d4">></font>                            (<font color="#f10883">"fcsid"</font>,<font color="#f10883">"0"</font>), (<font color="#f10883">"login"</font>,<font color="#f10883">"force"</font>),<br/>
<font color="#0000d4">></font>                            (<font color="#f10883">"email"</font>,email), (<font color="#f10883">"pass"</font>,pass)]  <font color="#f10883">""</font><br/>
</code><br/>
Адрес для аутентификации имеет кучу опций, назначение которых я не понял, но взял из документации и без них ничего не работает. Формируем этот адрес спомощью только что написанной функции <code>formUrl</code>, при этом в последние две опции вставляются наш email и пароль. А параметр sid остётся пустым — у нас его пока нет, и собственно ради него мы и написали функцию <code>login</code>.<br/>
Что в ней происходит: посылается curl-запрос, по адресу <code>authUrl</code>, который возвращает заголовки <code>headers</code> (для этого выставляется опция <code>CurlHeader</code>). В них собственно печеньки, адрес перенаправления и что-то ещё. Вот в адресе, куда нас посылает сервер, и спрятано то, что мы ищем. С помощью секретной техники регулярных выражений, из <code>headers</code> выдирается заветный session id, вида «sid=35dfe55b09b599c9fx622fcx8cd83a37».<br/>
На регулярных выражениях в haskell'е я останавливаться не буду — это отдельная тема. Можно считать, что это просто поиск подстроки нужного вида.<br/>
<br/>
Замечательно! sid мы получили, теперь перед нами открыты все возможности api вконтакта. Для нашей задачи нужна только одна — изменение статуса.<br/>
В принципе любое взаимодествие с вконтактом будет свобиться к следующей команде:<br/>
<br/>
<code>(_,answer) &lt;- curlGetString someUrl []</code><br/>
<br/>
где <code>someUrl</code> — соотвествующий запрос (смотреть в документации), а <code>answer</code> — ответ сервера. Вот как выглядит запрос на изменение статуса: <br/>
<br/>
<code><a href="http://userapi.com/data?"></a><font color="#0000d4">></font> setActivityUrl <font color="#804040"><b>::</b></font> String <font color="#804040"><b>-></b></font> String <font color="#804040"><b>-></b></font> String<br/>
<font color="#0000d4">></font> setActivityUrl text <font color="#804040"><b>=</b></font> formUrl <font color="#f10883">"http://userapi.com/data?"</font> [(<font color="#f10883">"act"</font>, <font color="#f10883">"set_activity"</font>), (<font color="#f10883">"text"</font>, text)]<br/>
</code><br/>
Обратите внимание на то, что третий параметр функции <code>formUrl</code> — <code>sid</code>, не указан. Это частичное применение — у функции 3 параметра, а мы дали только 2, значит получилась функция от оставшегося одного параметра. То есть <code>setActivityUrl</code> — функция не только от параметра <code>text</code> (собственно новый статус), но и от второго параметра <code>sid</code>, который как бы дописывается справа.<br/>
<br/>
Ещё одна мелочь: в тексте твита будут пробелы, а это недопустимо для url-запроса. Поэтому мы сделаем простенькую функцию, заменяющую все пробелы, на %20:<br/>
<br/>
<code><font color="#0000d4">></font> escSpaces <font color="#804040"><b>=</b></font> intercalate <font color="#f10883">"%20"</font> <font color="#804040"><b>.</b></font> words<br/>
</code><br/>
Она разбивает строку на список слов, вставляет между соседними элементами этого списка строку "%20", а потом склеивает всё снова в одну строку (последние два действия делает функция <code>intercalate</code>).<br/>
<br/>
Теперь мы можем собрать из уже обсуждённых частей, функцию изменения статуса:<br/>
<br/>
<code><font color="#0000d4">></font> setStatus <font color="#804040"><b>::</b></font> String <font color="#804040"><b>-></b></font> String <font color="#804040"><b>-></b></font> IO ()<br/>
<font color="#0000d4">></font> setStatus text sid <font color="#804040"><b>=</b></font> <font color="#804040"><b>do</b></font><br/>
<font color="#0000d4">></font>     (_,answer) <font color="#804040"><b>&lt;-</b></font> curlGetString url [] <br/>
<font color="#0000d4">></font>     <font color="#804040"><b>if</b></font> answer <font color="#804040"><b>=~</b></font> <font color="#f10883">"</font><font color="#6a59cc">\"</font><font color="#f10883">ok</font><font color="#6a59cc">\"</font><font color="#f10883">:1"</font>   <font color="#804040"><b>::</b></font> Bool<br/>
<font color="#0000d4">></font>        <font color="#804040"><b>then</b></font> putStrLn text<br/>
<font color="#0000d4">></font>        <font color="#804040"><b>else</b></font> error <font color="#f10883">"something is bad with vkontakte-api..."</font><br/>
<font color="#0000d4">></font>     <font color="#2e8b57"><b>where</b></font><br/>
<font color="#0000d4">></font>         url <font color="#804040"><b>=</b></font> setActivityUrl (escSpaces text) sid<br/>
</code><br/>
Можно было бы написать эту функцию и проще, в одну строку:<br/>
<br/>
<code>setStatus text sid = curlGetString (setActivityUrl (escSpaces text) sid) []</code><br/>
<br/>
Но первый вариант нагляднее, там делается проверка ответа сервера — если ответ содержит <code>"ok":1</code>, то всё хорошо — статус сменился, о чём мы и сообщаем пользователю (себе то есть).<br/>
Всё! Теперь у нас есть все части мозаики и собрать её очень просто.<br/>
<br/>
<b>main</b><br/>
<br/>
То, ради чего было были написаны все эти функции:<br/>
<br/>
<code><font color="#0000d4">></font> main <font color="#804040"><b>=</b></font> <font color="#804040"><b>do</b></font><br/>
<font color="#0000d4">></font>     tweet <font color="#804040"><b>&lt;-</b></font> getTweet<br/>
<font color="#0000d4">></font>     sid   <font color="#804040"><b>&lt;-</b></font> login<br/>
<font color="#0000d4">></font>     setStatus tweet sid<br/>
</code><br/>
Выглядит до крайности просто, не правда ли? Тут уж комментарии излишни.<br/>
Думаю, что и все остальные функции выглядят достаточно понятно с моими пояснениями.<br/>
Статистики ради: ~40 LinesOfCode.<br/>
<br/>
<b>Заключение</b><br/>
<br/>
Чтобы запустить этот код, надо как уже говорилось, просто сохранить весь пост в файл с расширением .lhs и набрать в консоли:<br/>
<br/>
<code>runhaskell имя_файла.lhs</code><br/>
<br/>
Вот и всё.<br/>
Не знаю, нужно ли продолжение, рассказывающее о том, как автоматизировать этот запуск.<br/>
Лично для себя я (как пользователь Mac OS X) решил это созданием «Службы» в Automator и назначением горячей клавиши, для её быстрого вызова — это только автоматизация запуска, но для меня этого достаточно.<br/>
<br/>
Надеюсь, это было кому-нибудь интересно читать. Жду Ваши вопросы/предложения/возражения (:<br/>
<br/>
<b>upd:</b> переместил в тематический блог.</div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bhaskell%5D" class="tm-article-body__tags-item-link">haskell</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Btwitter%5D" class="tm-article-body__tags-item-link">twitter</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bvkontakte%5D" class="tm-article-body__tags-item-link">vkontakte</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%85%D0%B0%D1%81%D0%BA%D0%B5%D0%BB%D1%8C%5D" class="tm-article-body__tags-item-link">хаскель</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%82%D0%B2%D0%B8%D1%82%D1%82%D0%B5%D1%80%5D" class="tm-article-body__tags-item-link">твиттер</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/haskell/" class="tm-article-body__tags-item-link">
                  Haskell
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 18: ↑13 и ↓5</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 18: ↑13 и ↓5" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+8</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    17
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/85894/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      11
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/laughedelic/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/d60/029/6a4/d600296a4e51746b1a639f18da0e65cd.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 42 голоса " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    40
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><span class="tm-user-card__name">Алексей</span> <a href="/ru/users/laughedelic/" class="tm-user-card__nickname">
          @laughedelic
        </a> <!----></div> <p class="tm-user-card__short-info">Программист</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/85894/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 11 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2011-11-21T09:07:54.000Z" title="2011-11-21, 13:07">21  ноября  2011 в 13:07</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/133009/" class="tm-article-title__link"><span>Введение в Template Haskell. Часть 3. Прочие аспекты TH</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 15: ↑13 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 15: ↑13 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+11</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2.1K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    27
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/133009/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2011-11-15T21:20:19.000Z" title="2011-11-16, 01:20">16  ноября  2011 в 01:20</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/132679/" class="tm-article-title__link"><span>Введение в Template Haskell. Часть 2. Инструменты цитирования кода</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 17: ↑17 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 17: ↑17 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+17</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2.6K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    31
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/132679/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      2
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2011-11-11T04:19:27.000Z" title="2011-11-11, 08:19">11  ноября  2011 в 08:19</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/131998/" class="tm-article-title__link"><span>Введение в Template Haskell. Часть 1. Необходимый минимум</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 19: ↑19 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 19: ↑19 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+19</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">7.5K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    47
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/131998/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      7
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T09:00:04.000Z" title="2021-09-27, 12:00">вчера в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580060/" class="tm-article-title__link"><span>Арракис, который мы заслужили</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 166: ↑160 и ↓6</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 166: ↑160 и ↓6" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+154</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">27K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    48
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580060/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      127
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T16:41:21.000Z" title="2021-09-27, 19:41">вчера в 19:41</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/lamptest/blog/580228/" class="tm-article-title__link"><span>Идеальная светодиодная лампа за 21 рубль</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 99: ↑97 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 99: ↑97 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+95</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">19K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    74
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/lamptest/blog/580228/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      40
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T13:03:14.000Z" title="2021-09-27, 16:03">вчера в 16:03</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580124/" class="tm-article-title__link"><span>Электролюминесцентные индикаторы из прошлого</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 83: ↑83 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 83: ↑83 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+83</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">6.7K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    39
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580124/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      18
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T12:53:02.000Z" title="2021-09-27, 15:53">вчера в 15:53</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580210/" class="tm-article-title__link"><span>PHP Дайджест № 212 (13 – 27 сентября 2021)</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 43: ↑43 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 43: ↑43 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+43</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">4.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    16
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580210/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T10:50:03.000Z" title="2021-09-27, 13:50">вчера в 13:50</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/oleg-bunin/blog/580150/" class="tm-article-title__link"><span>Топ-5 когнитивных искажений при планировании в IT</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 44: ↑43 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 44: ↑43 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+42</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">8K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    67
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/oleg-bunin/blog/580150/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      8
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="85894" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/85894/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/85894/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"85894":{"id":"85894","timePublished":"2010-03-01T11:39:13+00:00","isCorporative":false,"lang":"ru","titleHtml":"репостинг Twitter (или rss) в статус vkontakte.ru на Haskell","leadData":{"textHtml":"В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.\u003Cbr\u002F\u003E\r\nЗадача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на Хабре о том, как это \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fpython\u002F59236\u002F\"\u003Eрешается на python'е\u003C\u002Fa\u003E и аналогичную \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fphp\u002F59254\u002F\"\u003Eстатью про php\u003C\u002Fa\u003E. В интернетах вроде бы даже какие-то онлайн сервисы есть специально для этой задачи. Но тут весь цимус в том, чтобы решить эту несложную задачу самому, используя свои любимые инструменты. Собственно решение на php появилось позже и с такой же целью.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу и на чём же писал я? На haskell, natürlich!\u003Cbr\u002F\u003E\r\nДальше подробно расскажу о том, как я всё сделал и как это повторить. Никаких особых знаний для понимания, пожалуй, не требуется.\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":40,"votesCount":42},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"54319","alias":"laughedelic","fullname":"Алексей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd60\u002F029\u002F6a4\u002Fd600296a4e51746b1a639f18da0e65cd.jpg","speciality":"Программист"},"statistics":{"commentsCount":11,"favoritesCount":17,"readingCount":1683,"score":8,"votesCount":18},"hubs":[{"relatedData":null,"id":"8424","alias":"haskell","type":"collective","title":"Haskell","titleHtml":"Haskell","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EВ данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.\u003Cbr\u002F\u003E\r\nЗадача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на Хабре о том, как это \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fpython\u002F59236\u002F\"\u003Eрешается на python'е\u003C\u002Fa\u003E и аналогичную \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002Fphp\u002F59254\u002F\"\u003Eстатью про php\u003C\u002Fa\u003E. В интернетах вроде бы даже какие-то онлайн сервисы есть специально для этой задачи. Но тут весь цимус в том, чтобы решить эту несложную задачу самому, используя свои любимые инструменты. Собственно решение на php появилось позже и с такой же целью.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу и на чём же писал я? На haskell, natürlich!\u003Cbr\u002F\u003E\r\nДальше подробно расскажу о том, как я всё сделал и как это повторить. Никаких особых знаний для понимания, пожалуй, не требуется.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003EВступление\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ реализации решения мне помогли те две статьи и \u003Ca href=\"http:\u002F\u002Fsovety.blogspot.com\u002F2009\u002F03\u002Fscripting-in-haskell-just-beginning.html\"\u003Eстатья про репостинг из rss в livejournal на хаскелле\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\nСначала я хотел по-честному сделать работу с твиттером через \u003Ca href=\"http:\u002F\u002Fapiwiki.twitter.com\u002F\"\u003Etwitter-api\u003C\u002Fa\u003E: потыкал соответствующую \u003Ca href=\"http:\u002F\u002Fhackage.haskell.org\u002Fpackage\u002Fhs-twitter\"\u003Eбиблиотечку из hackage\u003C\u002Fa\u003E, но она сходу не заработала и я её оставил — мне хотелось побыстрее получить результат и было лень копаться и разбираться, что я не так делаю. А поскольку твиттер транслируется по rss и чтение rss на haskell' е — уже решённая задача, я пошёл этим путём.\u003Cbr\u002F\u003E\r\nТем более, что это более универсальное решение. Можно транслировать любой rss-канал во вконтакт. Можно даже сказать, что это не twitter2vkontakte, а rss2vkontakte.\u003Cbr\u002F\u003E\r\nКроме того, я пользовался \u003Ca href=\"http:\u002F\u002Fuserapi.ru\u002F\"\u003Evkontakte-api\u003C\u002Fa\u003E, а не парсил страницу в поисках статуса, как мои предшественники. Думаю, это плюс.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОстальное — это literate-haskell-код. То есть не код с комментариями, а подробные комментарии с кусочками кода, которые являются обычными исходниками на haskell'е. Этот пост можно просто сохранить целиком в файл с расширением .lhs и скормить интерпритатору\u002Fкомпилятору. Всё должно нормально работать.\u003Cbr\u002F\u003E\r\nВесь рабочий код здесь выделен вот такими символами: \u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EНеобходимые приготовления\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПредполагается, что компилятор Haskell и основной набор библиотек у Вас уже есть. Если нет, то это легко исправить — надо установить \u003Ca href=\"http:\u002F\u002Fhackage.haskell.org\u002Fplatform\u002F\"\u003EHaskell Platform\u003C\u002Fa\u003E. Это очень просто.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь, чтобы установить дополнительные библиотеки, достаточно набрать в консоли:\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Ecabal update\u003Cbr\u002F\u003E\r\ncabal install regex-tdfa curl feed utf8-string\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nДальше небольшой список импортов с краткими пояснениями.\u003Cbr\u002F\u003E\r\nПару раз я использовал регулярные выражения:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eimport\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Text.Regex.TDFA (\u003Cfont color=\"#008080\"\u003E(=~)\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nОдин раз разрезал и склеивал список:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eimport\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Data.List (\u003Cfont color=\"#008080\"\u003Eintercalate\u003C\u002Ffont\u003E)\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля всех интернет-запросов пользовался библиотекой curl:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eimport\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Network.Curl      (\u003Cfont color=\"#008080\"\u003EcurlGetString\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eimport\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Network.Curl.Opts\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nЧитал и парсил rss-фиды:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eimport\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Text.Feed.Import (\u003Cfont color=\"#008080\"\u003EparseFeedString\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eimport\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Text.Feed.Query (\u003Cfont color=\"#008080\"\u003EgetFeedItems\u003C\u002Ffont\u003E, \u003Cfont color=\"#008080\"\u003EgetItemSummary\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nИ даже разок кодировал строку в юникод:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eimport\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Codec.Binary.UTF8.String (\u003Cfont color=\"#008080\"\u003EencodeString\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДальше будет более содержательный код с более содержательными и, возможно, местами излишне подробными разъяснениями…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003ETwitter через rss\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПервое, что нам понадобится — адрес нашей rss-ленты твитов. Его можно взять у себя на страничке в твиттере. Заведём для него отдельную константу:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fstatuses\u002Fuser_timeline\u002F22251772.rss\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E feedUrl \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"https:\u002F\u002Ftwitter.com\u002Fstatuses\u002Fuser_timeline\u002F22251772.rss\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nКак забирать rss-фиды и парсить, я подсмотрел в \u003Ca href=\"http:\u002F\u002Fsovety.blogspot.com\u002F2009\u002F03\u002Fscripting-in-haskell-just-beginning.html\"\u003Eстатье про rss2lj\u003C\u002Fa\u003E. Но пользоваться этой библиотечкой я не стал. Там всё конечно хорошо сделано, но мне нужна одна простая функция, которая будет скачивать rss-фид, брать первый элемент и извлекать его содержание. И вот как я её сделал:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E getTweet \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E IO String\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E getTweet \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Edo\u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     (_,feed) \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E&lt;-\u003C\u002Fb\u003E\u003C\u002Ffont\u003E curlGetString feedUrl []\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     return \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E$\u003C\u002Fb\u003E\u003C\u002Ffont\u003E getMsg \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E$\u003C\u002Fb\u003E\u003C\u002Ffont\u003E head \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E$\u003C\u002Fb\u003E\u003C\u002Ffont\u003E getItems feed\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     \u003Cfont color=\"#2e8b57\"\u003E\u003Cb\u003Ewhere\u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E         getItems \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E maybe (error \u003Cfont color=\"#f10883\"\u003E\"rss parsing failed!\"\u003C\u002Ffont\u003E) getFeedItems \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E.\u003C\u002Fb\u003E\u003C\u002Ffont\u003E parseFeedString\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E         getMsg   \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E maybe (error \u003Cfont color=\"#f10883\"\u003E\"rss-item parsing failed!\"\u003C\u002Ffont\u003E)  format \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E.\u003C\u002Fb\u003E\u003C\u002Ffont\u003E getItemSummary\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E         format   \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E unwords \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E.\u003C\u002Fb\u003E\u003C\u002Ffont\u003E (\u003Cfont color=\"#f10883\"\u003E\"twitter:\"\u003C\u002Ffont\u003E\u003Cfont color=\"#804040\"\u003E\u003Cb\u003E:\u003C\u002Fb\u003E\u003C\u002Ffont\u003E) \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E.\u003C\u002Fb\u003E\u003C\u002Ffont\u003E tail \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E.\u003C\u002Fb\u003E\u003C\u002Ffont\u003E words \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E.\u003C\u002Fb\u003E\u003C\u002Ffont\u003E encodeString\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nПоясню, что в ней происходит. Функция \u003Ccode\u003EcurlGetString :: URLString -\u003E [CurlOption] -\u003E IO (CurlCode, String)\u003C\u002Fcode\u003E берёт url-адрес, список опций, и выдаёт код операции (\u003Ccode\u003ECurlOk\u003C\u002Fcode\u003E, если всё прошло успешно) и ответ сервера. В данном случае, в качестве адреса мы указываем нашу twitter-rss ленту, и не даём никаких опций. На код завершения не обращаем внимания. А вот содержательную часть ответа обзываем feed.\u003Cbr\u002F\u003E\r\nСледующую строку надо читать справа налево: извлекаем элементы фида (\u003Ccode\u003EgetItems feed\u003C\u002Fcode\u003E), получаем список, берём из него первый элемент (\u003Ccode\u003Ehead\u003C\u002Fcode\u003E), извлекаем из него собственно сообщение (\u003Ccode\u003EgetMsg\u003C\u002Fcode\u003E) и возвращаем на выход.\u003Cbr\u002F\u003E\r\nА теперь поподробнее об этих функциях, в таком же порядке. Каждая из них написана в point-free-style, то есть без указания аргумента, просто как композиция (точка .) Других функций.\u003Cbr\u002F\u003E\r\nКомпозицию тоже можно читать справа налево, по точкам (: то есть в порядке применения фукнций: в \u003Ccode\u003EgetItems\u003C\u002Fcode\u003E сначала применяется функция \u003Ccode\u003EparseFeedString\u003C\u002Fcode\u003E (из библиотеки Feed), она имеет тип (\u003Ccode\u003EString -\u003E Maybe Feed\u003C\u002Fcode\u003E), то есть на вход получает строку со всякой кашей из rss-тегов, а выдаёт абстрактный тип фида, с которым уже можно что-то делать. Поскольку возвращается значение \u003Ccode\u003EMaybe Feed\u003C\u002Fcode\u003E («Может быть фид»), может статься, что парсер подавится, и вернёт \u003Ccode\u003ENothing\u003C\u002Fcode\u003E — тогда мы выдаём ошибку с текстом «rss parsing failed!». Если же парсинг пройдёт удачно, мы получим значение (\u003Ccode\u003EJust фид\u003C\u002Fcode\u003E), и тогда применим к нему функцию \u003Ccode\u003EgetFeedItems\u003C\u002Fcode\u003E, которая извлекает из фида элементы в виде списка. Это ветвление (\u003Ccode\u003ENothing\u003C\u002Fcode\u003E или \u003Ccode\u003EJust ...\u003C\u002Fcode\u003E) реализуется стандартной функцией \u003Ccode\u003Emaybe\u003C\u002Fcode\u003E.\u003Cbr\u002F\u003E\r\nПосле работы \u003Ccode\u003EgetItems\u003C\u002Fcode\u003E мы получим список элементов фида: \u003Ccode\u003E[Item]\u003C\u002Fcode\u003E. Нам нужен только первый из них (то есть последний по дате). Берём его функцией \u003Ccode\u003Ehead\u003C\u002Fcode\u003E. И теперь хотим выковырять из него текст сообщения: \u003Ccode\u003EgetMsg\u003C\u002Fcode\u003E.\u003Cbr\u002F\u003E\r\nЭта функция имеет схожую с \u003Ccode\u003EgetItems\u003C\u002Fcode\u003E структуру: сначала применяется \u003Ccode\u003EgetItemSummary\u003C\u002Fcode\u003E, которая возвращяет \u003Ccode\u003EMaybe String\u003C\u002Fcode\u003E. Если извлечь содержание не удалось, выдаём соответствующую ошибку. Иначе, форматируем полученное сообщение.\u003Cbr\u002F\u003E\r\nФорматирование (\u003Ccode\u003Eformat\u003C\u002Fcode\u003E) производится вкратце следующим образом (опять справа налево): кодируем строку в unicode, разбиваем на слова (по пробелам), выбрасываем первое слово, вставляем вместо него «twitter:» (по желанию), склеиваем обратно все слова в одну строку. Первое слово в rss-твитах — это всегда ваш ник. Поэтому мы его выкидываем.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВот и всё с rss. Я, возможно, описал всё излишне подробно, но думаю, для любопытствующих, незнакомых с haskell'ем, это описание было содержательным.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EVkontakte api\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПервым делом заведём несколько констант для работы с вконтактом:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E email \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"Ваш e-mail\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E uid \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"Ваш user-id вконтакте\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E pass \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"Ваш пароль\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nЭто данные, соответствующие вашей регистрации во вконтакте.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВсе операции осуществляются GET запросами на сервер (всё та же функция \u003Ccode\u003EcurlGetString\u003C\u002Fcode\u003E), с соответствующими хитрыми адресами. Строятся они следующим образом:\u003Cbr\u002F\u003E\r\nбазовый адрес (например \u003Ca href=\"http:\u002F\u002Fuserapi.com\u002Fdata\"\u003Euserapi.com\u002Fdata\u003C\u002Fa\u003E?) плюс список параметров в форме ключ=значение, разделённых амперсандами &amp;.\u003Cbr\u002F\u003E\r\nЧтобы формировать такие адреса, напишем пару вспомогательных функций:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E param \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E (String, String) \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E param (key, value) \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E key \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E++\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"=\"\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E++\u003C\u002Fb\u003E\u003C\u002Ffont\u003E value \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E++\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"&amp;\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nЭта функция просто берёт пару (ключ, значение) и делает из неё строку нужного формата.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E formUrl \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E [(String, String)] \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E formUrl base opts sid \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E base \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E++\u003C\u002Fb\u003E\u003C\u002Ffont\u003E ( concatMap param (opts\u003Cfont color=\"#804040\"\u003E\u003Cb\u003E++\u003C\u002Fb\u003E\u003C\u002Ffont\u003E[(\u003Cfont color=\"#f10883\"\u003E\"id\"\u003C\u002Ffont\u003E,uid)]) ) \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E++\u003C\u002Fb\u003E\u003C\u002Ffont\u003E sid\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nФормируем url нужного формата из базового адреса \u003Ccode\u003Ebase\u003C\u002Fcode\u003E, списка опций \u003Ccode\u003Eopts\u003C\u002Fcode\u003E (ввиде пар), и идентификатора сессии \u003Ccode\u003Esid\u003C\u002Fcode\u003E (о нём позже).\u003Cbr\u002F\u003E\r\nСодержательная часть находится в скобках: \u003Ccode\u003Emap\u003C\u002Fcode\u003E берёт функцию и список, и применяет функцию к каждому элементу списка. То есть из списка пар \u003Ccode\u003E(ключ, значение)\u003C\u002Fcode\u003E, делает список строк \u003Ccode\u003E\"ключ=значение&amp;\"\u003C\u002Fcode\u003E. А \u003Ccode\u003Econcat\u003C\u002Fcode\u003E просто склеивает все эти строки в одну (\u003Ccode\u003EconcatMap = concat . map\u003C\u002Fcode\u003E).\u003Cbr\u002F\u003E\r\nДля разных задач набор опций отличается, но во всех случаях нужно указывать идентификатор пользователя (\u003Ccode\u003Euid\u003C\u002Fcode\u003E), поэтому, чтобы не писать эту опцию каждый раз, мы добавляем её в определении этой функции.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы как-то работать с вконтактом, нужно сначала авторизоваться. Тогда сервер даст нам печеньки (cookies) и идентификатор сессии (sid = session id). Печеньками я пользоваться не стал, а вот sid нужен практически для любой операции с получением\u002Fизменением данных пользователя.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Flogin.userapi.com\u002Fauth?\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E login \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E IO String\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E login \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Edo\u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     (_,headers) \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E&lt;-\u003C\u002Fb\u003E\u003C\u002Ffont\u003E curlGetString authUrl [CurlHeader True]\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     return ( headers \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=~\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"sid=[a-z0-9]*\"\u003C\u002Ffont\u003E  \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String )\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     \u003Cfont color=\"#2e8b57\"\u003E\u003Cb\u003Ewhere\u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E         authUrl \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E formUrl \u003Cfont color=\"#f10883\"\u003E\"http:\u002F\u002Flogin.userapi.com\u002Fauth?\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E                           [(\u003Cfont color=\"#f10883\"\u003E\"site\"\u003C\u002Ffont\u003E,\u003Cfont color=\"#f10883\"\u003E\"2\"\u003C\u002Ffont\u003E), (\u003Cfont color=\"#f10883\"\u003E\"fccode\"\u003C\u002Ffont\u003E,\u003Cfont color=\"#f10883\"\u003E\"0\"\u003C\u002Ffont\u003E),\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E                            (\u003Cfont color=\"#f10883\"\u003E\"fcsid\"\u003C\u002Ffont\u003E,\u003Cfont color=\"#f10883\"\u003E\"0\"\u003C\u002Ffont\u003E), (\u003Cfont color=\"#f10883\"\u003E\"login\"\u003C\u002Ffont\u003E,\u003Cfont color=\"#f10883\"\u003E\"force\"\u003C\u002Ffont\u003E),\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E                            (\u003Cfont color=\"#f10883\"\u003E\"email\"\u003C\u002Ffont\u003E,email), (\u003Cfont color=\"#f10883\"\u003E\"pass\"\u003C\u002Ffont\u003E,pass)]  \u003Cfont color=\"#f10883\"\u003E\"\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nАдрес для аутентификации имеет кучу опций, назначение которых я не понял, но взял из документации и без них ничего не работает. Формируем этот адрес спомощью только что написанной функции \u003Ccode\u003EformUrl\u003C\u002Fcode\u003E, при этом в последние две опции вставляются наш email и пароль. А параметр sid остётся пустым — у нас его пока нет, и собственно ради него мы и написали функцию \u003Ccode\u003Elogin\u003C\u002Fcode\u003E.\u003Cbr\u002F\u003E\r\nЧто в ней происходит: посылается curl-запрос, по адресу \u003Ccode\u003EauthUrl\u003C\u002Fcode\u003E, который возвращает заголовки \u003Ccode\u003Eheaders\u003C\u002Fcode\u003E (для этого выставляется опция \u003Ccode\u003ECurlHeader\u003C\u002Fcode\u003E). В них собственно печеньки, адрес перенаправления и что-то ещё. Вот в адресе, куда нас посылает сервер, и спрятано то, что мы ищем. С помощью секретной техники регулярных выражений, из \u003Ccode\u003Eheaders\u003C\u002Fcode\u003E выдирается заветный session id, вида «sid=35dfe55b09b599c9fx622fcx8cd83a37».\u003Cbr\u002F\u003E\r\nНа регулярных выражениях в haskell'е я останавливаться не буду — это отдельная тема. Можно считать, что это просто поиск подстроки нужного вида.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗамечательно! sid мы получили, теперь перед нами открыты все возможности api вконтакта. Для нашей задачи нужна только одна — изменение статуса.\u003Cbr\u002F\u003E\r\nВ принципе любое взаимодествие с вконтактом будет свобиться к следующей команде:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E(_,answer) &lt;- curlGetString someUrl []\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nгде \u003Ccode\u003EsomeUrl\u003C\u002Fcode\u003E — соотвествующий запрос (смотреть в документации), а \u003Ccode\u003Eanswer\u003C\u002Fcode\u003E — ответ сервера. Вот как выглядит запрос на изменение статуса: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fuserapi.com\u002Fdata?\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E setActivityUrl \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E setActivityUrl text \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E formUrl \u003Cfont color=\"#f10883\"\u003E\"http:\u002F\u002Fuserapi.com\u002Fdata?\"\u003C\u002Ffont\u003E [(\u003Cfont color=\"#f10883\"\u003E\"act\"\u003C\u002Ffont\u003E, \u003Cfont color=\"#f10883\"\u003E\"set_activity\"\u003C\u002Ffont\u003E), (\u003Cfont color=\"#f10883\"\u003E\"text\"\u003C\u002Ffont\u003E, text)]\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nОбратите внимание на то, что третий параметр функции \u003Ccode\u003EformUrl\u003C\u002Fcode\u003E — \u003Ccode\u003Esid\u003C\u002Fcode\u003E, не указан. Это частичное применение — у функции 3 параметра, а мы дали только 2, значит получилась функция от оставшегося одного параметра. То есть \u003Ccode\u003EsetActivityUrl\u003C\u002Fcode\u003E — функция не только от параметра \u003Ccode\u003Etext\u003C\u002Fcode\u003E (собственно новый статус), но и от второго параметра \u003Ccode\u003Esid\u003C\u002Fcode\u003E, который как бы дописывается справа.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕщё одна мелочь: в тексте твита будут пробелы, а это недопустимо для url-запроса. Поэтому мы сделаем простенькую функцию, заменяющую все пробелы, на %20:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E escSpaces \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E intercalate \u003Cfont color=\"#f10883\"\u003E\"%20\"\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E.\u003C\u002Fb\u003E\u003C\u002Ffont\u003E words\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nОна разбивает строку на список слов, вставляет между соседними элементами этого списка строку \"%20\", а потом склеивает всё снова в одну строку (последние два действия делает функция \u003Ccode\u003Eintercalate\u003C\u002Fcode\u003E).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь мы можем собрать из уже обсуждённых частей, функцию изменения статуса:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E setStatus \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E String \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E-\u003E\u003C\u002Fb\u003E\u003C\u002Ffont\u003E IO ()\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E setStatus text sid \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Edo\u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     (_,answer) \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E&lt;-\u003C\u002Fb\u003E\u003C\u002Ffont\u003E curlGetString url [] \u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eif\u003C\u002Fb\u003E\u003C\u002Ffont\u003E answer \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=~\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#f10883\"\u003E\"\u003C\u002Ffont\u003E\u003Cfont color=\"#6a59cc\"\u003E\\\"\u003C\u002Ffont\u003E\u003Cfont color=\"#f10883\"\u003Eok\u003C\u002Ffont\u003E\u003Cfont color=\"#6a59cc\"\u003E\\\"\u003C\u002Ffont\u003E\u003Cfont color=\"#f10883\"\u003E:1\"\u003C\u002Ffont\u003E   \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E::\u003C\u002Fb\u003E\u003C\u002Ffont\u003E Bool\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E        \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Ethen\u003C\u002Fb\u003E\u003C\u002Ffont\u003E putStrLn text\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E        \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Eelse\u003C\u002Fb\u003E\u003C\u002Ffont\u003E error \u003Cfont color=\"#f10883\"\u003E\"something is bad with vkontakte-api...\"\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     \u003Cfont color=\"#2e8b57\"\u003E\u003Cb\u003Ewhere\u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E         url \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E setActivityUrl (escSpaces text) sid\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nМожно было бы написать эту функцию и проще, в одну строку:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EsetStatus text sid = curlGetString (setActivityUrl (escSpaces text) sid) []\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо первый вариант нагляднее, там делается проверка ответа сервера — если ответ содержит \u003Ccode\u003E\"ok\":1\u003C\u002Fcode\u003E, то всё хорошо — статус сменился, о чём мы и сообщаем пользователю (себе то есть).\u003Cbr\u002F\u003E\r\nВсё! Теперь у нас есть все части мозаики и собрать её очень просто.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003Emain\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТо, ради чего было были написаны все эти функции:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E main \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E=\u003C\u002Fb\u003E\u003C\u002Ffont\u003E \u003Cfont color=\"#804040\"\u003E\u003Cb\u003Edo\u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     tweet \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E&lt;-\u003C\u002Fb\u003E\u003C\u002Ffont\u003E getTweet\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     sid   \u003Cfont color=\"#804040\"\u003E\u003Cb\u003E&lt;-\u003C\u002Fb\u003E\u003C\u002Ffont\u003E login\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000d4\"\u003E\u003E\u003C\u002Ffont\u003E     setStatus tweet sid\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\nВыглядит до крайности просто, не правда ли? Тут уж комментарии излишни.\u003Cbr\u002F\u003E\r\nДумаю, что и все остальные функции выглядят достаточно понятно с моими пояснениями.\u003Cbr\u002F\u003E\r\nСтатистики ради: ~40 LinesOfCode.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EЗаключение\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы запустить этот код, надо как уже говорилось, просто сохранить весь пост в файл с расширением .lhs и набрать в консоли:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Erunhaskell имя_файла.lhs\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВот и всё.\u003Cbr\u002F\u003E\r\nНе знаю, нужно ли продолжение, рассказывающее о том, как автоматизировать этот запуск.\u003Cbr\u002F\u003E\r\nЛично для себя я (как пользователь Mac OS X) решил это созданием «Службы» в Automator и назначением горячей клавиши, для её быстрого вызова — это только автоматизация запуска, но для меня этого достаточно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНадеюсь, это было кому-нибудь интересно читать. Жду Ваши вопросы\u002Fпредложения\u002Fвозражения (:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003Eupd:\u003C\u002Fb\u003E переместил в тематический блог.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"haskell"},{"titleHtml":"twitter"},{"titleHtml":"vkontakte"},{"titleHtml":"хаскель"},{"titleHtml":"твиттер"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F85894\u002Ffb4b0e69abc1367f2a0fbe6e1ab8da4b\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F85894\u002Ffb4b0e69abc1367f2a0fbe6e1ab8da4b\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F85894\\\u002F\"},\"headline\":\"репостинг Twitter (или rss) в статус vkontakte.ru на Haskell\",\"datePublished\":\"2010-03-01T14:39:13+03:00\",\"dateModified\":\"2010-03-12T00:02:02+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Алексей\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте. Задача довольно простая и совершенно неоригинальная. Началось в...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F85894\\\u002F#post-content-body\",\"about\":[\"h_haskell\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F85894\\\u002Ffb4b0e69abc1367f2a0fbe6e1ab8da4b\\\u002F\"]}","metaDescription":"В данной статье речь пойдёт о небольшой программке, которая репостит твиты в статус во вконтакте.\r\nЗадача довольно простая и совершенно неоригинальная. Началось всё с того, что я прочитал статью на...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"572164":{"id":"572164","timePublished":"2021-09-27T11:37:23+00:00","isCorporative":false,"lang":"ru","titleHtml":"Первые шаги в ОТО: прецессия орбиты Меркурия","editorVersion":"2.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"1832999","alias":"Yermack","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F690\u002F140\u002F823\u002F690140823f555d03574a59d46f648d24.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":4,"favoritesCount":34,"readingCount":4017,"score":19,"votesCount":19},"hubs":[{"relatedData":null,"id":"18840","alias":"julia","type":"collective","title":"Julia","titleHtml":"Julia","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21968","alias":"physics","type":"collective","title":"Физика","titleHtml":"Физика","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКогда речь заходит о теории относительности, частенько на ровном месте разрастаются споры, которые были занесены в почву непонимания и обильно удобрены мифами, недосказанностью и недостаточной математической подготовкой. Даже на лекциях от некоторых профессоров можно услышать, что детище гения Эйнштейна не имеет практической пользы, а на робкие попытки пролепетать что-то про спутниковые системы навигации они пренебрежительно отмахиваются, дескать, там все сложно и двояко. \u003C\u002Fp\u003E\u003Cp\u003EТак что совершенно естественно желание попробовать провести некоторые расчеты самолично, потрогать формулы, покрутить параметры, чтобы постепенно заложить интуицию в столь горячей теме.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"прецессия"},{"titleHtml":"меркурий"},{"titleHtml":"теория относительности"},{"titleHtml":"уравнения эйнштейна"},{"titleHtml":"метрики"},{"titleHtml":"спасибо scihub"},{"titleHtml":"спасибо mathpix"},{"titleHtml":"астрология_точная_наука"}]},"579370":{"id":"579370","timePublished":"2021-09-27T12:46:37+00:00","isCorporative":true,"lang":"ru","titleHtml":"WebAssembly в действии. Создание вашего первого модуля WebAssembly","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"224938","alias":"ph_piter","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3be\u002Fb11\u002F2b0\u002F3beb112b076924a916b27c845d88dcfa.jpg","speciality":""},"statistics":{"commentsCount":1,"favoritesCount":19,"readingCount":1511,"score":8,"votesCount":8},"hubs":[{"relatedData":null,"id":"17823","alias":"piter","type":"corporative","title":"Блог компании Издательский дом «Питер»","titleHtml":"Блог компании Издательский дом «Питер»","isProfiled":false},{"relatedData":null,"id":"22083","alias":"webassembly","type":"collective","title":"WebAssembly","titleHtml":"WebAssembly","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fpiter\u002Fblog\u002F579370\u002F\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F6r\u002Fkw\u002Fr1\u002F6rkwr16xmpxt2b1prdbnizbnjdo.jpeg\" align=\"left\" alt=\"image\"\u003E\u003C\u002Fa\u003E Привет, Хабр! Обращаем ваше внимание на одну новинку (сдана в типографию), доступную уже сейчас для покупки в \u003Ca href=\"https:\u002F\u002Fwww.piter.com\u002Fproduct\u002Fwebassembly-v-deystvii\" rel=\"nofollow noopener noreferrer\"\u003Eэлектронном виде\u003C\u002Fa\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКнига была написана, чтобы помочь вам понять, что такое WebAssembly, как он работает и что с ним можно и нельзя сделать. Она показывает разные варианты сборки модуля WebAssembly в зависимости от ваших потребностей. Мы начинаем с простых примеров и затем переходим к более сложным темам, например к динамическому связыванию, параллельной обработке и отладке.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКнига предназначена для разработчиков, имеющих базовое знание C и C++, JavaScript и HTML. По WebAssembly есть информация в Интернете, однако она частично устарела и обычно не очень подробна и не освещает сложные темы.. В этой книге информация подана в удобочитаемом формате, который поможет как начинающим, так и опытным разработчикам создавать модули WebAssembly и взаимодействовать с ними.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"предзаказ"}]},"579854":{"id":"579854","timePublished":"2021-09-27T06:03:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Видишь уязвимости? А они есть! Наше исследование популярных CMS-систем","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2684283","alias":"Solar_Pentest","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":27,"readingCount":4562,"score":27,"votesCount":29},"hubs":[{"relatedData":null,"id":"20826","alias":"solarsecurity","type":"corporative","title":"Блог компании Ростелеком-Солар","titleHtml":"Блог компании Ростелеком-Солар","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛьвиная доля всех работ по анализу защищенности внешнего периметра – это тестирование веб-приложений. Здесь могут быть как корпоративные решения, так и «домашние» разработки на базе различных публичных систем управления контентом (CMS). Мы всегда проводим глубокий анализ подобных решений на тестовых стендах и зачастую находим уязвимости нулевого дня. Собственно, из опыта таких проектов и родилась идея собрать исследовательскую команду и провести глубокий анализ популярных CMS-систем и различных плагинов для них. В этом посте мы поделимся результатами нашего исследования, а также продемонстрируем примеры уязвимого кода наиболее интересных, на наш взгляд, уязвимостей и примеры их эксплуатации. Конечно все эти уязвимости уже исправлены и описываются здесь с разрешения владельцев систем.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","buttonTextHtml":"Не всё то в безопасности, что с Bug Bounty","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"cms"},{"titleHtml":"уязвимости"},{"titleHtml":"уязвимости и их эксплуатация"},{"titleHtml":"уязвимость нулевого дня"}]},"579984":{"id":"579984","timePublished":"2021-09-27T15:37:51+00:00","isCorporative":true,"lang":"ru","titleHtml":"Добро пожаловать на хабрадегустацию","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2424555","alias":"anya_plotkina","fullname":"Аня Плоткина","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd4c\u002Ffcb\u002Fa37\u002Fd4cfcba3704ace3b85715c75b0db0d73.jpg","speciality":"DevRel"},"statistics":{"commentsCount":24,"favoritesCount":4,"readingCount":1062,"score":7,"votesCount":25},"hubs":[{"relatedData":null,"id":"17931","alias":"skillfactory","type":"corporative","title":"Блог компании SkillFactory","titleHtml":"Блог компании SkillFactory","isProfiled":false},{"relatedData":null,"id":"161","alias":"habr","type":"collective","title":"Habr","titleHtml":"Habr","isProfiled":false}],"flows":[{"id":"4","alias":"marketing","title":"Маркетинг"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр! Меня зовут Аня Плоткина, я занимаюсь Developer Relations в команде SkillFactory, развивая сообщество авторов и менторов, которые создают наш образовательный продукт. Это будет не совсем обычный пост, а скорее воззвание к хабрасообществу, так как я верю, что на Хабре собрались самые знающие люди в IT. Если коротко: мы хотим предоставить любому члену сообщества, который обладает экспертизой, продегустировать наше обучение. \u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff28\u002F73d\u002F875\u002Ff2873d87531005948f40169432f05ebb.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff28\u002F73d\u002F875\u002Ff2873d87531005948f40169432f05ebb.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"курсы"},{"titleHtml":"edtech"},{"titleHtml":"образование"},{"titleHtml":"образование онлайн"},{"titleHtml":"образовательные ресурсы"}]},"580008":{"id":"580008","timePublished":"2021-09-27T06:30:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Летний Магнитогорск","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2614609","alias":"city_scraper","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F8f8\u002Fd6c\u002F328\u002F8f8d6c328ec3a513103b6757c2c21610.png","speciality":"Пользователь"},"statistics":{"commentsCount":7,"favoritesCount":3,"readingCount":4286,"score":14,"votesCount":20},"hubs":[{"relatedData":null,"id":"22012","alias":"Ecology","type":"collective","title":"Экология","titleHtml":"Экология","isProfiled":false},{"relatedData":null,"id":"22024","alias":"urban","type":"collective","title":"Урбанизм","titleHtml":"Урбанизм","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EМагнитогорск Челябинской области – один из крупнейших мировых центров чёрной металлургии. В России это шестой из крупнейших городов, которые не являются центрами субъектов страны. \u003C\u002Fp\u003E\u003Cp\u003EСовсем недавно город был одним из наиболее неблагополучных с точки зрения загрязнения атмосферного воздуха, но в 2021 году был зафиксирован «повышенный» уровень – то есть не «высокий» или «очень высокий», как раньше. \u003C\u002Fp\u003E\u003Cp\u003EКак этот город выглядит летом? Где и как его жители могут проводить время?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Магнитогорск"},{"titleHtml":"промышленность"},{"titleHtml":"промышленные города"},{"titleHtml":"урбанизм\u002Fурбания"},{"titleHtml":"урбанистика"},{"titleHtml":"города России"},{"titleHtml":"города"}]},"580050":{"id":"580050","timePublished":"2021-09-27T10:23:25+00:00","isCorporative":false,"lang":"ru","titleHtml":"Один человек ответил на 85+ тысяч вопросов на Stack Overflow (24,1 ответа в день)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1585037","alias":"sahsAGU","fullname":"Александр Гуреев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F43c\u002F6c7\u002F0ab\u002F43c6c70ab024d45474e6abe8db797573.jpg","speciality":"Автор"},"statistics":{"commentsCount":36,"favoritesCount":10,"readingCount":12404,"score":11,"votesCount":21},"hubs":[{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"306","alias":"mysql","type":"collective","title":"MySQL","titleHtml":"MySQL","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"594","alias":"sql","type":"collective","title":"SQL","titleHtml":"SQL","isProfiled":true},{"relatedData":null,"id":"7152","alias":"data_mining","type":"collective","title":"Data Mining","titleHtml":"Data Mining","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cstrong\u003EВ среднем 24,1 ответа в день (если все 365 дней в году считать рабочими) на протяжении почти 10 лет.\u003C\u002Fstrong\u003E \u003C\u002Fp\u003E\u003Cp\u003EНесколько дней назад на некоторых англоязычных ресурсах началось обсуждение одного очень необычного пользователя Stack Overflow. Его зовут Гордон Линофф (Gordon Linoff), он из Нью-Йорка, и за 9 лет и 8 месяцев своего присутствия на платформе он дал 85,201 ответов на различные вопросы, в основном связанные с SQL и дата-майнингом (цифра актуальна на 27.09.2021). \u003C\u002Fp\u003E\u003Cp\u003EЧто это за маг?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"sql"},{"titleHtml":"mysql"},{"titleHtml":"stackoverflow"},{"titleHtml":"базы данных"},{"titleHtml":"дата майнинг"},{"titleHtml":"data mining"}]},"580060":{"id":"580060","timePublished":"2021-09-27T09:00:04+00:00","isCorporative":true,"lang":"ru","titleHtml":"Арракис, который мы заслужили","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"238277","alias":"Zelenyikot","fullname":"Виталий Егоров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F22b\u002F2d7\u002F7a5\u002F22b2d77a57b687aae24784a3e53089c9.jpg","speciality":"Популяризатор космонавтики"},"statistics":{"commentsCount":127,"favoritesCount":48,"readingCount":26726,"score":154,"votesCount":166},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false},{"relatedData":null,"id":"21984","alias":"sci-fi","type":"collective","title":"Научная фантастика","titleHtml":"Научная фантастика","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F580060\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk0\u002Fds\u002Fy5\u002Fk0dsy5npxclyjdytiroqga7-leu.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nВо вселенной писателя-фантаста Фрэнка Герберта, Дюна, она же Арракис &mdash; это пустынная и маловодная планета с двумя лунами. По сюжету, она находится за пределами Солнечной системы, но если мы захотим поискать ближайшую схожую параллель,&nbsp;то больше всего подходит планета Марс. Предлагаю воспользоваться возможностями, которые даёт современная космонавтика, и совершить воображаемую прогулку на нашу Дюну.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Марс"},{"titleHtml":"Дюна"},{"titleHtml":"MRO"},{"titleHtml":"Curiosity"},{"titleHtml":"марсоход"},{"titleHtml":"ruvds_статьи"}]},"580124":{"id":"580124","timePublished":"2021-09-27T13:03:14+00:00","isCorporative":true,"lang":"ru","titleHtml":"Электролюминесцентные индикаторы из прошлого","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"146371","alias":"radiolok","fullname":"Артем Кашканов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa46\u002Fc6a\u002F151\u002Fa46c6a15193f7c0cac79d2736b107358.jpg","speciality":"Релейно-декатронный маньяк"},"statistics":{"commentsCount":18,"favoritesCount":39,"readingCount":6689,"score":83,"votesCount":83},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false},{"relatedData":null,"id":"21930","alias":"antikvariat","type":"collective","title":"Старое железо","titleHtml":"Старое железо","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Сегодня речь пойдёт об электролюминесцентных индикаторах. Но, не о тех, которые окружают вас повсюду и к которым вы привыкли, а о других — получивших огромную популярность в 60-е годы прошлого века, и так же стремительно канувших в небытие. Заодно запущу свою коллекцию индикаторов, как серийно выпускавшихся, так и уникальных опытных и даже — лабораторных образцов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F523004\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F94e\u002F51f\u002F459\u002F94e51f459ae59c9d2fe6c448cb07bcca.gif\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Индикатор"},{"titleHtml":"электролюминесцентность"},{"titleHtml":"ruvds_статьи"}]},"580150":{"id":"580150","timePublished":"2021-09-27T10:50:03+00:00","isCorporative":true,"lang":"ru","titleHtml":"Топ-5 когнитивных искажений при планировании в IT","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2794469","alias":"KM_QA","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":67,"readingCount":8012,"score":42,"votesCount":44},"hubs":[{"relatedData":null,"id":"14332","alias":"oleg-bunin","type":"corporative","title":"Блог компании Конференции Олега Бунина (Онтико)","titleHtml":"Блог компании Конференции Олега Бунина (Онтико)","isProfiled":false},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true},{"relatedData":null,"id":"20754","alias":"tech_events","type":"collective","title":"Конференции","titleHtml":"Конференции","isProfiled":false},{"relatedData":null,"id":"21990","alias":"brain","type":"collective","title":"Мозг","titleHtml":"Мозг","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"4","alias":"marketing","title":"Маркетинг"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта статья подходит для тимлидов и их подопечных, а также для всех, кто оценивает проекты и задачи. Я расскажу, как и почему мы делаем ошибки из-за когнитивных искажений. Попадаем в них мы почти все, просто потому что мы живые люди. И на примере одного дня из жизни тимлида я хочу показать, в какие искажения чаще всего влетают в IT, и&nbsp; — самое полезное&nbsp; —&nbsp; как из них можно выходить.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EЗамечу, что искать когнитивные искажения стоит, в первую очередь, у себя, а не у коллег. \u003C\u002Fstrong\u003EИ что рассказывать про искажения намного проще, чем не влетать в их на практике, однако, если этому научиться, то в перспективе это изрядно окупается, потому что экономит и время, и деньги, помогая и нам, и команде.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"когнитивные искажения"},{"titleHtml":"нейрофизиология"},{"titleHtml":"мозг"},{"titleHtml":"психология"},{"titleHtml":"тимлидство"},{"titleHtml":"тимлид"},{"titleHtml":"управление людьми"},{"titleHtml":"управление проектами и командой"},{"titleHtml":"управление командой"},{"titleHtml":"управление персоналом"}]},"580164":{"id":"580164","timePublished":"2021-09-27T11:17:58+00:00","isCorporative":true,"lang":"ru","titleHtml":"Измеряем производительность String.format() в Java","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"@cowtowncoder","originalUrl":"https:\u002F\u002Fcowtowncoder.medium.com\u002Fmeasuring-performance-of-java-string-format-or-lack-thereof-2e1c6a13362c"}}],"author":{"id":"2571061","alias":"GolovinDS","fullname":"Дмитрий Головин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd27\u002Fccd\u002F743\u002Fd27ccd743d8bccbf1a885e5dadaa7ffe.jpg","speciality":"Контент-маркетолог"},"statistics":{"commentsCount":0,"favoritesCount":16,"readingCount":2111,"score":10,"votesCount":12},"hubs":[{"relatedData":null,"id":"21052","alias":"otus","type":"corporative","title":"Блог компании OTUS","titleHtml":"Блог компании OTUS","isProfiled":false},{"relatedData":null,"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true},{"relatedData":null,"id":"375","alias":"java","type":"collective","title":"Java","titleHtml":"Java","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЯ раньше считал, что JDK в целом хорошо оптимизирована, и если в JDK есть простой способ решения какой-то задачи, то он вполне подойдет для большинства ситуаций и будет работать хорошо.\u003C\u002Fp\u003E\u003Cp\u003EНо я обнаружил, что иногда некоторые классы или методы работают на удивление плохо. Знание таких аномалий полезно при работе с требовательным к производительности кодом.\u003C\u002Fp\u003E\u003Cp\u003EВ этом посте рассмотрим один из подобных кейсов: поразительно низкая производительность \u003Ccode\u003EString.format()\u003C\u002Fcode\u003E при простой конкатенации строк.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fed4\u002F612\u002F7ef\u002Fed46127ef6d1b8f8d650482dfd335220.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fed4\u002F612\u002F7ef\u002Fed46127ef6d1b8f8d650482dfd335220.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"java"},{"titleHtml":"performance"},{"titleHtml":"jdk"}]},"580166":{"id":"580166","timePublished":"2021-09-27T11:22:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"Новости из жизни Haiku за август-сентябрь 2021","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"375413","alias":"petr97","fullname":"Ахламов Петр","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fadf\u002F830\u002F79c\u002Fadf83079c33fd56935b929935559572a.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":3,"readingCount":2011,"score":8,"votesCount":8},"hubs":[{"relatedData":null,"id":"144","alias":"open_source","type":"collective","title":"Open source","titleHtml":"Open source","isProfiled":true},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"7330","alias":"qt_software","type":"collective","title":"Qt","titleHtml":"Qt","isProfiled":true},{"relatedData":null,"id":"21918","alias":"soft","type":"collective","title":"Софт","titleHtml":"Софт","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЗдравствуйте, дорогие друзья. Продолжаю Вас знакомить на Хабре с новостями проекта Haiku.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F877\u002Fa0f\u002Fc9c\u002F877a0fc9c92663d8cd2acc965493dacc.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F877\u002Fa0f\u002Fc9c\u002F877a0fc9c92663d8cd2acc965493dacc.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Haiku"},{"titleHtml":"Intel"},{"titleHtml":"VESA"},{"titleHtml":"RISC-V"},{"titleHtml":"Веб-камера"},{"titleHtml":"Превью"},{"titleHtml":"Куба"},{"titleHtml":"Wine"},{"titleHtml":"Менеджер окон"}]},"580172":{"id":"580172","timePublished":"2021-09-27T11:45:49+00:00","isCorporative":true,"lang":"ru","titleHtml":"Небинарный ngIf*","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1050218","alias":"Waterplea","fullname":"Александр Инкин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa70\u002F569\u002Ff31\u002Fa70569f31346559ce2b8b875e7f97480.jpg","speciality":"Google Developer Expert | Angular"},"statistics":{"commentsCount":1,"favoritesCount":17,"readingCount":1095,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"17420","alias":"tinkoff","type":"corporative","title":"Блог компании TINKOFF","titleHtml":"Блог компании TINKOFF","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"18109","alias":"angular","type":"collective","title":"Angular","titleHtml":"Angular","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВам когда-нибудь хотелось отобразить состояние загрузки, пока \u003Ccode\u003EngIf\u003C\u002Fcode\u003E ждет ответа от \u003Ccode\u003Easync\u003C\u002Fcode\u003E-пайпа? Или, может, вы мечтали передать в \u003Ccode\u003EngFor\u003C\u002Fcode\u003E шаблон для пустого массива? Возможно, вы бросили это, потому что вам не хотелось реализовывать базовую логику этих директив самому. На самом деле в этом нет нужды! Один и тот же селектор может подцепить несколько директив, что позволяет расширить функциональность встроенных директив дополнительной логикой.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"template"},{"titleHtml":"directive"},{"titleHtml":"angular"},{"titleHtml":"structural"}]},"580194":{"id":"580194","timePublished":"2021-09-27T12:36:12+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сотрудники на карте: отвечаем на 10 важных вопросов о трекинге","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1254716","alias":"Axelus","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F118\u002Fc4f\u002F08f\u002F118c4f08ffa66438ad6be22e205d563d.png","speciality":"Разработчик"},"statistics":{"commentsCount":0,"favoritesCount":10,"readingCount":1364,"score":13,"votesCount":15},"hubs":[{"relatedData":null,"id":"20758","alias":"regionsoft","type":"corporative","title":"Блог компании RegionSoft","titleHtml":"Блог компании RegionSoft","isProfiled":false},{"relatedData":null,"id":"6398","alias":"it-infrastructure","type":"collective","title":"IT-инфраструктура","titleHtml":"IT-инфраструктура","isProfiled":true},{"relatedData":null,"id":"12365","alias":"saas","type":"collective","title":"SaaS \u002F S+S","titleHtml":"SaaS \u002F S+S","isProfiled":true},{"relatedData":null,"id":"17783","alias":"geo","type":"collective","title":"Геоинформационные сервисы","titleHtml":"Геоинформационные сервисы","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛюбой контроль сотрудников — опасный и болезненный вопрос, особенно в небольших компаниях. Часто в дружеские и открытые отношения компании не вписывается ни одна из форм контроля, рассчитывать можно только на доверие. Но пресловутый ковид и здесь внёс свои коррективы: расширение удалённой работы, увеличение штата мобильных сотрудников, частичная занятость пополнили ряды полевых сисадминов, аутсорсеров поддержки и остальных «разъездных» работников. Увы, люди разные и вслед за приятными плодами и бонусами удалёнки пришли негативные истории про поведение курьеров, опоздания и откровенные нарушения сотрудников на территории клиентов, неявки на работу или к заказчику и т.д. С этим столкнулись и ритейл, и ИТ, и любая сфера с мобильными сотрудниками. Очень хочется верить в лучшее, но без минимального контроля можно просто потерять бизнес — и тогда пострадают коллеги нерадивых сотрудников.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"geomonitor"},{"titleHtml":"геолокация"},{"titleHtml":"геозона"},{"titleHtml":"трекинг"}]},"580196":{"id":"580196","timePublished":"2021-09-27T12:28:15+00:00","isCorporative":true,"lang":"ru","titleHtml":"Зачем нужен динамический анализ кода, на примере проекта PVS-Studio","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2302295","alias":"MrROBUST","fullname":"Алексей Говоров","avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":6,"readingCount":847,"score":8,"votesCount":10},"hubs":[{"relatedData":null,"id":"18095","alias":"pvs-studio","type":"corporative","title":"Блог компании PVS-Studio","titleHtml":"Блог компании PVS-Studio","isProfiled":false},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"11606","alias":"vs","type":"collective","title":"Visual Studio","titleHtml":"Visual Studio","isProfiled":true},{"relatedData":null,"id":"21456","alias":"win_dev","type":"collective","title":"Разработка под Windows","titleHtml":"Разработка под Windows","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ разговоре с Маршаллом Клоу на подкасте CppCast #300 ABI Stability была затронута достаточно давняя новость о поддержке компиляторами Visual Studio инструмента AddressSanitizer (ASan). Мы уже достаточно давно внедрили ASan в свою систему тестирования и хотим рассказать о паре интересных ошибок, которые он помог найти.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F7ef\u002F2db\u002F210\u002F7ef2db210d677f9a8c07026d4361d3ba.png\" alt=\"0868_PVS-Studio_ASan_ru\u002Fimage2.png\"\u003E\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"pvs-studio"},{"titleHtml":"clang"},{"titleHtml":"asan"},{"titleHtml":"sanitizer"},{"titleHtml":"динамический анализ кода"}]},"580204":{"id":"580204","timePublished":"2021-09-27T12:31:54+00:00","isCorporative":false,"lang":"ru","titleHtml":"Почему using namespace std; это плохо","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"sbi, Greg Hewgill","originalUrl":"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F1452721\u002Fwhy-is-using-namespace-std-considered-bad-practice"}}],"author":{"id":"936030","alias":"F0iL","fullname":"K. just K.","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fbcd\u002F9c7\u002F270\u002Fbcd9c7270c0727e164ac404a7f929971.jpg","speciality":"Разработчик"},"statistics":{"commentsCount":16,"favoritesCount":18,"readingCount":7237,"score":16,"votesCount":26},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"524","alias":"complete_code","type":"collective","title":"Совершенный код","titleHtml":"Совершенный код","isProfiled":true},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"17188","alias":"compilers","type":"collective","title":"Компиляторы","titleHtml":"Компиляторы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EТо, что написано ниже, для многих квалифицированных C++ разработчиков будет прекрасно известной и очевидной вещью, но тем не менее, я периодически встречаю using namespace std; в коде различных проектов, а недавно в \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\" rel=\"noopener noreferrer nofollow\"\u003Eнашумевшей статье про впечатления от высшего образования\u003C\u002Fa\u003E было упомянуто, что студентов так учат писать код в вузах, поэтому давайте повторим очевидное еще раз.\u003C\u002Fp\u003E\u003Cp\u003EИтак... многие слышали, что \u003Cstrong\u003Eusing namespace std;\u003C\u002Fstrong\u003E в C++ считается плохой практикой. Касательно недопустимости использования using namespace в header-файлах вопросов обычно не возникает, если мы хоть немного понимаем, как работает препроцессор компилятора: .hpp-файлы при использовании директивы #include вставляются в код \"как есть\", и соответственно using автоматически распространится на все затронутые  .hpp- и .cpp-файлы, если файл с ним был заинклюден хоть в одном звене цепочки (на одном из сайтов это метко обозвали как \"заболевание, передающеемя половым путем\"). Но вот про .cpp-файлы все не так очевидно, так что давайте еще раз разберем, что же именно здесь не так.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F662\u002F8a9\u002Fe33\u002F6628a9e3322ab1dbca4e4976098da83d.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F662\u002F8a9\u002Fe33\u002F6628a9e3322ab1dbca4e4976098da83d.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"с++"},{"titleHtml":"namespace"},{"titleHtml":"namespaces"},{"titleHtml":"best practices"},{"titleHtml":"антипаттерны"}]},"580206":{"id":"580206","timePublished":"2021-09-27T12:51:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"МТС отказался от скрытых мобильных подписок?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2467147","alias":"Plusodin","fullname":"Владимир","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F343\u002Fb77\u002Fd12\u002F343b77d12f047368849a9880276f936e.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":13,"favoritesCount":5,"readingCount":6807,"score":17,"votesCount":19},"hubs":[{"relatedData":null,"id":"22008","alias":"cellular","type":"collective","title":"Сотовая связь","titleHtml":"Сотовая связь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр!\u003C\u002Fp\u003E\u003Cp\u003EНу что, подходит к концу первый сезон сериала «О скрытых мобильных подписках и операторах связи». Предыдущие три серии: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F550448\u002F\" rel=\"noopener noreferrer nofollow\"\u003EМегафон\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F563260\u002F\" rel=\"noopener noreferrer nofollow\"\u003EБилайн\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F571256\u002F\" rel=\"noopener noreferrer nofollow\"\u003ETele2\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНу и вишенка на этом торте – МТС.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"мтс"},{"titleHtml":"мобильные подписки"},{"titleHtml":"подписки"},{"titleHtml":"оператор связи"},{"titleHtml":"теле2"},{"titleHtml":"мегафон"},{"titleHtml":"билайн"}]},"580210":{"id":"580210","timePublished":"2021-09-27T12:53:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"PHP Дайджест № 212 (13 – 27 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"100489","alias":"pronskiy","fullname":"Роман Пронский","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F27f\u002Fb99\u002Feb3\u002F27fb99eb3e30e3221c5839e88be02395.jpg","speciality":"PHP"},"statistics":{"commentsCount":1,"favoritesCount":16,"readingCount":4427,"score":43,"votesCount":43},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"477","alias":"symfony","type":"collective","title":"Symfony","titleHtml":"Symfony","isProfiled":true},{"relatedData":null,"id":"9554","alias":"yii","type":"collective","title":"Yii","titleHtml":"Yii","isProfiled":true},{"relatedData":null,"id":"18812","alias":"laravel","type":"collective","title":"Laravel","titleHtml":"Laravel","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fek\u002F6r\u002Fr1\u002Fek6rr1odvyzb89tfv0lq4cmfxi4.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПодборка свежих новостей и материалов из мира PHP.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВышел PHP 8.1 RC2 и уже доступен первый пакет с использованием перечислений, будет сделан форк Magento, новый тип стандартов PER в дополнение к PSR, стартовала PhpStorm 2021.3 EAP, Symfony 6 будет полностью типизирован — как обновляться?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля PHP 8.2 предложены новые оптимизированные структуры данных.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже в выпуске порция инструментов, полезные статьи, видео и анонсы двух митапов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПриятного чтения!\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"php-дайджест"},{"titleHtml":"PHP"},{"titleHtml":"Symfony"},{"titleHtml":"Laravel"},{"titleHtml":"Magento"},{"titleHtml":"PHPUnit"},{"titleHtml":"PHP 8.1"},{"titleHtml":"PHP 8.2"}]},"580228":{"id":"580228","timePublished":"2021-09-27T16:41:21+00:00","isCorporative":true,"lang":"ru","titleHtml":"Идеальная светодиодная лампа за 21 рубль","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"108988","alias":"AlexeyNadezhin","fullname":"Алексей Надежин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffdc\u002F3ac\u002F9a2\u002Ffdc3ac9a2dc0107cc956f1bd0cf5fc2b.jpg","speciality":"Блогер"},"statistics":{"commentsCount":40,"favoritesCount":74,"readingCount":19403,"score":95,"votesCount":99},"hubs":[{"relatedData":null,"id":"21646","alias":"lamptest","type":"corporative","title":"Блог компании LampTest","titleHtml":"Блог компании LampTest","isProfiled":false},{"relatedData":null,"id":"21894","alias":"gadgets","type":"collective","title":"Гаджеты","titleHtml":"Гаджеты","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Удивительно осознавать, что достаточно сложное электронное устройство, которым является светодиодная лампочка, может стоить 21 рубль. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕщё сложнее поверить, что эта лампочка безукоризненна по всем параметрам.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F20f\u002F849\u002Ffcd\u002F20f849fcd6a3891f506676fc87223bdf.jpg\"\u003E\u003C\u002Fdiv\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"led"},{"titleHtml":"светодиодные лампы"},{"titleHtml":"тест"}]},"580304":{"id":"580304","timePublished":"2021-09-27T18:31:25+00:00","isCorporative":true,"lang":"ru","titleHtml":"Как сделать 248MP фотографию Солнца","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Simon Tang","originalUrl":"https:\u002F\u002Fpetapixel.com\u002F2021\u002F09\u002F15\u002Fa-closer-look-how-i-created-a-248mp-photo-of-the-sun\u002F"}}],"author":{"id":"2192534","alias":"Itelma","fullname":"T-800","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fc3a\u002Fd1e\u002F43d\u002Fc3ad1e43d500046c3228c9494b510912.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":9,"favoritesCount":9,"readingCount":2488,"score":14,"votesCount":14},"hubs":[{"relatedData":null,"id":"22356","alias":"itelma","type":"corporative","title":"Блог компании НПП ИТЭЛМА","titleHtml":"Блог компании НПП ИТЭЛМА","isProfiled":false},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21932","alias":"photo","type":"collective","title":"Фототехника","titleHtml":"Фототехника","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe02\u002F643\u002Fa55\u002Fe02643a550e20aa10c366e20956e4b40.jpg\" alt=\"image\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EЭто изображение диска нашего Солнца создано с помощью большого рефракторного (линзового) телескопа и высокоскоростной монохромной CMOS-камеры.\u003C\u002Fi\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКаждый день над нашими головами висит большой шар света. Он там всегда, и никто не обращает на него внимания. Разумеется, мы не советуем вам долго смотреть на него и при этом ослепнуть, тем не менее, наука дала нам возможность смотреть прямо на солнце совершенно безопасно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоскольку техника стала более доступной, обычный человек может заглянуть в многочисленные слои Солнца с помощью специального оборудования, которое может купить в любом хорошем магазине телескопов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этой статье мы подробно рассмотрим слой, известный как хромосфера: область Солнца, видимая в оранжево-красном спектре. При помощи специального фильтра это устройство блокирует весь нежелательный свет, пропуская при этом определенный диапазон частот, который нас интересует.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"обработка изображений"},{"titleHtml":"фототехника"}]},"580336":{"id":"580336","timePublished":"2021-09-28T05:40:43+00:00","isCorporative":false,"lang":"ru","titleHtml":"DOM, который построил Chrome. Или не построил? Или не Chrome? Или не DOM?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2671923","alias":"Maxim_from_HW","fullname":"Максим","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F33e\u002F1a0\u002F5ba\u002F33e1a05ba0d2d651cc292ce76ad45ee1.png","speciality":"CEO"},"statistics":{"commentsCount":2,"favoritesCount":9,"readingCount":954,"score":7,"votesCount":7},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"524","alias":"complete_code","type":"collective","title":"Совершенный код","titleHtml":"Совершенный код","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EОбычный, теневой, виртуальный, инкрементальный… Как получилось, что простой программный интерфейс доступа к элементам веб-страниц обзавелся таким количеством «родственников»? Чем современные фреймворки не устраивает стандартная объектная модель документа или просто DOM? Что и как на самом деле отрисовывает браузер в процессе рендера веб-страницы?\u003C\u002Fp\u003E\u003Cp\u003EВсем привет, это \u003Ca href=\"https:\u002F\u002Fwww.facebook.com\u002Fmy.kravets\" rel=\"noopener noreferrer nofollow\"\u003EМакс Кравец\u003C\u002Fa\u003E из Holyweb. Помните сцену из Матрицы, в которой один из юных кандидатов в Избранные наставляет Нео: «Не пытайся согнуть ложку. Первое, что ты должен понять — ложки не существует!»? Давайте переформулирую: «Не пытайся изменить DOM...». А вот о том, что прячется под многоточием, мы сегодня и поговорим.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5c9\u002F1cb\u002Fe9b\u002F5c91cbe9b4674ea479fed0a55f81fb7c.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5c9\u002F1cb\u002Fe9b\u002F5c91cbe9b4674ea479fed0a55f81fb7c.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"dom"},{"titleHtml":"google chrome"},{"titleHtml":"javascript"},{"titleHtml":"css"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["580060","580228","580124","580210","580150","579854","572164","580206","580172","580204","580304","580008","580194","580050","580164","579370","580196","580166","580336","579984"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":3},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["133009","132679","131998"],"similarListRefs":{"131998":{"id":"131998","timePublished":"2011-11-11T04:19:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Введение в Template Haskell. Часть 1. Необходимый минимум","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Булат Зиганшин","originalUrl":"http:\u002F\u002Fdocs.google.com\u002Fuc?id=0B4BgTwf_ng_TM2MxZjJjZjctMTQ0OS00YzcwLWE5N2QtMDI0YzE4NGUwZDM3"}}],"author":{"id":"54319","alias":"laughedelic","fullname":"Алексей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd60\u002F029\u002F6a4\u002Fd600296a4e51746b1a639f18da0e65cd.jpg","speciality":"Программист"},"statistics":{"commentsCount":7,"favoritesCount":47,"readingCount":7475,"score":19,"votesCount":19},"hubs":[{"id":"8424","alias":"haskell","type":"collective","title":"Haskell","titleHtml":"Haskell","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Ci\u003EДанный текст является переводом \u003Ca href=\"http:\u002F\u002Fdocs.google.com\u002Fuc?id=0B4BgTwf_ng_TM2MxZjJjZjctMTQ0OS00YzcwLWE5N2QtMDI0YzE4NGUwZDM3\"\u003Eдокументации Template Haskell\u003C\u002Fa\u003E, написанной Булатом Зиганшиным. Перевод всего текста разбит на несколько логических частей для облегчения восприятия. Далее курсив в тексте — примечания переводчика.\u003C\u002Fi\u003E\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fhaskellwiki\u002FTemplate_Haskell\"\u003ETemplate Haskell\u003C\u002Fa\u003E (далее TH) — это расширение языка Haskell предназначенное для мета-программирования. Оно даёт возможность алгоритмического построения программы на стадии компиляции. Это позволяет разработчику использовать различные техники программирования, не доступные в самом Haskell’е, такие как, макро-подобные расширения, направляемые пользователем оптимизации (например inlining), обобщённое программирование (polytypic programming), генерация вспомогательных структур данных и функций из имеющихся. К примеру, код\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"bash\"\u003Eyell file line = fail ($(printf \"Error in file %s line %d\") file line)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u003E\r\nможет быть преобразован с помощью TH в\u003Cpre\u003E\u003Ccode class=\"bash\"\u003Eyell file line = fail ((\\x1 x2 -&gt; \"Error in file \"++x1++\" line \"++show x2) file line)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u003E\r\nДругой пример, код\u003Cbr\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E\ndata T = A Int String | B Integer | C\n$(deriveShow ''T)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u003E\r\nможет быть преобразован в\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E\ndata T = A Int String | B Integer | C\ninstance Show T\n    show (A x1 x2) = \"A \"++show x1++\" \"++show x2\n    show (B x1)    = \"B \"++show x1\n    show C         = \"C\"\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u003E\r\nВ TH код на Haskell’е генерируется обычными Haskell’евскими функциями \u003Ci\u003E(которые я буду для ясности называть шаблонами)\u003C\u002Fi\u003E. Минимум того, что вам необходимо знать, чтобы использовать TH — это следующие темы:\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EКак Haskell-код представляется в шаблонах (TH-функциях)\u003C\u002Fli\u003E\r\n\u003Cli\u003EКак монада цитирования используется для унификации имён\u003C\u002Fli\u003E\r\n\u003Cli\u003EКак сгенерированный TH-код вставляется в программу\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"status":"published","plannedPublishTime":null,"checked":null},"132679":{"id":"132679","timePublished":"2011-11-15T21:20:19+00:00","isCorporative":false,"lang":"ru","titleHtml":"Введение в Template Haskell. Часть 2. Инструменты цитирования кода","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Булат Зиганшин","originalUrl":"http:\u002F\u002Fdocs.google.com\u002Fuc?id=0B4BgTwf_ng_TM2MxZjJjZjctMTQ0OS00YzcwLWE5N2QtMDI0YzE4NGUwZDM3"}}],"author":{"id":"54319","alias":"laughedelic","fullname":"Алексей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd60\u002F029\u002F6a4\u002Fd600296a4e51746b1a639f18da0e65cd.jpg","speciality":"Программист"},"statistics":{"commentsCount":2,"favoritesCount":31,"readingCount":2582,"score":17,"votesCount":17},"hubs":[{"id":"8424","alias":"haskell","type":"collective","title":"Haskell","titleHtml":"Haskell","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ci\u003EДанный текст является переводом \u003Ca href=\"http:\u002F\u002Fdocs.google.com\u002Fuc?id=0B4BgTwf_ng_TM2MxZjJjZjctMTQ0OS00YzcwLWE5N2QtMDI0YzE4NGUwZDM3\"\u003Eдокументации Template Haskell\u003C\u002Fa\u003E, написанной Булатом Зиганшиным. Перевод всего текста разбит на несколько логических частей для облегчения восприятия. Далее курсив в тексте — примечания переводчика. Другие части:\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002FHaskell\u002F131998\u002F\"\u003EЧасть 1. Необходимый минимум\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002FHaskell\u002F133009\u002F\"\u003EЧасть 3. Прочие аспекты TH\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EМонада цитирования\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПоскольку шаблоны должны возвращать свои значения обёрнутыми в монаду \u003Ccode\u003EQ\u003C\u002Fcode\u003E, для этого имеется набор вспомогательных функций, которые “поднимают” (оборачивают в \u003Ccode\u003EQ\u003C\u002Fcode\u003E) конструкторы типов \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#t:Exp\"\u003E\u003Ccode\u003EExp\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#t:Lit\"\u003E\u003Ccode\u003ELit\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#t:Pat\"\u003E\u003Ccode\u003EPat\u003C\u002Fcode\u003E\u003C\u002Fa\u003E: \u003Ccode\u003ElamE\u003C\u002Fcode\u003E (соотв. \u003Ccode\u003ELamE\u003C\u002Fcode\u003E), \u003Ccode\u003EvarE\u003C\u002Fcode\u003E, \u003Ccode\u003EappE\u003C\u002Fcode\u003E, \u003Ccode\u003EvarP\u003C\u002Fcode\u003E и т.д. В их сигнатурах так же используются переобозначенные поднятые типы: \u003Ccode\u003EExpQ = Q Exp\u003C\u002Fcode\u003E, \u003Ccode\u003ELitQ = Q Lit\u003C\u002Fcode\u003E, \u003Ccode\u003EPatQ = Q Pat\u003C\u002Fcode\u003E… (все их можно найти в модуле \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Lib.html\"\u003E\u003Ccode\u003ELanguage.Haskell.TH.Lib\u003C\u002Fcode\u003E\u003C\u002Fa\u003E). Используя эти функции, можно значительно сократить код, реже используя do-синтаксис.\u003Cbr\u002F\u003E\r\nВ TH также есть функция \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#v:lift\"\u003E\u003Ccode\u003Elift\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, которая поднимает до \u003Ccode\u003EQ Exp\u003C\u002Fcode\u003E значение любого типа из класса \u003Ccode\u003ELift\u003C\u002Fcode\u003E.\u003Cbr\u002F\u003E\r\nВ некоторых редких случаях, вам может понадобиться не генерация уникального имени, а использование точного имени идентификатора из внешнего \u003Ci\u003E(по отношению к шаблону)\u003C\u002Fi\u003E кода. Для этих целей есть (чистая) функция \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#v:mkName\"\u003E\u003Ccode\u003EmkName\u003C\u002Fcode\u003E\u003C\u002Fa\u003E \u003Ccode\u003E∷ String → Name\u003C\u002Fcode\u003E. Есть также вспомогательная функция \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Lib.html#v:dyn\"\u003E\u003Ccode\u003Edyn\u003C\u002Fcode\u003E\u003C\u002Fa\u003E \u003Ccode\u003Es = return (VarE (mkName s))\u003C\u002Fcode\u003E, которая возвращает значение \u003Ccode\u003EExp\u003C\u002Fcode\u003E представляющее переменную с данным именем (\u003Ccode\u003Edyn ∷ String → Q Exp\u003C\u002Fcode\u003E).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EЦитирующие скобки\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПостроение значений \u003Ccode\u003EExp\u003C\u002Fcode\u003E, представляющих абстрактное синтаксическое дерево — трудоёмкая и скучная работа. Но к счастью, в Template Haskell есть цитирующие скобки, которые преобразуют конкретный Haskell-код в структуру, представляющую его. ","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"133009":{"id":"133009","timePublished":"2011-11-21T09:07:54+00:00","isCorporative":false,"lang":"ru","titleHtml":"Введение в Template Haskell. Часть 3. Прочие аспекты TH","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Булат Зиганшин","originalUrl":"http:\u002F\u002Fdocs.google.com\u002Fuc?id=0B4BgTwf_ng_TM2MxZjJjZjctMTQ0OS00YzcwLWE5N2QtMDI0YzE4NGUwZDM3"}}],"author":{"id":"54319","alias":"laughedelic","fullname":"Алексей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd60\u002F029\u002F6a4\u002Fd600296a4e51746b1a639f18da0e65cd.jpg","speciality":"Программист"},"statistics":{"commentsCount":1,"favoritesCount":27,"readingCount":2065,"score":11,"votesCount":15},"hubs":[{"id":"8424","alias":"haskell","type":"collective","title":"Haskell","titleHtml":"Haskell","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ci\u003EДанный текст является переводом \u003Ca href=\"http:\u002F\u002Fdocs.google.com\u002Fuc?id=0B4BgTwf_ng_TM2MxZjJjZjctMTQ0OS00YzcwLWE5N2QtMDI0YzE4NGUwZDM3\"\u003Eдокументации Template Haskell\u003C\u002Fa\u003E, написанной Булатом Зиганшиным. Перевод всего текста разбит на несколько логических частей для облегчения восприятия. Далее курсив в тексте — примечания переводчика. Предыдущие части:\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002FHaskell\u002F131998\u002F\"\u003EЧасть 1. Необходимый минимум\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fblogs\u002FHaskell\u002F132679\u002F\"\u003EЧасть 2. Инструменты цитирования кода\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EМатериализация\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nМатериализация (reification) — это средство Template Haskell, позволяющее программисту получить информацию из таблицы символов компилятора. Монадическая функция \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#v:reify\"\u003E\u003Ccode\u003Ereify\u003C\u002Fcode\u003E\u003C\u002Fa\u003E \u003Ccode\u003E∷ Name → Q Info\u003C\u002Fcode\u003E возвращает информацию о данном имени: если это глобальный идентификатор (функция, константа, конструктор) – вы получите его тип, если это тип или класс – вы получите его структуру. Определение типа \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#t:Info\"\u003E\u003Ccode\u003EInfo\u003C\u002Fcode\u003E\u003C\u002Fa\u003E можно найти в модуле \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html\"\u003E\u003Ccode\u003ELanguage.Haskell.TH.Syntax\u003C\u002Fcode\u003E\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\nМатериализация может быть использована для того, чтобы получить структуру типа, но таким образом нельзя получить тело функции. Если вам нужно материализовать тело функции, то определение функции нужно процитировать и дальше можно будет работать с этим определением с помощью другого шаблона. Например так:\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode\u003E$(optimize [d| fib = … |])\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nили так\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode\u003Efib = $(optimize [| … |])\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EНа самом деле, в оригинальной статье больше ничего не говорится про материализацию. Не знаю, насколько это содержательная тема – необходимый минимум знаний о ней ограничивается функцией \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#v:reify\"\u003E\u003Ccode\u003Ereify\u003C\u002Fcode\u003E\u003C\u002Fa\u003E и типом \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#t:Info\"\u003E\u003Ccode\u003EInfo\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, но есть некоторые тонкости, связанные например с тем, что можно получить информацию не о любом имени. Если эта тема интересна, я могу собрать какую-нибудь информацию и написать об этом отдельную заметку (или вклеить сюда).\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EОблегчённое цитирование имён\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЧтобы получить имя (\u003Ccode\u003E∷ Name\u003C\u002Fcode\u003E), соответствующее интересующему идентификатору, можно использовать функцию \u003Ca href=\"http:\u002F\u002Fwww.haskell.org\u002Fghc\u002Fdocs\u002Flatest\u002Fhtml\u002Flibraries\u002Ftemplate-haskell-2.6.0.0\u002FLanguage-Haskell-TH-Syntax.html#v:mkName\"\u003E\u003Ccode\u003EmkName\u003C\u002Fcode\u003E\u003C\u002Fa\u003E, но это не безопасное решение, потому что \u003Ccode\u003EmkName\u003C\u002Fcode\u003E возвращает не квалифицированное имя, которое может интерпретироваться по-разному в зависимости от контекста. А вот код \u003Ccode\u003EVarE id ← [| foo |]\u003C\u002Fcode\u003E безопасен в этом смысле, так как цитирование квалифицирует имена (получится что-то типа \u003Ccode\u003EMy.Own.Module.foo\u003C\u002Fcode\u003E), но этот код слишком многословный и требует монадический контекст для использования. К счастью, Template Haskell, имеет другую простую форму цитирования имён: \u003Ccode\u003E'foo\u003C\u002Fcode\u003E (одинарная кавычка перед \u003Ccode\u003Efoo\u003C\u002Fcode\u003E) имеет тип \u003Ccode\u003EName\u003C\u002Fcode\u003E и содержит квалифицированное имя, соответствующее идентификатору \u003Ccode\u003Efoo\u003C\u002Fcode\u003E, так что код \u003Ccode\u003Elet id = 'foo\u003C\u002Fcode\u003E эквивалентен по смыслу коду \u003Ccode\u003EVarE id ← [| foo |]\u003C\u002Fcode\u003E. Обратите внимание, что эта конструкция имеет простой тип \u003Ccode\u003EName\u003C\u002Fcode\u003E (а не \u003Ccode\u003EQ Exp\u003C\u002Fcode\u003E или \u003Ccode\u003EQ Name\u003C\u002Fcode\u003E), так что она может быть использована там, где не возможно использование монад, например:\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode\u003Ef ∷ Exp → Exp\nf (App (Var m) e) |  m == 'map  =  …\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЭта новая форма тем не менее является цитированием и подчиняется тем же правилам, что и цитирующие скобки \u003Ccode\u003E[| … |]\u003C\u002Fcode\u003E. Например, она не может быть использована внутри этих скобок (так нельзя: \u003Ccode\u003E[| 'foo |]\u003C\u002Fcode\u003E), \u003Ci\u003Eно и вклеивание к ней не может быть применено (так тоже нельзя: \u003Ccode\u003E$( 'foo )\u003C\u002Fcode\u003E), потому что для вклейки нужен тип \u003Ccode\u003EQ …\u003C\u002Fcode\u003E\u003C\u002Fi\u003E. Более важно то, что эта форма определяется статически, возвращая полностью квалифицированное имя, с однозначной интерпретацией.\u003Cbr\u002F\u003E\r\nHaskell’евские пространства имён немного всё усложняют. Цитата \u003Ccode\u003E[| P |]\u003C\u002Fcode\u003E означает конструктор данных \u003Ccode\u003EP\u003C\u002Fcode\u003E, в то время как \u003Ccode\u003E[t| P |]\u003C\u002Fcode\u003E означает конструктор типа \u003Ccode\u003EP\u003C\u002Fcode\u003E. Поэтому для “облегчённого цитирования” необходим такой же способ разделения этих сущностей. Для контекста типов используется просто две одинарные кавычки:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ccode\u003E'Foo\u003C\u002Fcode\u003E означает “конструктор данных \u003Ccode\u003EFoo\u003C\u002Fcode\u003E в контексте выражения”\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ccode\u003E'foo\u003C\u002Fcode\u003E означает “имя \u003Ccode\u003Efoo\u003C\u002Fcode\u003E в контексте выражения”\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ccode\u003E''Foo\u003C\u002Fcode\u003E означает “конструктор типа \u003Ccode\u003EFoo\u003C\u002Fcode\u003E в контексте типов”\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ccode\u003E''foo\u003C\u002Fcode\u003E означает “переменная типа \u003Ccode\u003Efoo\u003C\u002Fcode\u003E в контексте типов”\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E Облегчённая форма цитирования используется в примере генерации воплощений класса \u003Ccode\u003EShow\u003C\u002Fcode\u003E, который разбирается в конце.\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"laughedelic":{"scoreStats":{"score":40,"votesCount":42},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"54319","alias":"laughedelic","fullname":"Алексей","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd60\u002F029\u002F6a4\u002Fd600296a4e51746b1a639f18da0e65cd.jpg","speciality":"Программист"}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
