<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>MVC 2: Полное руководство по локализации / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/86331\/"},"headline":"MVC 2: Полное руководство по локализации","datePublished":"2010-03-04T15:14:08+03:00","dateModified":"2010-03-04T15:52:29+03:00","author":{"@type":"Person","name":"Евгений"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время напис...","url":"https:\/\/habr.com\/ru\/post\/86331\/#post-content-body","about":["h_asp","f_develop"],"image":["http:\/\/img695.imageshack.us\/img695\/3133\/aspnetmvc2.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/1b4\/3d2\/885\/1b43d2885ef68a1c78951f21fbdaf3c8.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/975\/82f\/4ff\/97582f4ff2c7ffe8c030285004aa2ced.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/81a\/343\/b7e\/81a343b7e3e54cbb7f02ae321449ba74.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/fbd\/7cb\/81f\/fbd7cb81f42947c91d65e47261c6c071.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e4b\/3f1\/b9a\/e4b3f1b9a158f75ca1a1c5b2487182b6.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/6fb\/244\/076\/6fb2440767bd7f34a3c3ea90b6bbbbc0.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/5db\/db0\/cd0\/5dbdb0cd0a683a0f00992dc722c1b80b.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/fca\/fca\/e56\/fcafcae56b19e03cb497f6210ef32adc.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/2f0\/182\/9b1\/2f01829b1fb605ec679b3c1e3a1486b1.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/706\/505\/922\/70650592202611bb799ef5bf5e1b9931.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/512\/7ea\/52a\/5127ea52a925087b33e90d3695c494f6.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="MVC 2: Полное руководство по локализации" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="MVC 2: Полное руководство по локализации" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="MVC 2: Полное руководство по локализации" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.

До того, как мы..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.

До того, как мы..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.

До того, как мы..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.

До того, как мы..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.

До того, как мы..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/86331/dbaeeb2de5aba5e044fa4191cbef0be4/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/86331/dbaeeb2de5aba5e044fa4191cbef0be4/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/86331/dbaeeb2de5aba5e044fa4191cbef0be4/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/86331/dbaeeb2de5aba5e044fa4191cbef0be4/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/86331/dbaeeb2de5aba5e044fa4191cbef0be4/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="86331" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2010-03-04T12:14:08.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/86331/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/86331/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/86331/dbaeeb2de5aba5e044fa4191cbef0be4/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/jeje/" title="jeje" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/ea1/74b/369/ea174b36987026f7ed9a0680ac8008db.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/jeje/" class="tm-user-info__username">
      jeje
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2010-03-04T12:14:08.000Z" title="2010-03-04, 15:14">4  марта  2010 в 15:14</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>MVC 2: Полное руководство по локализации</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/asp/" class="tm-article-snippet__hubs-item-link"><span>ASP</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Перевод
      </span></div></div> <!----> <!----></div></div> <div class="tm-page-article__origin"><a href="http://adamyan.blogspot.com/2010/02/aspnet-mvc-2-localization-complete.html" target="_blank" class="tm-page-article__origin-link">
                Автор оригинала:
                <span class="tm-page-article__origin-value">
                  Alex Adamyan
                </span></a></div> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><img src="/img/image-loader.svg" alt="image" align="left" data-src="http://img695.imageshack.us/img695/3133/aspnetmvc2.png"/>В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.<br/>
<br/>
До того, как мы начнем я хотел бы поблагодарить команду MVC, отличная работа ребята, я наслаждаюсь процессом написания веб-приложений, когда использую данный фреймворк. Я искал фреймворк такого типа, после небольшого опыта работы с Ruby on Rails.<br/>
<br/>
Мы рассмотрим следующие проблемы:<br/>
<ol>
<li>Валидация представлений</li>
<li>Простой механизм переключения культур</li>
<li>Локализация сообщений валидации модели</li>
<li>Локализация атрибута DisplayName</li>
<li>Кэш и локализация</li>
</ol>Для работы вам понадобится Visual Studio 2008 Express и ASP.NET MVC 2 RC2, а также создать новый MVC 2 веб-проект.<br/>
<a name="habracut"></a><br/>
<h3>Локализация представлений</h3><br/>
Для локализированного текста будет, конечно же, использованы файлы ресурсов, но мы не будем использовать для хранения стандартные папки asp.net.<br/>
<br/>
Я предлагаю следующую структуру директорий:<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/1b4/3d2/885/1b43d2885ef68a1c78951f21fbdaf3c8.png"/><br/>
<br/>
<b>Views</b> — файлы ресурсов для aspx страниц. <b>Models</b> — файлы ресурсов для локализации моделей представления.<br/>
<br/>
Директория Views содержит подпапки для каждого контроллера, в которых находятся файлы ресурсов (количество файлов зависит от набора поддерживаемых языков).<br/>
<br/>
<b>Models</b> содержит поддиректории для каждой группы моделей представления. Для сгенерированных моделей Account (LogOn, Register, ChangePassword) у нас есть папка Account и файлы ресурсов для каждой языковой культуры.<br/>
<br/>
<h4>Файлы ресурсов</h4><br/>
Несколько слов о правилах именования файлов ресурсов. Файлы ресурсов имеют следующий формат имени:<br/>
[RESOURCE-NAME].[CULTURE].resx<br/>
<br/>
RESOURCE-NAME — имя файла. Может быть абсолютно любым. Оно используется для группировки, когда у нас несколько файлов ресурсов с одинаковыми resource-name — они составляют единый ресурс с различными культурами, указанных в CULTURE.<br/>
<br/>
CULTURE — индикатор культуры файла ресурса. Культуры бывают двух типов: <b>нейтральные</b> и <b>точные</b>. Нейтральные культуры состоят только из языкового кода (<b>en</b>, <b>ru</b>, <b>de</b> и т.п.). Точные культуры состоят из языкового кода и кода региона (<b>en-US</b>, <b>en-UK</b>)<br/>
<br/>
Также существует специальное значение для файлов ресурсов, у которых не определена культура, они называются культуры «по умолчанию» или «базовые(fall-back)». Как вы можете догадаться по имени, они используются для файлов ресурсов, если текст не был найден в определенном файле ресурсов культуры или же, когда не существует файла для заданной культуры. Я настоятельно рекомендую вам использовать базовый файлы ресурсов, особенно если пользователь имеет возможность каким-то образом установить не поддерживаемую культуру.<br/>
<br/>
Несколько примеров файлов ресурсов:<br/>
<br/>
MyStrings.en-US.resx — английский США<br/>
<br/>
MyStrings.en-UK.resx — английский Великобритания<br/>
<br/>
MyStrings.en.resx — нейтральный английский (по умолчанию для английского)<br/>
<br/>
MyStrings.ru.resx — нейтральный русский <br/>
<br/>
MyStrings.resx — базовый файл ресурсов.<br/>
<br/>
Отлично, теперь мы готовы что-нибудь локализировать и посмотреть как оно работает. Я покажу вам небольшой пример локализации заголовка в созданном веб-приложении. В примере я буду использовать два языка: английский(по умолчанию) и нейтральный русский, но вы можете использовать и любые другие языки.<br/>
<br/>
Прежде всего, создайте структуру папок, как я описал выше, нам нужны будут файлы ресурсов для родительской страницы Site.Master. Я создам директорию <b>Shared</b> в <b>Resources\Views</b> и добавлю два файла ресурсов:<br/>
<br/>
<b>SharedStrings.resx</b> — базовый файл ресурсов с данными на английском.<br/>
<br/>
<b>SharedStrings.ru.resx</b> — базовый файл ресурсов с данными на русском.<br/>
<br/>
Добавьте и заполните свойство «Title» в оба файла.<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/975/82f/4ff/97582f4ff2c7ffe8c030285004aa2ced.png"/><br/>
<br/>
<b>Важно!</b> Убедитесь, что <b>модификаторы доступа</b> для каждого файла ресурсов установлены в <b>public</b>. Также проверьте, что у файлов ресурсов значение свойства «Custom Tool» равно <b>«PublicResXFileCodeGenerator»</b>. Иначе файлы ресурсов не будут скомпилированы и доступны.<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/81a/343/b7e/81a343b7e3e54cbb7f02ae321449ba74.png"/><br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/fbd/7cb/81f/fbd7cb81f42947c91d65e47261c6c071.png"/><br/>
<br/>
Несколько слов о пространстве имен файлов ресурсов. Созданный данным образом файлы будут иметь пространство имен следующего вида:<br/>
<br/>
<font color="#333399">[PROJECT-NAME].Resources.Views.Shared</font><br/>
<br/>
Для улучшения читабельности и соответствию правил именования я изменил свойства <b>Custom Tool Namespace</b> файлов ресурсов на <b>ViewRes </b>(для файлов ресурсов представлений).<br/>
<br/>
Пришло время вносить изменения в страницу Site.Master.<br/>
<br/>
<blockquote><code><font color="black"><font color="#0000ff">&lt;</font><font color="#800000">div</font> <font color="#ff0000">id</font><font color="#0000ff">="title"</font><font color="#0000ff">></font><br/>
<br/>
<font color="#0000ff">&lt;</font><font color="#800000">h1</font><font color="#0000ff">></font>My MVC Application<font color="#0000ff">&lt;/</font><font color="#800000">h1</font><font color="#0000ff">></font><br/>
<font color="#0000ff">&lt;/</font><font color="#800000">div</font><font color="#0000ff">></font></font></code></blockquote>замените на<br/>
<blockquote><code><font color="#0000ff">&lt;</font><font color="#800000">div</font> <font color="#ff0000">id</font><font color="#0000ff">="title"</font><font color="#0000ff">></font><br/>
<br/>
<font color="#0000ff">&lt;</font><font color="#800000">h1</font><font color="#0000ff">></font><font>&lt;%</font>=ViewRes.SharedStrings.Title<font>%></font><font color="#0000ff">&lt;/</font><font color="#800000">h1</font><font color="#0000ff">></font><br/>
<br/>
<font color="#0000ff">&lt;/</font><font color="#800000">div</font><font color="#0000ff">></font></code></blockquote><br/>
Запустите приложение и убедитесь, что все работает и вы видите заголовок в нужном месте (сейчас он должен считываться с файла ресурсов). Если все работает, перейдем к демонстрированию, как изменить культуру.<br/>
<br/>
Для изменения культуры, нам нужно изменить свойства CurrentCulture и CurrentUICulture объекта CurrentThread для <b>каждого </b>запроса!!! Для этого мы разместим код, который изменяет культуру в метод <font color="#333399">Application_AcquireRequestState</font> <b>Global.asax</b> (данный метод является обработчиком события и вызывается для каждого запроса)<br/>
<br/>
Добавьте следующий код в файл Global.asax.cs:<br/>
<blockquote><code><font color="black"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> Application_AcquireRequestState(<font color="#0000ff">object</font> sender, <font color="#2B91AF">EventArgs</font> e)<br/>
{<br/>
  <font color="#008000">//Create culture info object </font><br/>
  CultureInfo ci = <font color="#0000ff">new</font> CultureInfo(<font color="#A31515">"en"</font>);<br/>
<br/>
  System.Threading.Thread.CurrentThread.CurrentUICulture = ci;<br/>
  System.Threading.Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(ci.Name);<br/>
}</font><br/>
</code></blockquote><br/>
Снова запускаем приложение и убеждаемся, что оно работает. Далее изменяем строковый параметр конструктора CulturInfo (в моём случае это будет «ru») и повторно запускаем проект. У вас должно получится следующее:<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/e4b/3f1/b9a/e4b3f1b9a158f75ca1a1c5b2487182b6.png"/><br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/6fb/244/076/6fb2440767bd7f34a3c3ea90b6bbbbc0.png"/><br/>
<br/>
Вот и все. Мы локализировали заголовок Site.Master и вы можете проделать это с любым текстом.<br/>
<br/>
<h3>Простой механизм переключения культур</h3><br/>
В предыдущей главе мы удачно локализировали заголовок приложения, но отсутствовала возможность изменять культуру в реальном времени. Сейчас мы собираемся создать некий механизм, который поможет нам контролировать настройки культуры в реальном времени.<br/>
<br/>
Хранилищем для выбранной пользователем культуры мы будем использовать объект сессии. И для изменении культуры, разместим ссылки для каждого языка на master-странице. Нажатие на ссылки будет вызывать некое действие в контроллере Account, которое изменяет значение сессии на соответствующую культуру.<br/>
<br/>
Добавьте следующий код в класс AccountController:<br/>
<blockquote><code><font color="black"><font color="#0000ff">public</font> ActionResult ChangeCulture(<font color="#0000ff">string</font> lang, <font color="#0000ff">string</font> returnUrl)<br/>
{<br/>
    Session[<font color="#A31515">"Culture"</font>] = <font color="#0000ff">new</font> CultureInfo(lang);<br/>
    <font color="#0000ff">return</font> Redirect(returnUrl);<br/>
}</font></code></blockquote><br/>
У нас появился метод действия с двумя параметрами, первый — код культуры, второй — адрес для переадрисовывания пользователя обратно на исходную страницу. Нужно всего-лишь задать новую культуру коллекции сессии, но не забудьте добавить проверку получаемых пользовательских данных, для перпятствия установки неподдерживаемой культуры.<br/>
<br/>
Теперь создадим простой пользовательский элемент управления, который содержит ссылки на культуры. Добавьте новое частичное представление (partial view) в <b>Views\Shared</b> директорию, назовите файл <i>CultureChooserUserControl.ascx</i> и вставьте в него следующее:<br/>
<blockquote><code><font color="black"><font>&lt;%</font>= Html.ActionLink(<font color="#A31515">"English"</font>, <font color="#A31515">"ChangeCulture"</font>, <font color="#A31515">"Account"</font>, <br/>
   <font color="#0000ff">new</font> { lang = <font color="#A31515">"en"</font>, returnUrl = <font color="#0000ff">this</font>.Request.RawUrl }, <font color="#0000ff">null</font>)<font>%></font><br/>
<font>&lt;%</font>= Html.ActionLink(<font color="#A31515">"Русский"</font>, <font color="#A31515">"ChangeCulture"</font>, <font color="#A31515">"Account"</font>, <br/>
   <font color="#0000ff">new</font> { lang = <font color="#A31515">"ru"</font>, returnUrl = <font color="#0000ff">this</font>.Request.RawUrl }, <font color="#0000ff">null</font>)<font>%></font></font><br/>
</code></blockquote><br/>
Итак, мы создали две ссылки, первая для английского, а вторая для русского языка. Пришло время разместить данный элемент управления на Site.Mater странице. Я добавлю его в , рядом в формой входа.<br/>
<br/>
Найдите и замените в коде &lt;div id=«logindisplay»> следующим:<br/>
<blockquote><code><font color="black"><font color="#0000ff">&lt;</font><font color="#800000">div</font> <font color="#ff0000">id</font><font color="#0000ff">="logindisplay"</font><font color="#0000ff">></font><br/>
<font>&lt;%</font> Html.RenderPartial(<font color="#A31515">"LogOnUserControl"</font>); <font>%></font><br/>
<font>&lt;%</font> Html.RenderPartial(<font color="#A31515">"CultureChooserUserControl"</font>); <font>%></font><br/>
<font color="#0000ff">&lt;/</font><font color="#800000">div</font><font color="#0000ff">></font></font></code></blockquote><br/>
Что еще осталось сделать? А Осталось самое важное, мы размещаем объект информации о культуре в сессии, но нигде не используем его. Вновь вносим изменения в файл Global.asax.cs метод Application_AcquireRequestState:<br/>
<blockquote><code><font color="black"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> Application_AcquireRequestState(<font color="#0000ff">object</font> sender, <font color="#2B91AF">EventArgs</font> e)<br/>
{<br/>
    <font color="#008000">//Очень важно проверять готовность объекта сессии</font><br/>
    <font color="#0000ff">if</font> (<font color="#2B91AF">HttpContext</font>.Current.Session != <font color="#0000ff">null</font>)<br/>
    {<br/>
      CultureInfo ci = (CultureInfo)<font color="#0000ff">this</font>.Session[<font color="#A31515">"Culture"</font>];<br/>
      <font color="#008000">//Вначале проверяем, что в сессии нет значения</font><br/>
      <font color="#008000">//и устанавливаем значение по умолчанию</font><br/>
      <font color="#008000">//это происходит при первом запросе пользователя</font><br/>
      <font color="#0000ff">if</font> (ci == <font color="#0000ff">null</font>)<br/>
      {<br/>
        <font color="#008000">//Устанавливает значение по умолчанию - базовый английский</font><br/>
        <font color="#0000ff">string</font> langName = <font color="#A31515">"en"</font>;<br/>
        <font color="#008000">//Пытаемся получить значения с HTTP заголовка</font><br/>
        <font color="#0000ff">if</font> (<font color="#2B91AF">HttpContext</font>.Current.Request.UserLanguages != <font color="#0000ff">null</font> &amp;&amp; <font color="#2B91AF">HttpContext</font>.Current.Request.UserLanguages.Length != 0)<br/>
        {<br/>
          <font color="#008000">//Получаем список </font><br/>
          langName = <font color="#2B91AF">HttpContext</font>.Current.Request.UserLanguages[0].Substring(0, 2);<br/>
        }<br/>
        ci = <font color="#0000ff">new</font> CultureInfo(langName);<br/>
        <font color="#0000ff">this</font>.Session[<font color="#A31515">"Culture"</font>] = ci;<br/>
      }<br/>
      <font color="#008000">//Устанавливаем культуру для каждого запроса</font><br/>
      Thread.CurrentThread.CurrentUICulture = ci;<br/>
      Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(ci.Name);<br/>
    }<br/>
 }</font></code></blockquote><br/>
Запустив приложение мы получим следующую страницу, нажатие на ссылки будет перегружать страницу с выбранной культурой:<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/5db/db0/cd0/5dbdb0cd0a683a0f00992dc722c1b80b.png"/><br/>
<br/>
<h3>Локализация сообщений валидации модели</h3><br/>
Я нашел отличное решение данной проблемы, опубликованное Филом Хааком, но так как данная статья должна быть полным руководством, я не могу не коснуться данного вопроса, а также существуют определенные неясности, которыя я хотел бы прояснить. Но прежде всего, я рекомендую прочитать <a href="http://haacked.com/archive/2009/12/07/localizing-aspnetmvc-validation.aspx">пост Фила Хаака</a><br/>
<br/>
Я объясню, как локализировать валидационные сообщения модели Account, в особенности для RegistrationModel. Также я хочу описать, как локализировать валидационные сообщения Membership, которые прописаны прямо в коде контроллера AccountController.<br/>
<br/>
Итак, давайте создадим <i>ValidationStrings.resx</i> и <i>ValidationStrings.ru.resx</i> в папке <b>Resources\Models\Account</b> (убедитесь в публичности модификаторов доступа). Как вы уже догадались, мы будем хранить валидационные сообщения в этих файлах.<br/>
<br/>
Я создал следующие свойства в обоих файлах (пример английского):<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/fca/fca/e56/fcafcae56b19e03cb497f6210ef32adc.png"/><br/>
<br/>
Мы должны изменить наши модели следующим образом (пример RegisterModel):<br/>
<blockquote><code><font color="black">[PropertiesMustMatch(<font color="#A31515">"Password"</font>, <font color="#A31515">"ConfirmPassword"</font>, <br/>
ErrorMessageResourceName = <font color="#A31515">"PasswordsMustMatch"</font>, <br/>
ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
   <font color="#0000ff">public</font> <font color="#0000ff">class</font> RegisterModel<br/>
   {<br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>, ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [DisplayName(<font color="#A31515">"Username"</font>)]<br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> UserName { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>, ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [DataType(DataType.EmailAddress)]<br/>
     [DisplayName(<font color="#A31515">"Email"</font>)]<br/>
     <br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> Email { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>, ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [ValidatePasswordLength(ErrorMessageResourceName = <font color="#A31515">"PasswordMinLength"</font>,ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [DataType(DataType.Password)]<br/>
     [DisplayName(<font color="#A31515">"Password"</font>)]<br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> Password { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
 <br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>, ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [DataType(DataType.Password)]<br/>
     [DisplayName(<font color="#A31515">"Confirm password"</font>)]<br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> ConfirmPassword { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
}</font></code></blockquote><br/>
Мы добавим свойства <i>ErrorMessageResourceName </i>и <i>ErrorMessageResourceType </i>к атрибутам <i>Required</i>, <i>PropertiesMustMatch </i>и <i>ValidatePasswordLength</i>, где <i>ErrorMessageResourceType </i>является типом класса ресурса, в котором хранятся сообщения и <i>ErrorMessageResourceName </i>является названием свойства. К сожалению не существует строго типизированного вариант чтения свойства так что убедитесь, что у данных магических строк корректные значения.<br/>
<br/>
Мы почти у цели, осталась маленьках деталь. У нас присутствуют два собственных атрибута валидации <i>PropertiesMustMatchAttribute </i>и <i>ValidatePasswordLenghtAttribute</i>, в которых мы должны изменить <i>CultureInfo.CurrentUICulture</i> в методе <i>FormatErrorMessage</i> на <i>CultureInfo.CurrentCulture</i>, иначе в нашем случае ничего заработает.<br/>
<br/>
Запускаем приложение, переходим на страницу регистрации, выбираем язык для измнения культуры и получаем приблизительно следующее при отправке пустой формы:<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/2f0/182/9b1/2f01829b1fb605ec679b3c1e3a1486b1.png"/><br/>
<br/>
Ой, как вы заметили, мы забыли локализировать имена свойств в моделях представления и получили небольшую кашу. Для этого нам нужно локализировать значения атрибута DisplayName, но это не так просто, как кажется на первый взгляд. Я расскажу об этом в следующей главе, а сейчас давайте доделаем оставшуюся деталь. Это локализация валидационных сообщений Membership API.<br/>
<br/>
Откройте AccountController и переместитесь в конец файла, там должен быть метод ErrorCodeToString, который создает сообщение об ошибке, если пользовательская регистрация провалилась. Все сообщения жестко прописаны в коде. Все что нам нужно — это создать соответствующие свойства для каждого сообщения в, уже созданном, ValidationStrings файле ресурса и поместить их туда, вместо текста в методе ErrorCodeToString.<br/>
<br/>
На этом все с моделью валидации. Пришло время для DisplayName!<br/>
<br/>
<h3>Локализация атрибута DisplayName</h3><br/>
Как мы заметили в предыдущей главе, значение DisplayName учавствует в валидационных сообщениях, которые используют параметры для форматирования. Еще одним поводом задуматься о атрибуте DisplayName, являются текстовые метки полей в HTML-форме, они созданы при участии значения DisplayName.<br/>
<br/>
Реальной проблемой является то, что DisplayName не поддерживает локализацию, не существует способа связать его с файлом ресурса, откуда он будет брать значение.<br/>
<br/>
Это означает, что нам нужно расширить DisplayNameAttribute и переписать свойство DisplayName, таким образом, чтобы оно возвращало локализированное имя. Я создал унаследованный класс и назвал его LocalizedDisplayName.<br/>
<blockquote><code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> LocalizedDisplayNameAttribute : DisplayNameAttribute<br/>
{<br/>
   <font color="#0000ff">private</font> PropertyInfo _nameProperty;<br/>
   <font color="#0000ff">private</font> Type _resourceType;<br/>
 <br/>
   <font color="#0000ff">public</font> LocalizedDisplayNameAttribute(<font color="#0000ff">string</font> displayNameKey)<br/>
     : <font color="#0000ff">base</font>(displayNameKey)<br/>
   {<br/>
 <br/>
   }<br/>
 <br/>
   <font color="#0000ff">public</font> Type NameResourceType<br/>
   {<br/>
     <font color="#0000ff">get</font><br/>
     {<br/>
       <font color="#0000ff">return</font> _resourceType;<br/>
     }<br/>
     <font color="#0000ff">set</font><br/>
     {<br/>
       _resourceType = <font color="#0000ff">value</font>;<br/>
       <font color="#008000">//инициализация nameProperty, когда тип свойства устанавливается set'ром</font><br/>
       _nameProperty = _resourceType.GetProperty(<font color="#0000ff">base</font>.DisplayName, BindingFlags.Static | BindingFlags.Public);<br/>
     }<br/>
   }<br/>
 <br/>
   <font color="#0000ff">public</font> <font color="#0000ff">override</font> <font color="#0000ff">string</font> DisplayName<br/>
   {<br/>
    <font color="#0000ff">get</font><br/>
    {<br/>
       <font color="#008000">//проверяет,nameProperty null и возвращает исходный значения отображаемого имени</font><br/>
       <font color="#0000ff">if</font> (_nameProperty == <font color="#0000ff">null</font>)<br/>
       {<br/>
         <font color="#0000ff">return</font> <font color="#0000ff">base</font>.DisplayName;<br/>
       }<br/>
 <br/>
       <font color="#0000ff">return</font> (<font color="#0000ff">string</font>)_nameProperty.GetValue(_nameProperty.DeclaringType, <font color="#0000ff">null</font>);<br/>
     }<br/>
   } <br/>
}</font></code></blockquote><br/>
Важной деталью является понимание того, что нам нужно считывать значение свойства, каждый раз, когда оно запрашивается, поэтому метод GetValue вызывается в get'ере свойства DisplayName, а не в конструкторе.<br/>
<br/>
Для хранения отображаемых имен, я создал файлы ресурсов <i>Names.resx</i> и <i>Names.ru.resx</i> в папке <b>Resources\Models\Account</b> и создал следующие свойства.<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/706/505/922/70650592202611bb799ef5bf5e1b9931.png"/><br/>
<br/>
Теперь нам нужно заменить атрибут DisplayName на LocalizedDisplayName и предоставить тип класса ресурса. Измененный код RegisterModel будет выглядеть следующим образом:<br/>
<blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a><font color="black">[PropertiesMustMatch(<font color="#A31515">"Password"</font>, <font color="#A31515">"ConfirmPassword"</font>, <br/>
ErrorMessageResourceName = <font color="#A31515">"PasswordsMustMatch"</font>, <br/>
ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
   <font color="#0000ff">public</font> <font color="#0000ff">class</font> RegisterModel<br/>
   {<br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>, ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [LocalizedDisplayName(<font color="#A31515">"RegUsername"</font>, NameResourceType = <font color="#0000ff">typeof</font>(Names))]<br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> UserName { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
 <br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>,ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [DataType(DataType.EmailAddress)]<br/>
     [LocalizedDisplayName(<font color="#A31515">"RegEmail"</font>, NameResourceType = <font color="#0000ff">typeof</font>(Names))]<br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> Email { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
<br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>, ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [ValidatePasswordLength(ErrorMessageResourceName = <font color="#A31515">"PasswordMinLength"</font>, <br/>
ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [DataType(DataType.Password)]<br/>
     [LocalizedDisplayName(<font color="#A31515">"RegPassword"</font>, NameResourceType = <font color="#0000ff">typeof</font>(Names))]<br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> Password { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
 <br/>
     [Required(ErrorMessageResourceName = <font color="#A31515">"Required"</font>, ErrorMessageResourceType = <font color="#0000ff">typeof</font>(ValidationStrings))]<br/>
     [DataType(DataType.Password)]<br/>
     [LocalizedDisplayName(<font color="#A31515">"RegConfirmPassword"</font>, NameResourceType = <font color="#0000ff">typeof</font>(Names))]<br/>
     <font color="#0000ff">public</font> <font color="#0000ff">string</font> ConfirmPassword { <font color="#0000ff">get</font>; <font color="#0000ff">set</font>; }<br/>
<br/>
   }</font><br/>
<font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font>.</font></code></blockquote><br/>
Запустите приложение и убедитесь в его работоспособности, выглядеть должно так:<br/>
<br/>
<img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/getpro/habr/post_images/512/7ea/52a/5127ea52a925087b33e90d3695c494f6.png"/><br/>
<br/>
<h3>Кэш и локализация</h3><br/>
Странная глава, не так ли? Вы думаете как объединить кэширование и локализацию? Хорошо, давайте представим следующий сценарий: откройте HomeController и добавьте атрибут OutputCache в метод действия Index:<br/>
<blockquote><code><font color="black"> [OutputCache(Duration=3600, VaryByParam=<font color="#A31515">"none"</font>)]<br/>
 <font color="#0000ff">public</font> ActionResult Index()<br/>
 {<br/>
   ViewData[<font color="#A31515">"Message"</font>] = <font color="#A31515">"Welcome to ASP.NET MVC!"</font>;<br/>
<br/>
   <font color="#0000ff">return</font> View();<br/>
 }</font></code></blockquote><br/>
Запускаем приложение и пробуем изменить язык на Index странице, чтобы проверить, что заголов все еще локазалирован.<br/>
<br/>
Вот чёрт! Вы наверное подумали, что кэширование и локазилация не могут быть использованы вместе? Не переживайте, решение данной проблемы существует :)<br/>
<br/>
Что вы знаете о OutputCache, а точнее, что вы знаете о свойстве VaryByCustom? Пришло время его использовать.<br/>
<br/>
Когда мы запрашиваем Index страницу первый раз, OutputCache кэширует страницу. При втором запросе (когда мы нажимаем на ссылке выбора языка) OutputCache думает, что ничего не изменилось и возвращает результат из кэша, следовательно страница повторно не создается. Вот поэтому не работал выбор языка. Для разрешения данной проблемы, нам нужно каким-то образом сказать OutputCache, что версия страницы изменилась (как в случае, когда действие получает определенный параметр и мы передаем его в свойства VaryByParam).<br/>
<br/>
VaryByCustom — идеальный кандидат для нашего решения проблемы и существует специальный метод у класса System.Web.HttpApplication в файле Global.asax.cs. Мы перепишем стандартную реализацию данного метода:<br/>
<blockquote><code><font color="black"><font color="#0000ff">public</font> <font color="#0000ff">override</font> <font color="#0000ff">string</font> GetVaryByCustomString(<font color="#2B91AF">HttpContext</font> context, <font color="#0000ff">string</font> <font color="#0000ff">value</font>)<br/>
 {<br/>
    <font color="#0000ff">if</font> (<font color="#0000ff">value</font>.Equals(<font color="#A31515">"lang"</font>))<br/>
    {<br/>
      <font color="#0000ff">return</font> Thread.CurrentThread.CurrentUICulture.Name;<br/>
    }<br/>
    <font color="#0000ff">return</font> <font color="#0000ff">base</font>.GetVaryByCustomString(context,<font color="#0000ff">value</font>);<br/>
 }</font></code></blockquote><br/>
Вначале метод проверяет, если значение параметра соответствует «lang» (никакого особого значения, простая строка, которая используется, как значение VaryByCustom) и, если это так, возвращает имя текущей культуры. Иначе возвращает значение стандартной реализации.<br/>
<br/>
Теперь добавим свойство VaryByCustom со значением «lang» в каждый атрибут OutputCache, который вы хотите использовать локализацией и на этом все. Обновленный метод действия Index выглядит следующим образом:<br/>
<br/>
<blockquote><code><font color="black"> [OutputCache(Duration=3600,VaryByParam=<font color="#A31515">"none"</font>, VaryByCustom=<font color="#A31515">"lang"</font>)]<br/>
 <font color="#0000ff">public</font> ActionResult Index()<br/>
 {<br/>
    ViewData[<font color="#A31515">"Message"</font>] = <font color="#A31515">"Welcome to ASP.NET MVC!"</font>;<br/>
    <font color="#0000ff">return</font> View();<br/>
 }</font></code></blockquote><br/>
Попробуйте снова запустить приложение и насладится рабочим переключением культур.<br/>
<br/>
Мы закончили последнюю главу и, надеюсь, я ничего не упустил.</div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Basp.net%20mvc%5D" class="tm-article-body__tags-item-link">asp.net mvc</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Blocalization%5D" class="tm-article-body__tags-item-link">localization</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/asp/" class="tm-article-body__tags-item-link">
                  ASP
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 46: ↑37 и ↓9</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 46: ↑37 и ↓9" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+28</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    85
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/86331/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      11
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/jeje/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/ea1/74b/369/ea174b36987026f7ed9a0680ac8008db.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 1192 голоса " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    96.7
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><span class="tm-user-card__name">Евгений</span> <a href="/ru/users/jeje/" class="tm-user-card__nickname">
          @jeje
        </a> <!----></div> <p class="tm-user-card__short-info">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/86331/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 11 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-01-26T16:41:54.000Z" title="2021-01-26, 19:41">26  января   в 19:41</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/dataart/blog/539406/" class="tm-article-title__link"><span>Переход с Azure на GCP, с ASP.NET MVC на ASP.NET Core 3.1</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 9: ↑8 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 9: ↑8 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+7</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">4.2K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    26
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/dataart/blog/539406/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      16
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2020-01-19T16:06:43.000Z" title="2020-01-19, 19:06">19  января  2020 в 19:06</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/484582/" class="tm-article-title__link"><span>ASP.NET MVC — Entity Framework, MySQL и использование Dependency Resolver для выбора репозитория</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 3: ↑2 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 3: ↑2 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+1</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">5.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    16
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/484582/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      9
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2012-08-18T10:57:03.000Z" title="2012-08-18, 14:57">18  августа  2012 в 14:57</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/knoema/blog/149802/" class="tm-article-title__link"><span>Локализация ASP.NET MVC приложений</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 20: ↑17 и ↓3</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 20: ↑17 и ↓3" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+14</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">22K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    103
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/knoema/blog/149802/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      75
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T09:00:04.000Z" title="2021-09-27, 12:00">вчера в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580060/" class="tm-article-title__link"><span>Арракис, который мы заслужили</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 167: ↑161 и ↓6</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 167: ↑161 и ↓6" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+155</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">27K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    48
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580060/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      127
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T16:41:21.000Z" title="2021-09-27, 19:41">вчера в 19:41</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/lamptest/blog/580228/" class="tm-article-title__link"><span>Идеальная светодиодная лампа за 21 рубль</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 100: ↑98 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 100: ↑98 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+96</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">20K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    79
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/lamptest/blog/580228/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      40
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T13:03:14.000Z" title="2021-09-27, 16:03">вчера в 16:03</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580124/" class="tm-article-title__link"><span>Электролюминесцентные индикаторы из прошлого</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 84: ↑84 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 84: ↑84 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+84</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">6.9K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    39
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580124/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      19
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T12:53:02.000Z" title="2021-09-27, 15:53">вчера в 15:53</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580210/" class="tm-article-title__link"><span>PHP Дайджест № 212 (13 – 27 сентября 2021)</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 45: ↑45 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 45: ↑45 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+45</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">4.5K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    16
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580210/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T10:50:03.000Z" title="2021-09-27, 13:50">вчера в 13:50</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/oleg-bunin/blog/580150/" class="tm-article-title__link"><span>Топ-5 когнитивных искажений при планировании в IT</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 44: ↑43 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 44: ↑43 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+42</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">8.3K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    69
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/oleg-bunin/blog/580150/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      8
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="86331" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/86331/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/86331/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"86331":{"id":"86331","timePublished":"2010-03-04T12:14:08+00:00","isCorporative":false,"lang":"ru","titleHtml":"MVC 2: Полное руководство по локализации","leadData":{"textHtml":"\u003Cimg src=\"http:\u002F\u002Fimg695.imageshack.us\u002Fimg695\u002F3133\u002Faspnetmvc2.png\" alt=\"image\" align=\"left\"\u002F\u003EВ данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДо того, как мы начнем я хотел бы поблагодарить команду MVC, отличная работа ребята, я наслаждаюсь процессом написания веб-приложений, когда использую данный фреймворк. Я искал фреймворк такого типа, после небольшого опыта работы с Ruby on Rails.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы рассмотрим следующие проблемы:\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EВалидация представлений\u003C\u002Fli\u003E\r\n\u003Cli\u003EПростой механизм переключения культур\u003C\u002Fli\u003E\r\n\u003Cli\u003EЛокализация сообщений валидации модели\u003C\u002Fli\u003E\r\n\u003Cli\u003EЛокализация атрибута DisplayName\u003C\u002Fli\u003E\r\n\u003Cli\u003EКэш и локализация\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003EДля работы вам понадобится Visual Studio 2008 Express и ASP.NET MVC 2 RC2, а также создать новый MVC 2 веб-проект.\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Alex Adamyan","originalUrl":"http:\u002F\u002Fadamyan.blogspot.com\u002F2010\u002F02\u002Faspnet-mvc-2-localization-complete.html"}}],"author":{"scoreStats":{"score":96.7,"votesCount":1192},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"32436","alias":"jeje","fullname":"Евгений","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fea1\u002F74b\u002F369\u002Fea174b36987026f7ed9a0680ac8008db.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":11,"favoritesCount":85,"readingCount":17085,"score":28,"votesCount":46},"hubs":[{"relatedData":null,"id":"7149","alias":"asp","type":"collective","title":"ASP","titleHtml":"ASP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" align=\"left\" data-src=\"http:\u002F\u002Fimg695.imageshack.us\u002Fimg695\u002F3133\u002Faspnetmvc2.png\"\u002F\u003EВ данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДо того, как мы начнем я хотел бы поблагодарить команду MVC, отличная работа ребята, я наслаждаюсь процессом написания веб-приложений, когда использую данный фреймворк. Я искал фреймворк такого типа, после небольшого опыта работы с Ruby on Rails.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы рассмотрим следующие проблемы:\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EВалидация представлений\u003C\u002Fli\u003E\r\n\u003Cli\u003EПростой механизм переключения культур\u003C\u002Fli\u003E\r\n\u003Cli\u003EЛокализация сообщений валидации модели\u003C\u002Fli\u003E\r\n\u003Cli\u003EЛокализация атрибута DisplayName\u003C\u002Fli\u003E\r\n\u003Cli\u003EКэш и локализация\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003EДля работы вам понадобится Visual Studio 2008 Express и ASP.NET MVC 2 RC2, а также создать новый MVC 2 веб-проект.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЛокализация представлений\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nДля локализированного текста будет, конечно же, использованы файлы ресурсов, но мы не будем использовать для хранения стандартные папки asp.net.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ предлагаю следующую структуру директорий:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F1b4\u002F3d2\u002F885\u002F1b43d2885ef68a1c78951f21fbdaf3c8.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EViews\u003C\u002Fb\u003E — файлы ресурсов для aspx страниц. \u003Cb\u003EModels\u003C\u002Fb\u003E — файлы ресурсов для локализации моделей представления.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДиректория Views содержит подпапки для каждого контроллера, в которых находятся файлы ресурсов (количество файлов зависит от набора поддерживаемых языков).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EModels\u003C\u002Fb\u003E содержит поддиректории для каждой группы моделей представления. Для сгенерированных моделей Account (LogOn, Register, ChangePassword) у нас есть папка Account и файлы ресурсов для каждой языковой культуры.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EФайлы ресурсов\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nНесколько слов о правилах именования файлов ресурсов. Файлы ресурсов имеют следующий формат имени:\u003Cbr\u002F\u003E\r\n[RESOURCE-NAME].[CULTURE].resx\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nRESOURCE-NAME — имя файла. Может быть абсолютно любым. Оно используется для группировки, когда у нас несколько файлов ресурсов с одинаковыми resource-name — они составляют единый ресурс с различными культурами, указанных в CULTURE.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nCULTURE — индикатор культуры файла ресурса. Культуры бывают двух типов: \u003Cb\u003Eнейтральные\u003C\u002Fb\u003E и \u003Cb\u003Eточные\u003C\u002Fb\u003E. Нейтральные культуры состоят только из языкового кода (\u003Cb\u003Een\u003C\u002Fb\u003E, \u003Cb\u003Eru\u003C\u002Fb\u003E, \u003Cb\u003Ede\u003C\u002Fb\u003E и т.п.). Точные культуры состоят из языкового кода и кода региона (\u003Cb\u003Een-US\u003C\u002Fb\u003E, \u003Cb\u003Een-UK\u003C\u002Fb\u003E)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТакже существует специальное значение для файлов ресурсов, у которых не определена культура, они называются культуры «по умолчанию» или «базовые(fall-back)». Как вы можете догадаться по имени, они используются для файлов ресурсов, если текст не был найден в определенном файле ресурсов культуры или же, когда не существует файла для заданной культуры. Я настоятельно рекомендую вам использовать базовый файлы ресурсов, особенно если пользователь имеет возможность каким-то образом установить не поддерживаемую культуру.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНесколько примеров файлов ресурсов:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nMyStrings.en-US.resx — английский США\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nMyStrings.en-UK.resx — английский Великобритания\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nMyStrings.en.resx — нейтральный английский (по умолчанию для английского)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nMyStrings.ru.resx — нейтральный русский \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nMyStrings.resx — базовый файл ресурсов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОтлично, теперь мы готовы что-нибудь локализировать и посмотреть как оно работает. Я покажу вам небольшой пример локализации заголовка в созданном веб-приложении. В примере я буду использовать два языка: английский(по умолчанию) и нейтральный русский, но вы можете использовать и любые другие языки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПрежде всего, создайте структуру папок, как я описал выше, нам нужны будут файлы ресурсов для родительской страницы Site.Master. Я создам директорию \u003Cb\u003EShared\u003C\u002Fb\u003E в \u003Cb\u003EResources\\Views\u003C\u002Fb\u003E и добавлю два файла ресурсов:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003ESharedStrings.resx\u003C\u002Fb\u003E — базовый файл ресурсов с данными на английском.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003ESharedStrings.ru.resx\u003C\u002Fb\u003E — базовый файл ресурсов с данными на русском.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДобавьте и заполните свойство «Title» в оба файла.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F975\u002F82f\u002F4ff\u002F97582f4ff2c7ffe8c030285004aa2ced.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EВажно!\u003C\u002Fb\u003E Убедитесь, что \u003Cb\u003Eмодификаторы доступа\u003C\u002Fb\u003E для каждого файла ресурсов установлены в \u003Cb\u003Epublic\u003C\u002Fb\u003E. Также проверьте, что у файлов ресурсов значение свойства «Custom Tool» равно \u003Cb\u003E«PublicResXFileCodeGenerator»\u003C\u002Fb\u003E. Иначе файлы ресурсов не будут скомпилированы и доступны.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F81a\u002F343\u002Fb7e\u002F81a343b7e3e54cbb7f02ae321449ba74.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Ffbd\u002F7cb\u002F81f\u002Ffbd7cb81f42947c91d65e47261c6c071.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНесколько слов о пространстве имен файлов ресурсов. Созданный данным образом файлы будут иметь пространство имен следующего вида:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#333399\"\u003E[PROJECT-NAME].Resources.Views.Shared\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля улучшения читабельности и соответствию правил именования я изменил свойства \u003Cb\u003ECustom Tool Namespace\u003C\u002Fb\u003E файлов ресурсов на \u003Cb\u003EViewRes \u003C\u002Fb\u003E(для файлов ресурсов представлений).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПришло время вносить изменения в страницу Site.Master.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ediv\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eid\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"title\"\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eh1\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003EMy MVC Application\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eh1\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ediv\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003Eзамените на\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ediv\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eid\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"title\"\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eh1\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E=ViewRes.SharedStrings.Title\u003Cfont\u003E%\u003E\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Eh1\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ediv\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nЗапустите приложение и убедитесь, что все работает и вы видите заголовок в нужном месте (сейчас он должен считываться с файла ресурсов). Если все работает, перейдем к демонстрированию, как изменить культуру.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля изменения культуры, нам нужно изменить свойства CurrentCulture и CurrentUICulture объекта CurrentThread для \u003Cb\u003Eкаждого \u003C\u002Fb\u003Eзапроса!!! Для этого мы разместим код, который изменяет культуру в метод \u003Cfont color=\"#333399\"\u003EApplication_AcquireRequestState\u003C\u002Ffont\u003E \u003Cb\u003EGlobal.asax\u003C\u002Fb\u003E (данный метод является обработчиком события и вызывается для каждого запроса)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДобавьте следующий код в файл Global.asax.cs:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Eprotected\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E Application_AcquireRequestState(\u003Cfont color=\"#0000ff\"\u003Eobject\u003C\u002Ffont\u003E sender, \u003Cfont color=\"#2B91AF\"\u003EEventArgs\u003C\u002Ffont\u003E e)\u003Cbr\u002F\u003E\r\n{\u003Cbr\u002F\u003E\r\n  \u003Cfont color=\"#008000\"\u003E\u002F\u002FCreate culture info object \u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n  CultureInfo ci = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E CultureInfo(\u003Cfont color=\"#A31515\"\u003E\"en\"\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n  System.Threading.Thread.CurrentThread.CurrentUICulture = ci;\u003Cbr\u002F\u003E\r\n  System.Threading.Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(ci.Name);\u003Cbr\u002F\u003E\r\n}\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nСнова запускаем приложение и убеждаемся, что оно работает. Далее изменяем строковый параметр конструктора CulturInfo (в моём случае это будет «ru») и повторно запускаем проект. У вас должно получится следующее:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe4b\u002F3f1\u002Fb9a\u002Fe4b3f1b9a158f75ca1a1c5b2487182b6.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F6fb\u002F244\u002F076\u002F6fb2440767bd7f34a3c3ea90b6bbbbc0.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВот и все. Мы локализировали заголовок Site.Master и вы можете проделать это с любым текстом.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПростой механизм переключения культур\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВ предыдущей главе мы удачно локализировали заголовок приложения, но отсутствовала возможность изменять культуру в реальном времени. Сейчас мы собираемся создать некий механизм, который поможет нам контролировать настройки культуры в реальном времени.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nХранилищем для выбранной пользователем культуры мы будем использовать объект сессии. И для изменении культуры, разместим ссылки для каждого языка на master-странице. Нажатие на ссылки будет вызывать некое действие в контроллере Account, которое изменяет значение сессии на соответствующую культуру.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДобавьте следующий код в класс AccountController:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E ActionResult ChangeCulture(\u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E lang, \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E returnUrl)\u003Cbr\u002F\u003E\r\n{\u003Cbr\u002F\u003E\r\n    Session[\u003Cfont color=\"#A31515\"\u003E\"Culture\"\u003C\u002Ffont\u003E] = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E CultureInfo(lang);\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E Redirect(returnUrl);\u003Cbr\u002F\u003E\r\n}\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nУ нас появился метод действия с двумя параметрами, первый — код культуры, второй — адрес для переадрисовывания пользователя обратно на исходную страницу. Нужно всего-лишь задать новую культуру коллекции сессии, но не забудьте добавить проверку получаемых пользовательских данных, для перпятствия установки неподдерживаемой культуры.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь создадим простой пользовательский элемент управления, который содержит ссылки на культуры. Добавьте новое частичное представление (partial view) в \u003Cb\u003EViews\\Shared\u003C\u002Fb\u003E директорию, назовите файл \u003Ci\u003ECultureChooserUserControl.ascx\u003C\u002Fi\u003E и вставьте в него следующее:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E= Html.ActionLink(\u003Cfont color=\"#A31515\"\u003E\"English\"\u003C\u002Ffont\u003E, \u003Cfont color=\"#A31515\"\u003E\"ChangeCulture\"\u003C\u002Ffont\u003E, \u003Cfont color=\"#A31515\"\u003E\"Account\"\u003C\u002Ffont\u003E, \u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E { lang = \u003Cfont color=\"#A31515\"\u003E\"en\"\u003C\u002Ffont\u003E, returnUrl = \u003Cfont color=\"#0000ff\"\u003Ethis\u003C\u002Ffont\u003E.Request.RawUrl }, \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003Cfont\u003E%\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E= Html.ActionLink(\u003Cfont color=\"#A31515\"\u003E\"Русский\"\u003C\u002Ffont\u003E, \u003Cfont color=\"#A31515\"\u003E\"ChangeCulture\"\u003C\u002Ffont\u003E, \u003Cfont color=\"#A31515\"\u003E\"Account\"\u003C\u002Ffont\u003E, \u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E { lang = \u003Cfont color=\"#A31515\"\u003E\"ru\"\u003C\u002Ffont\u003E, returnUrl = \u003Cfont color=\"#0000ff\"\u003Ethis\u003C\u002Ffont\u003E.Request.RawUrl }, \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003Cfont\u003E%\u003E\u003C\u002Ffont\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nИтак, мы создали две ссылки, первая для английского, а вторая для русского языка. Пришло время разместить данный элемент управления на Site.Mater странице. Я добавлю его в , рядом в формой входа.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНайдите и замените в коде &lt;div id=«logindisplay»\u003E следующим:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003E&lt;\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ediv\u003C\u002Ffont\u003E \u003Cfont color=\"#ff0000\"\u003Eid\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E=\"logindisplay\"\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E Html.RenderPartial(\u003Cfont color=\"#A31515\"\u003E\"LogOnUserControl\"\u003C\u002Ffont\u003E); \u003Cfont\u003E%\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont\u003E&lt;%\u003C\u002Ffont\u003E Html.RenderPartial(\u003Cfont color=\"#A31515\"\u003E\"CultureChooserUserControl\"\u003C\u002Ffont\u003E); \u003Cfont\u003E%\u003E\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"#0000ff\"\u003E&lt;\u002F\u003C\u002Ffont\u003E\u003Cfont color=\"#800000\"\u003Ediv\u003C\u002Ffont\u003E\u003Cfont color=\"#0000ff\"\u003E\u003E\u003C\u002Ffont\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nЧто еще осталось сделать? А Осталось самое важное, мы размещаем объект информации о культуре в сессии, но нигде не используем его. Вновь вносим изменения в файл Global.asax.cs метод Application_AcquireRequestState:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Eprotected\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E Application_AcquireRequestState(\u003Cfont color=\"#0000ff\"\u003Eobject\u003C\u002Ffont\u003E sender, \u003Cfont color=\"#2B91AF\"\u003EEventArgs\u003C\u002Ffont\u003E e)\u003Cbr\u002F\u003E\r\n{\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#008000\"\u003E\u002F\u002FОчень важно проверять готовность объекта сессии\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (\u003Cfont color=\"#2B91AF\"\u003EHttpContext\u003C\u002Ffont\u003E.Current.Session != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n    {\u003Cbr\u002F\u003E\r\n      CultureInfo ci = (CultureInfo)\u003Cfont color=\"#0000ff\"\u003Ethis\u003C\u002Ffont\u003E.Session[\u003Cfont color=\"#A31515\"\u003E\"Culture\"\u003C\u002Ffont\u003E];\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#008000\"\u003E\u002F\u002FВначале проверяем, что в сессии нет значения\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#008000\"\u003E\u002F\u002Fи устанавливаем значение по умолчанию\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#008000\"\u003E\u002F\u002Fэто происходит при первом запросе пользователя\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (ci == \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n      {\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#008000\"\u003E\u002F\u002FУстанавливает значение по умолчанию - базовый английский\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E langName = \u003Cfont color=\"#A31515\"\u003E\"en\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#008000\"\u003E\u002F\u002FПытаемся получить значения с HTTP заголовка\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (\u003Cfont color=\"#2B91AF\"\u003EHttpContext\u003C\u002Ffont\u003E.Current.Request.UserLanguages != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E &amp;&amp; \u003Cfont color=\"#2B91AF\"\u003EHttpContext\u003C\u002Ffont\u003E.Current.Request.UserLanguages.Length != 0)\u003Cbr\u002F\u003E\r\n        {\u003Cbr\u002F\u003E\r\n          \u003Cfont color=\"#008000\"\u003E\u002F\u002FПолучаем список \u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n          langName = \u003Cfont color=\"#2B91AF\"\u003EHttpContext\u003C\u002Ffont\u003E.Current.Request.UserLanguages[0].Substring(0, 2);\u003Cbr\u002F\u003E\r\n        }\u003Cbr\u002F\u003E\r\n        ci = \u003Cfont color=\"#0000ff\"\u003Enew\u003C\u002Ffont\u003E CultureInfo(langName);\u003Cbr\u002F\u003E\r\n        \u003Cfont color=\"#0000ff\"\u003Ethis\u003C\u002Ffont\u003E.Session[\u003Cfont color=\"#A31515\"\u003E\"Culture\"\u003C\u002Ffont\u003E] = ci;\u003Cbr\u002F\u003E\r\n      }\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#008000\"\u003E\u002F\u002FУстанавливаем культуру для каждого запроса\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n      Thread.CurrentThread.CurrentUICulture = ci;\u003Cbr\u002F\u003E\r\n      Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(ci.Name);\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n }\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nЗапустив приложение мы получим следующую страницу, нажатие на ссылки будет перегружать страницу с выбранной культурой:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F5db\u002Fdb0\u002Fcd0\u002F5dbdb0cd0a683a0f00992dc722c1b80b.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЛокализация сообщений валидации модели\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЯ нашел отличное решение данной проблемы, опубликованное Филом Хааком, но так как данная статья должна быть полным руководством, я не могу не коснуться данного вопроса, а также существуют определенные неясности, которыя я хотел бы прояснить. Но прежде всего, я рекомендую прочитать \u003Ca href=\"http:\u002F\u002Fhaacked.com\u002Farchive\u002F2009\u002F12\u002F07\u002Flocalizing-aspnetmvc-validation.aspx\"\u003Eпост Фила Хаака\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ объясню, как локализировать валидационные сообщения модели Account, в особенности для RegistrationModel. Также я хочу описать, как локализировать валидационные сообщения Membership, которые прописаны прямо в коде контроллера AccountController.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак, давайте создадим \u003Ci\u003EValidationStrings.resx\u003C\u002Fi\u003E и \u003Ci\u003EValidationStrings.ru.resx\u003C\u002Fi\u003E в папке \u003Cb\u003EResources\\Models\\Account\u003C\u002Fb\u003E (убедитесь в публичности модификаторов доступа). Как вы уже догадались, мы будем хранить валидационные сообщения в этих файлах.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ создал следующие свойства в обоих файлах (пример английского):\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Ffca\u002Ffca\u002Fe56\u002Ffcafcae56b19e03cb497f6210ef32adc.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы должны изменить наши модели следующим образом (пример RegisterModel):\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E[PropertiesMustMatch(\u003Cfont color=\"#A31515\"\u003E\"Password\"\u003C\u002Ffont\u003E, \u003Cfont color=\"#A31515\"\u003E\"ConfirmPassword\"\u003C\u002Ffont\u003E, \u003Cbr\u002F\u003E\r\nErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"PasswordsMustMatch\"\u003C\u002Ffont\u003E, \u003Cbr\u002F\u003E\r\nErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E RegisterModel\u003Cbr\u002F\u003E\r\n   {\u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E, ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [DisplayName(\u003Cfont color=\"#A31515\"\u003E\"Username\"\u003C\u002Ffont\u003E)]\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E UserName { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E, ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [DataType(DataType.EmailAddress)]\u003Cbr\u002F\u003E\r\n     [DisplayName(\u003Cfont color=\"#A31515\"\u003E\"Email\"\u003C\u002Ffont\u003E)]\u003Cbr\u002F\u003E\r\n     \u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E Email { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E, ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [ValidatePasswordLength(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"PasswordMinLength\"\u003C\u002Ffont\u003E,ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [DataType(DataType.Password)]\u003Cbr\u002F\u003E\r\n     [DisplayName(\u003Cfont color=\"#A31515\"\u003E\"Password\"\u003C\u002Ffont\u003E)]\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E Password { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E, ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [DataType(DataType.Password)]\u003Cbr\u002F\u003E\r\n     [DisplayName(\u003Cfont color=\"#A31515\"\u003E\"Confirm password\"\u003C\u002Ffont\u003E)]\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E ConfirmPassword { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n}\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nМы добавим свойства \u003Ci\u003EErrorMessageResourceName \u003C\u002Fi\u003Eи \u003Ci\u003EErrorMessageResourceType \u003C\u002Fi\u003Eк атрибутам \u003Ci\u003ERequired\u003C\u002Fi\u003E, \u003Ci\u003EPropertiesMustMatch \u003C\u002Fi\u003Eи \u003Ci\u003EValidatePasswordLength\u003C\u002Fi\u003E, где \u003Ci\u003EErrorMessageResourceType \u003C\u002Fi\u003Eявляется типом класса ресурса, в котором хранятся сообщения и \u003Ci\u003EErrorMessageResourceName \u003C\u002Fi\u003Eявляется названием свойства. К сожалению не существует строго типизированного вариант чтения свойства так что убедитесь, что у данных магических строк корректные значения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы почти у цели, осталась маленьках деталь. У нас присутствуют два собственных атрибута валидации \u003Ci\u003EPropertiesMustMatchAttribute \u003C\u002Fi\u003Eи \u003Ci\u003EValidatePasswordLenghtAttribute\u003C\u002Fi\u003E, в которых мы должны изменить \u003Ci\u003ECultureInfo.CurrentUICulture\u003C\u002Fi\u003E в методе \u003Ci\u003EFormatErrorMessage\u003C\u002Fi\u003E на \u003Ci\u003ECultureInfo.CurrentCulture\u003C\u002Fi\u003E, иначе в нашем случае ничего заработает.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗапускаем приложение, переходим на страницу регистрации, выбираем язык для измнения культуры и получаем приблизительно следующее при отправке пустой формы:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F2f0\u002F182\u002F9b1\u002F2f01829b1fb605ec679b3c1e3a1486b1.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОй, как вы заметили, мы забыли локализировать имена свойств в моделях представления и получили небольшую кашу. Для этого нам нужно локализировать значения атрибута DisplayName, но это не так просто, как кажется на первый взгляд. Я расскажу об этом в следующей главе, а сейчас давайте доделаем оставшуюся деталь. Это локализация валидационных сообщений Membership API.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОткройте AccountController и переместитесь в конец файла, там должен быть метод ErrorCodeToString, который создает сообщение об ошибке, если пользовательская регистрация провалилась. Все сообщения жестко прописаны в коде. Все что нам нужно — это создать соответствующие свойства для каждого сообщения в, уже созданном, ValidationStrings файле ресурса и поместить их туда, вместо текста в методе ErrorCodeToString.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа этом все с моделью валидации. Пришло время для DisplayName!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЛокализация атрибута DisplayName\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nКак мы заметили в предыдущей главе, значение DisplayName учавствует в валидационных сообщениях, которые используют параметры для форматирования. Еще одним поводом задуматься о атрибуте DisplayName, являются текстовые метки полей в HTML-форме, они созданы при участии значения DisplayName.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРеальной проблемой является то, что DisplayName не поддерживает локализацию, не существует способа связать его с файлом ресурса, откуда он будет брать значение.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто означает, что нам нужно расширить DisplayNameAttribute и переписать свойство DisplayName, таким образом, чтобы оно возвращало локализированное имя. Я создал унаследованный класс и назвал его LocalizedDisplayName.\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E LocalizedDisplayNameAttribute : DisplayNameAttribute\u003Cbr\u002F\u003E\r\n{\u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E PropertyInfo _nameProperty;\u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Eprivate\u003C\u002Ffont\u003E Type _resourceType;\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E LocalizedDisplayNameAttribute(\u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E displayNameKey)\u003Cbr\u002F\u003E\r\n     : \u003Cfont color=\"#0000ff\"\u003Ebase\u003C\u002Ffont\u003E(displayNameKey)\u003Cbr\u002F\u003E\r\n   {\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n   }\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E Type NameResourceType\u003Cbr\u002F\u003E\r\n   {\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n     {\u003Cbr\u002F\u003E\r\n       \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E _resourceType;\u003Cbr\u002F\u003E\r\n     }\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n     {\u003Cbr\u002F\u003E\r\n       _resourceType = \u003Cfont color=\"#0000ff\"\u003Evalue\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n       \u003Cfont color=\"#008000\"\u003E\u002F\u002Fинициализация nameProperty, когда тип свойства устанавливается set'ром\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n       _nameProperty = _resourceType.GetProperty(\u003Cfont color=\"#0000ff\"\u003Ebase\u003C\u002Ffont\u003E.DisplayName, BindingFlags.Static | BindingFlags.Public);\u003Cbr\u002F\u003E\r\n     }\u003Cbr\u002F\u003E\r\n   }\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Eoverride\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E DisplayName\u003Cbr\u002F\u003E\r\n   {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n    {\u003Cbr\u002F\u003E\r\n       \u003Cfont color=\"#008000\"\u003E\u002F\u002Fпроверяет,nameProperty null и возвращает исходный значения отображаемого имени\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n       \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (_nameProperty == \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n       {\u003Cbr\u002F\u003E\r\n         \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Ebase\u003C\u002Ffont\u003E.DisplayName;\u003Cbr\u002F\u003E\r\n       }\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n       \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E (\u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E)_nameProperty.GetValue(_nameProperty.DeclaringType, \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n     }\u003Cbr\u002F\u003E\r\n   } \u003Cbr\u002F\u003E\r\n}\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nВажной деталью является понимание того, что нам нужно считывать значение свойства, каждый раз, когда оно запрашивается, поэтому метод GetValue вызывается в get'ере свойства DisplayName, а не в конструкторе.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля хранения отображаемых имен, я создал файлы ресурсов \u003Ci\u003ENames.resx\u003C\u002Fi\u003E и \u003Ci\u003ENames.ru.resx\u003C\u002Fi\u003E в папке \u003Cb\u003EResources\\Models\\Account\u003C\u002Fb\u003E и создал следующие свойства.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F706\u002F505\u002F922\u002F70650592202611bb799ef5bf5e1b9931.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь нам нужно заменить атрибут DisplayName на LocalizedDisplayName и предоставить тип класса ресурса. Измененный код RegisterModel будет выглядеть следующим образом:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fvirtser.net\u002Fblog\u002Fpost\u002Fsource-code-highlighter.aspx\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003E[PropertiesMustMatch(\u003Cfont color=\"#A31515\"\u003E\"Password\"\u003C\u002Ffont\u003E, \u003Cfont color=\"#A31515\"\u003E\"ConfirmPassword\"\u003C\u002Ffont\u003E, \u003Cbr\u002F\u003E\r\nErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"PasswordsMustMatch\"\u003C\u002Ffont\u003E, \u003Cbr\u002F\u003E\r\nErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E RegisterModel\u003Cbr\u002F\u003E\r\n   {\u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E, ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [LocalizedDisplayName(\u003Cfont color=\"#A31515\"\u003E\"RegUsername\"\u003C\u002Ffont\u003E, NameResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(Names))]\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E UserName { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E,ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [DataType(DataType.EmailAddress)]\u003Cbr\u002F\u003E\r\n     [LocalizedDisplayName(\u003Cfont color=\"#A31515\"\u003E\"RegEmail\"\u003C\u002Ffont\u003E, NameResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(Names))]\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E Email { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E, ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [ValidatePasswordLength(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"PasswordMinLength\"\u003C\u002Ffont\u003E, \u003Cbr\u002F\u003E\r\nErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [DataType(DataType.Password)]\u003Cbr\u002F\u003E\r\n     [LocalizedDisplayName(\u003Cfont color=\"#A31515\"\u003E\"RegPassword\"\u003C\u002Ffont\u003E, NameResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(Names))]\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E Password { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n     [Required(ErrorMessageResourceName = \u003Cfont color=\"#A31515\"\u003E\"Required\"\u003C\u002Ffont\u003E, ErrorMessageResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(ValidationStrings))]\u003Cbr\u002F\u003E\r\n     [DataType(DataType.Password)]\u003Cbr\u002F\u003E\r\n     [LocalizedDisplayName(\u003Cfont color=\"#A31515\"\u003E\"RegConfirmPassword\"\u003C\u002Ffont\u003E, NameResourceType = \u003Cfont color=\"#0000ff\"\u003Etypeof\u003C\u002Ffont\u003E(Names))]\u003Cbr\u002F\u003E\r\n     \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E ConfirmPassword { \u003Cfont color=\"#0000ff\"\u003Eget\u003C\u002Ffont\u003E; \u003Cfont color=\"#0000ff\"\u003Eset\u003C\u002Ffont\u003E; }\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n   }\u003C\u002Ffont\u003E\u003Cbr\u002F\u003E\r\n\u003Cfont color=\"gray\"\u003E* This source code was highlighted with \u003Cfont color=\"gray\"\u003ESource Code Highlighter\u003C\u002Ffont\u003E.\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nЗапустите приложение и убедитесь в его работоспособности, выглядеть должно так:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F512\u002F7ea\u002F52a\u002F5127ea52a925087b33e90d3695c494f6.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EКэш и локализация\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nСтранная глава, не так ли? Вы думаете как объединить кэширование и локализацию? Хорошо, давайте представим следующий сценарий: откройте HomeController и добавьте атрибут OutputCache в метод действия Index:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E [OutputCache(Duration=3600, VaryByParam=\u003Cfont color=\"#A31515\"\u003E\"none\"\u003C\u002Ffont\u003E)]\u003Cbr\u002F\u003E\r\n \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E ActionResult Index()\u003Cbr\u002F\u003E\r\n {\u003Cbr\u002F\u003E\r\n   ViewData[\u003Cfont color=\"#A31515\"\u003E\"Message\"\u003C\u002Ffont\u003E] = \u003Cfont color=\"#A31515\"\u003E\"Welcome to ASP.NET MVC!\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n   \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E View();\u003Cbr\u002F\u003E\r\n }\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nЗапускаем приложение и пробуем изменить язык на Index странице, чтобы проверить, что заголов все еще локазалирован.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВот чёрт! Вы наверное подумали, что кэширование и локазилация не могут быть использованы вместе? Не переживайте, решение данной проблемы существует :)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто вы знаете о OutputCache, а точнее, что вы знаете о свойстве VaryByCustom? Пришло время его использовать.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКогда мы запрашиваем Index страницу первый раз, OutputCache кэширует страницу. При втором запросе (когда мы нажимаем на ссылке выбора языка) OutputCache думает, что ничего не изменилось и возвращает результат из кэша, следовательно страница повторно не создается. Вот поэтому не работал выбор языка. Для разрешения данной проблемы, нам нужно каким-то образом сказать OutputCache, что версия страницы изменилась (как в случае, когда действие получает определенный параметр и мы передаем его в свойства VaryByParam).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nVaryByCustom — идеальный кандидат для нашего решения проблемы и существует специальный метод у класса System.Web.HttpApplication в файле Global.asax.cs. Мы перепишем стандартную реализацию данного метода:\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Eoverride\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E GetVaryByCustomString(\u003Cfont color=\"#2B91AF\"\u003EHttpContext\u003C\u002Ffont\u003E context, \u003Cfont color=\"#0000ff\"\u003Estring\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Evalue\u003C\u002Ffont\u003E)\u003Cbr\u002F\u003E\r\n {\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (\u003Cfont color=\"#0000ff\"\u003Evalue\u003C\u002Ffont\u003E.Equals(\u003Cfont color=\"#A31515\"\u003E\"lang\"\u003C\u002Ffont\u003E))\u003Cbr\u002F\u003E\r\n    {\u003Cbr\u002F\u003E\r\n      \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E Thread.CurrentThread.CurrentUICulture.Name;\u003Cbr\u002F\u003E\r\n    }\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#0000ff\"\u003Ebase\u003C\u002Ffont\u003E.GetVaryByCustomString(context,\u003Cfont color=\"#0000ff\"\u003Evalue\u003C\u002Ffont\u003E);\u003Cbr\u002F\u003E\r\n }\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nВначале метод проверяет, если значение параметра соответствует «lang» (никакого особого значения, простая строка, которая используется, как значение VaryByCustom) и, если это так, возвращает имя текущей культуры. Иначе возвращает значение стандартной реализации.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь добавим свойство VaryByCustom со значением «lang» в каждый атрибут OutputCache, который вы хотите использовать локализацией и на этом все. Обновленный метод действия Index выглядит следующим образом:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E [OutputCache(Duration=3600,VaryByParam=\u003Cfont color=\"#A31515\"\u003E\"none\"\u003C\u002Ffont\u003E, VaryByCustom=\u003Cfont color=\"#A31515\"\u003E\"lang\"\u003C\u002Ffont\u003E)]\u003Cbr\u002F\u003E\r\n \u003Cfont color=\"#0000ff\"\u003Epublic\u003C\u002Ffont\u003E ActionResult Index()\u003Cbr\u002F\u003E\r\n {\u003Cbr\u002F\u003E\r\n    ViewData[\u003Cfont color=\"#A31515\"\u003E\"Message\"\u003C\u002Ffont\u003E] = \u003Cfont color=\"#A31515\"\u003E\"Welcome to ASP.NET MVC!\"\u003C\u002Ffont\u003E;\u003Cbr\u002F\u003E\r\n    \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E View();\u003Cbr\u002F\u003E\r\n }\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nПопробуйте снова запустить приложение и насладится рабочим переключением культур.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы закончили последнюю главу и, надеюсь, я ничего не упустил.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"asp.net mvc"},{"titleHtml":"localization"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F86331\u002Fdbaeeb2de5aba5e044fa4191cbef0be4\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F86331\u002Fdbaeeb2de5aba5e044fa4191cbef0be4\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F86331\\\u002F\"},\"headline\":\"MVC 2: Полное руководство по локализации\",\"datePublished\":\"2010-03-04T15:14:08+03:00\",\"dateModified\":\"2010-03-04T15:52:29+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Евгений\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время напис...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F86331\\\u002F#post-content-body\",\"about\":[\"h_asp\",\"f_develop\"],\"image\":[\"http:\\\u002F\\\u002Fimg695.imageshack.us\\\u002Fimg695\\\u002F3133\\\u002Faspnetmvc2.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F1b4\\\u002F3d2\\\u002F885\\\u002F1b43d2885ef68a1c78951f21fbdaf3c8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F975\\\u002F82f\\\u002F4ff\\\u002F97582f4ff2c7ffe8c030285004aa2ced.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F81a\\\u002F343\\\u002Fb7e\\\u002F81a343b7e3e54cbb7f02ae321449ba74.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Ffbd\\\u002F7cb\\\u002F81f\\\u002Ffbd7cb81f42947c91d65e47261c6c071.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fe4b\\\u002F3f1\\\u002Fb9a\\\u002Fe4b3f1b9a158f75ca1a1c5b2487182b6.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F6fb\\\u002F244\\\u002F076\\\u002F6fb2440767bd7f34a3c3ea90b6bbbbc0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F5db\\\u002Fdb0\\\u002Fcd0\\\u002F5dbdb0cd0a683a0f00992dc722c1b80b.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Ffca\\\u002Ffca\\\u002Fe56\\\u002Ffcafcae56b19e03cb497f6210ef32adc.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F2f0\\\u002F182\\\u002F9b1\\\u002F2f01829b1fb605ec679b3c1e3a1486b1.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F706\\\u002F505\\\u002F922\\\u002F70650592202611bb799ef5bf5e1b9931.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F512\\\u002F7ea\\\u002F52a\\\u002F5127ea52a925087b33e90d3695c494f6.png\"]}","metaDescription":"В данной статье мы рассмотрим все аспекты локализации веб приложения основанного на ASP.NET MVC. Я использую последнюю доступную MVC 2 RC 2 версию на время написания данного топика.\r\n\r\nДо того, как мы...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"572164":{"id":"572164","timePublished":"2021-09-27T11:37:23+00:00","isCorporative":false,"lang":"ru","titleHtml":"Первые шаги в ОТО: прецессия орбиты Меркурия","editorVersion":"2.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"1832999","alias":"Yermack","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F690\u002F140\u002F823\u002F690140823f555d03574a59d46f648d24.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":4,"favoritesCount":34,"readingCount":4082,"score":19,"votesCount":19},"hubs":[{"relatedData":null,"id":"18840","alias":"julia","type":"collective","title":"Julia","titleHtml":"Julia","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21968","alias":"physics","type":"collective","title":"Физика","titleHtml":"Физика","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКогда речь заходит о теории относительности, частенько на ровном месте разрастаются споры, которые были занесены в почву непонимания и обильно удобрены мифами, недосказанностью и недостаточной математической подготовкой. Даже на лекциях от некоторых профессоров можно услышать, что детище гения Эйнштейна не имеет практической пользы, а на робкие попытки пролепетать что-то про спутниковые системы навигации они пренебрежительно отмахиваются, дескать, там все сложно и двояко. \u003C\u002Fp\u003E\u003Cp\u003EТак что совершенно естественно желание попробовать провести некоторые расчеты самолично, потрогать формулы, покрутить параметры, чтобы постепенно заложить интуицию в столь горячей теме.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"прецессия"},{"titleHtml":"меркурий"},{"titleHtml":"теория относительности"},{"titleHtml":"уравнения эйнштейна"},{"titleHtml":"метрики"},{"titleHtml":"спасибо scihub"},{"titleHtml":"спасибо mathpix"},{"titleHtml":"астрология_точная_наука"}]},"579370":{"id":"579370","timePublished":"2021-09-27T12:46:37+00:00","isCorporative":true,"lang":"ru","titleHtml":"WebAssembly в действии. Создание вашего первого модуля WebAssembly","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"224938","alias":"ph_piter","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3be\u002Fb11\u002F2b0\u002F3beb112b076924a916b27c845d88dcfa.jpg","speciality":""},"statistics":{"commentsCount":1,"favoritesCount":19,"readingCount":1539,"score":8,"votesCount":8},"hubs":[{"relatedData":null,"id":"17823","alias":"piter","type":"corporative","title":"Блог компании Издательский дом «Питер»","titleHtml":"Блог компании Издательский дом «Питер»","isProfiled":false},{"relatedData":null,"id":"22083","alias":"webassembly","type":"collective","title":"WebAssembly","titleHtml":"WebAssembly","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fpiter\u002Fblog\u002F579370\u002F\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F6r\u002Fkw\u002Fr1\u002F6rkwr16xmpxt2b1prdbnizbnjdo.jpeg\" align=\"left\" alt=\"image\"\u003E\u003C\u002Fa\u003E Привет, Хабр! Обращаем ваше внимание на одну новинку (сдана в типографию), доступную уже сейчас для покупки в \u003Ca href=\"https:\u002F\u002Fwww.piter.com\u002Fproduct\u002Fwebassembly-v-deystvii\" rel=\"nofollow noopener noreferrer\"\u003Eэлектронном виде\u003C\u002Fa\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКнига была написана, чтобы помочь вам понять, что такое WebAssembly, как он работает и что с ним можно и нельзя сделать. Она показывает разные варианты сборки модуля WebAssembly в зависимости от ваших потребностей. Мы начинаем с простых примеров и затем переходим к более сложным темам, например к динамическому связыванию, параллельной обработке и отладке.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКнига предназначена для разработчиков, имеющих базовое знание C и C++, JavaScript и HTML. По WebAssembly есть информация в Интернете, однако она частично устарела и обычно не очень подробна и не освещает сложные темы.. В этой книге информация подана в удобочитаемом формате, который поможет как начинающим, так и опытным разработчикам создавать модули WebAssembly и взаимодействовать с ними.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"предзаказ"}]},"579984":{"id":"579984","timePublished":"2021-09-27T15:37:51+00:00","isCorporative":true,"lang":"ru","titleHtml":"Добро пожаловать на хабрадегустацию","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2424555","alias":"anya_plotkina","fullname":"Аня Плоткина","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd4c\u002Ffcb\u002Fa37\u002Fd4cfcba3704ace3b85715c75b0db0d73.jpg","speciality":"DevRel"},"statistics":{"commentsCount":24,"favoritesCount":4,"readingCount":1090,"score":7,"votesCount":25},"hubs":[{"relatedData":null,"id":"17931","alias":"skillfactory","type":"corporative","title":"Блог компании SkillFactory","titleHtml":"Блог компании SkillFactory","isProfiled":false},{"relatedData":null,"id":"161","alias":"habr","type":"collective","title":"Habr","titleHtml":"Habr","isProfiled":false}],"flows":[{"id":"4","alias":"marketing","title":"Маркетинг"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр! Меня зовут Аня Плоткина, я занимаюсь Developer Relations в команде SkillFactory, развивая сообщество авторов и менторов, которые создают наш образовательный продукт. Это будет не совсем обычный пост, а скорее воззвание к хабрасообществу, так как я верю, что на Хабре собрались самые знающие люди в IT. Если коротко: мы хотим предоставить любому члену сообщества, который обладает экспертизой, продегустировать наше обучение. \u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff28\u002F73d\u002F875\u002Ff2873d87531005948f40169432f05ebb.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff28\u002F73d\u002F875\u002Ff2873d87531005948f40169432f05ebb.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"курсы"},{"titleHtml":"edtech"},{"titleHtml":"образование"},{"titleHtml":"образование онлайн"},{"titleHtml":"образовательные ресурсы"}]},"580050":{"id":"580050","timePublished":"2021-09-27T10:23:25+00:00","isCorporative":false,"lang":"ru","titleHtml":"Один человек ответил на 85+ тысяч вопросов на Stack Overflow (24,1 ответа в день)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1585037","alias":"sahsAGU","fullname":"Александр Гуреев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F43c\u002F6c7\u002F0ab\u002F43c6c70ab024d45474e6abe8db797573.jpg","speciality":"Автор"},"statistics":{"commentsCount":36,"favoritesCount":11,"readingCount":12537,"score":11,"votesCount":21},"hubs":[{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"306","alias":"mysql","type":"collective","title":"MySQL","titleHtml":"MySQL","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"594","alias":"sql","type":"collective","title":"SQL","titleHtml":"SQL","isProfiled":true},{"relatedData":null,"id":"7152","alias":"data_mining","type":"collective","title":"Data Mining","titleHtml":"Data Mining","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cstrong\u003EВ среднем 24,1 ответа в день (если все 365 дней в году считать рабочими) на протяжении почти 10 лет.\u003C\u002Fstrong\u003E \u003C\u002Fp\u003E\u003Cp\u003EНесколько дней назад на некоторых англоязычных ресурсах началось обсуждение одного очень необычного пользователя Stack Overflow. Его зовут Гордон Линофф (Gordon Linoff), он из Нью-Йорка, и за 9 лет и 8 месяцев своего присутствия на платформе он дал 85,201 ответов на различные вопросы, в основном связанные с SQL и дата-майнингом (цифра актуальна на 27.09.2021). \u003C\u002Fp\u003E\u003Cp\u003EЧто это за маг?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"sql"},{"titleHtml":"mysql"},{"titleHtml":"stackoverflow"},{"titleHtml":"базы данных"},{"titleHtml":"дата майнинг"},{"titleHtml":"data mining"}]},"580060":{"id":"580060","timePublished":"2021-09-27T09:00:04+00:00","isCorporative":true,"lang":"ru","titleHtml":"Арракис, который мы заслужили","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"238277","alias":"Zelenyikot","fullname":"Виталий Егоров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F22b\u002F2d7\u002F7a5\u002F22b2d77a57b687aae24784a3e53089c9.jpg","speciality":"Популяризатор космонавтики"},"statistics":{"commentsCount":127,"favoritesCount":48,"readingCount":27253,"score":155,"votesCount":167},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false},{"relatedData":null,"id":"21984","alias":"sci-fi","type":"collective","title":"Научная фантастика","titleHtml":"Научная фантастика","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F580060\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk0\u002Fds\u002Fy5\u002Fk0dsy5npxclyjdytiroqga7-leu.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nВо вселенной писателя-фантаста Фрэнка Герберта, Дюна, она же Арракис &mdash; это пустынная и маловодная планета с двумя лунами. По сюжету, она находится за пределами Солнечной системы, но если мы захотим поискать ближайшую схожую параллель,&nbsp;то больше всего подходит планета Марс. Предлагаю воспользоваться возможностями, которые даёт современная космонавтика, и совершить воображаемую прогулку на нашу Дюну.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Марс"},{"titleHtml":"Дюна"},{"titleHtml":"MRO"},{"titleHtml":"Curiosity"},{"titleHtml":"марсоход"},{"titleHtml":"ruvds_статьи"}]},"580124":{"id":"580124","timePublished":"2021-09-27T13:03:14+00:00","isCorporative":true,"lang":"ru","titleHtml":"Электролюминесцентные индикаторы из прошлого","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"146371","alias":"radiolok","fullname":"Артем Кашканов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa46\u002Fc6a\u002F151\u002Fa46c6a15193f7c0cac79d2736b107358.jpg","speciality":"Релейно-декатронный маньяк"},"statistics":{"commentsCount":19,"favoritesCount":39,"readingCount":6858,"score":84,"votesCount":84},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false},{"relatedData":null,"id":"21930","alias":"antikvariat","type":"collective","title":"Старое железо","titleHtml":"Старое железо","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Сегодня речь пойдёт об электролюминесцентных индикаторах. Но, не о тех, которые окружают вас повсюду и к которым вы привыкли, а о других — получивших огромную популярность в 60-е годы прошлого века, и так же стремительно канувших в небытие. Заодно запущу свою коллекцию индикаторов, как серийно выпускавшихся, так и уникальных опытных и даже — лабораторных образцов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F523004\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F94e\u002F51f\u002F459\u002F94e51f459ae59c9d2fe6c448cb07bcca.gif\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Индикатор"},{"titleHtml":"электролюминесцентность"},{"titleHtml":"ruvds_статьи"}]},"580150":{"id":"580150","timePublished":"2021-09-27T10:50:03+00:00","isCorporative":true,"lang":"ru","titleHtml":"Топ-5 когнитивных искажений при планировании в IT","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2794469","alias":"KM_QA","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":69,"readingCount":8296,"score":42,"votesCount":44},"hubs":[{"relatedData":null,"id":"14332","alias":"oleg-bunin","type":"corporative","title":"Блог компании Конференции Олега Бунина (Онтико)","titleHtml":"Блог компании Конференции Олега Бунина (Онтико)","isProfiled":false},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true},{"relatedData":null,"id":"20754","alias":"tech_events","type":"collective","title":"Конференции","titleHtml":"Конференции","isProfiled":false},{"relatedData":null,"id":"21990","alias":"brain","type":"collective","title":"Мозг","titleHtml":"Мозг","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"4","alias":"marketing","title":"Маркетинг"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта статья подходит для тимлидов и их подопечных, а также для всех, кто оценивает проекты и задачи. Я расскажу, как и почему мы делаем ошибки из-за когнитивных искажений. Попадаем в них мы почти все, просто потому что мы живые люди. И на примере одного дня из жизни тимлида я хочу показать, в какие искажения чаще всего влетают в IT, и&nbsp; — самое полезное&nbsp; —&nbsp; как из них можно выходить.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EЗамечу, что искать когнитивные искажения стоит, в первую очередь, у себя, а не у коллег. \u003C\u002Fstrong\u003EИ что рассказывать про искажения намного проще, чем не влетать в их на практике, однако, если этому научиться, то в перспективе это изрядно окупается, потому что экономит и время, и деньги, помогая и нам, и команде.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"когнитивные искажения"},{"titleHtml":"нейрофизиология"},{"titleHtml":"мозг"},{"titleHtml":"психология"},{"titleHtml":"тимлидство"},{"titleHtml":"тимлид"},{"titleHtml":"управление людьми"},{"titleHtml":"управление проектами и командой"},{"titleHtml":"управление командой"},{"titleHtml":"управление персоналом"}]},"580164":{"id":"580164","timePublished":"2021-09-27T11:17:58+00:00","isCorporative":true,"lang":"ru","titleHtml":"Измеряем производительность String.format() в Java","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"@cowtowncoder","originalUrl":"https:\u002F\u002Fcowtowncoder.medium.com\u002Fmeasuring-performance-of-java-string-format-or-lack-thereof-2e1c6a13362c"}}],"author":{"id":"2571061","alias":"GolovinDS","fullname":"Дмитрий Головин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd27\u002Fccd\u002F743\u002Fd27ccd743d8bccbf1a885e5dadaa7ffe.jpg","speciality":"Контент-маркетолог"},"statistics":{"commentsCount":0,"favoritesCount":16,"readingCount":2145,"score":10,"votesCount":12},"hubs":[{"relatedData":null,"id":"21052","alias":"otus","type":"corporative","title":"Блог компании OTUS","titleHtml":"Блог компании OTUS","isProfiled":false},{"relatedData":null,"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true},{"relatedData":null,"id":"375","alias":"java","type":"collective","title":"Java","titleHtml":"Java","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЯ раньше считал, что JDK в целом хорошо оптимизирована, и если в JDK есть простой способ решения какой-то задачи, то он вполне подойдет для большинства ситуаций и будет работать хорошо.\u003C\u002Fp\u003E\u003Cp\u003EНо я обнаружил, что иногда некоторые классы или методы работают на удивление плохо. Знание таких аномалий полезно при работе с требовательным к производительности кодом.\u003C\u002Fp\u003E\u003Cp\u003EВ этом посте рассмотрим один из подобных кейсов: поразительно низкая производительность \u003Ccode\u003EString.format()\u003C\u002Fcode\u003E при простой конкатенации строк.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fed4\u002F612\u002F7ef\u002Fed46127ef6d1b8f8d650482dfd335220.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fed4\u002F612\u002F7ef\u002Fed46127ef6d1b8f8d650482dfd335220.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"java"},{"titleHtml":"performance"},{"titleHtml":"jdk"}]},"580166":{"id":"580166","timePublished":"2021-09-27T11:22:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"Новости из жизни Haiku за август-сентябрь 2021","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"375413","alias":"petr97","fullname":"Ахламов Петр","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fadf\u002F830\u002F79c\u002Fadf83079c33fd56935b929935559572a.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":3,"readingCount":2028,"score":8,"votesCount":8},"hubs":[{"relatedData":null,"id":"144","alias":"open_source","type":"collective","title":"Open source","titleHtml":"Open source","isProfiled":true},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"7330","alias":"qt_software","type":"collective","title":"Qt","titleHtml":"Qt","isProfiled":true},{"relatedData":null,"id":"21918","alias":"soft","type":"collective","title":"Софт","titleHtml":"Софт","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЗдравствуйте, дорогие друзья. Продолжаю Вас знакомить на Хабре с новостями проекта Haiku.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F877\u002Fa0f\u002Fc9c\u002F877a0fc9c92663d8cd2acc965493dacc.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F877\u002Fa0f\u002Fc9c\u002F877a0fc9c92663d8cd2acc965493dacc.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Haiku"},{"titleHtml":"Intel"},{"titleHtml":"VESA"},{"titleHtml":"RISC-V"},{"titleHtml":"Веб-камера"},{"titleHtml":"Превью"},{"titleHtml":"Куба"},{"titleHtml":"Wine"},{"titleHtml":"Менеджер окон"}]},"580172":{"id":"580172","timePublished":"2021-09-27T11:45:49+00:00","isCorporative":true,"lang":"ru","titleHtml":"Небинарный ngIf*","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1050218","alias":"Waterplea","fullname":"Александр Инкин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa70\u002F569\u002Ff31\u002Fa70569f31346559ce2b8b875e7f97480.jpg","speciality":"Google Developer Expert | Angular"},"statistics":{"commentsCount":1,"favoritesCount":17,"readingCount":1114,"score":16,"votesCount":18},"hubs":[{"relatedData":null,"id":"17420","alias":"tinkoff","type":"corporative","title":"Блог компании TINKOFF","titleHtml":"Блог компании TINKOFF","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"18109","alias":"angular","type":"collective","title":"Angular","titleHtml":"Angular","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВам когда-нибудь хотелось отобразить состояние загрузки, пока \u003Ccode\u003EngIf\u003C\u002Fcode\u003E ждет ответа от \u003Ccode\u003Easync\u003C\u002Fcode\u003E-пайпа? Или, может, вы мечтали передать в \u003Ccode\u003EngFor\u003C\u002Fcode\u003E шаблон для пустого массива? Возможно, вы бросили это, потому что вам не хотелось реализовывать базовую логику этих директив самому. На самом деле в этом нет нужды! Один и тот же селектор может подцепить несколько директив, что позволяет расширить функциональность встроенных директив дополнительной логикой.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"template"},{"titleHtml":"directive"},{"titleHtml":"angular"},{"titleHtml":"structural"}]},"580194":{"id":"580194","timePublished":"2021-09-27T12:36:12+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сотрудники на карте: отвечаем на 10 важных вопросов о трекинге","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1254716","alias":"Axelus","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F118\u002Fc4f\u002F08f\u002F118c4f08ffa66438ad6be22e205d563d.png","speciality":"Разработчик"},"statistics":{"commentsCount":0,"favoritesCount":10,"readingCount":1394,"score":13,"votesCount":15},"hubs":[{"relatedData":null,"id":"20758","alias":"regionsoft","type":"corporative","title":"Блог компании RegionSoft","titleHtml":"Блог компании RegionSoft","isProfiled":false},{"relatedData":null,"id":"6398","alias":"it-infrastructure","type":"collective","title":"IT-инфраструктура","titleHtml":"IT-инфраструктура","isProfiled":true},{"relatedData":null,"id":"12365","alias":"saas","type":"collective","title":"SaaS \u002F S+S","titleHtml":"SaaS \u002F S+S","isProfiled":true},{"relatedData":null,"id":"17783","alias":"geo","type":"collective","title":"Геоинформационные сервисы","titleHtml":"Геоинформационные сервисы","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛюбой контроль сотрудников — опасный и болезненный вопрос, особенно в небольших компаниях. Часто в дружеские и открытые отношения компании не вписывается ни одна из форм контроля, рассчитывать можно только на доверие. Но пресловутый ковид и здесь внёс свои коррективы: расширение удалённой работы, увеличение штата мобильных сотрудников, частичная занятость пополнили ряды полевых сисадминов, аутсорсеров поддержки и остальных «разъездных» работников. Увы, люди разные и вслед за приятными плодами и бонусами удалёнки пришли негативные истории про поведение курьеров, опоздания и откровенные нарушения сотрудников на территории клиентов, неявки на работу или к заказчику и т.д. С этим столкнулись и ритейл, и ИТ, и любая сфера с мобильными сотрудниками. Очень хочется верить в лучшее, но без минимального контроля можно просто потерять бизнес — и тогда пострадают коллеги нерадивых сотрудников.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"geomonitor"},{"titleHtml":"геолокация"},{"titleHtml":"геозона"},{"titleHtml":"трекинг"}]},"580196":{"id":"580196","timePublished":"2021-09-27T12:28:15+00:00","isCorporative":true,"lang":"ru","titleHtml":"Зачем нужен динамический анализ кода, на примере проекта PVS-Studio","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2302295","alias":"MrROBUST","fullname":"Алексей Говоров","avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":6,"readingCount":858,"score":8,"votesCount":10},"hubs":[{"relatedData":null,"id":"18095","alias":"pvs-studio","type":"corporative","title":"Блог компании PVS-Studio","titleHtml":"Блог компании PVS-Studio","isProfiled":false},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"11606","alias":"vs","type":"collective","title":"Visual Studio","titleHtml":"Visual Studio","isProfiled":true},{"relatedData":null,"id":"21456","alias":"win_dev","type":"collective","title":"Разработка под Windows","titleHtml":"Разработка под Windows","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ разговоре с Маршаллом Клоу на подкасте CppCast #300 ABI Stability была затронута достаточно давняя новость о поддержке компиляторами Visual Studio инструмента AddressSanitizer (ASan). Мы уже достаточно давно внедрили ASan в свою систему тестирования и хотим рассказать о паре интересных ошибок, которые он помог найти.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F7ef\u002F2db\u002F210\u002F7ef2db210d677f9a8c07026d4361d3ba.png\" alt=\"0868_PVS-Studio_ASan_ru\u002Fimage2.png\"\u003E\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"pvs-studio"},{"titleHtml":"clang"},{"titleHtml":"asan"},{"titleHtml":"sanitizer"},{"titleHtml":"динамический анализ кода"}]},"580204":{"id":"580204","timePublished":"2021-09-27T12:31:54+00:00","isCorporative":false,"lang":"ru","titleHtml":"Почему using namespace std; это плохо","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"sbi, Greg Hewgill","originalUrl":"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F1452721\u002Fwhy-is-using-namespace-std-considered-bad-practice"}}],"author":{"id":"936030","alias":"F0iL","fullname":"K. just K.","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fbcd\u002F9c7\u002F270\u002Fbcd9c7270c0727e164ac404a7f929971.jpg","speciality":"Разработчик"},"statistics":{"commentsCount":17,"favoritesCount":18,"readingCount":7451,"score":16,"votesCount":26},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"524","alias":"complete_code","type":"collective","title":"Совершенный код","titleHtml":"Совершенный код","isProfiled":true},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"17188","alias":"compilers","type":"collective","title":"Компиляторы","titleHtml":"Компиляторы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EТо, что написано ниже, для многих квалифицированных C++ разработчиков будет прекрасно известной и очевидной вещью, но тем не менее, я периодически встречаю using namespace std; в коде различных проектов, а недавно в \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\" rel=\"noopener noreferrer nofollow\"\u003Eнашумевшей статье про впечатления от высшего образования\u003C\u002Fa\u003E было упомянуто, что студентов так учат писать код в вузах, поэтому давайте повторим очевидное еще раз.\u003C\u002Fp\u003E\u003Cp\u003EИтак... многие слышали, что \u003Cstrong\u003Eusing namespace std;\u003C\u002Fstrong\u003E в C++ считается плохой практикой. Касательно недопустимости использования using namespace в header-файлах вопросов обычно не возникает, если мы хоть немного понимаем, как работает препроцессор компилятора: .hpp-файлы при использовании директивы #include вставляются в код \"как есть\", и соответственно using автоматически распространится на все затронутые  .hpp- и .cpp-файлы, если файл с ним был заинклюден хоть в одном звене цепочки (на одном из сайтов это метко обозвали как \"заболевание, передающеемя половым путем\"). Но вот про .cpp-файлы все не так очевидно, так что давайте еще раз разберем, что же именно здесь не так.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F662\u002F8a9\u002Fe33\u002F6628a9e3322ab1dbca4e4976098da83d.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F662\u002F8a9\u002Fe33\u002F6628a9e3322ab1dbca4e4976098da83d.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"с++"},{"titleHtml":"namespace"},{"titleHtml":"namespaces"},{"titleHtml":"best practices"},{"titleHtml":"антипаттерны"}]},"580206":{"id":"580206","timePublished":"2021-09-27T12:51:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"МТС отказался от скрытых мобильных подписок?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2467147","alias":"Plusodin","fullname":"Владимир","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F343\u002Fb77\u002Fd12\u002F343b77d12f047368849a9880276f936e.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":13,"favoritesCount":5,"readingCount":6929,"score":17,"votesCount":19},"hubs":[{"relatedData":null,"id":"22008","alias":"cellular","type":"collective","title":"Сотовая связь","titleHtml":"Сотовая связь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр!\u003C\u002Fp\u003E\u003Cp\u003EНу что, подходит к концу первый сезон сериала «О скрытых мобильных подписках и операторах связи». Предыдущие три серии: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F550448\u002F\" rel=\"noopener noreferrer nofollow\"\u003EМегафон\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F563260\u002F\" rel=\"noopener noreferrer nofollow\"\u003EБилайн\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F571256\u002F\" rel=\"noopener noreferrer nofollow\"\u003ETele2\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНу и вишенка на этом торте – МТС.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"мтс"},{"titleHtml":"мобильные подписки"},{"titleHtml":"подписки"},{"titleHtml":"оператор связи"},{"titleHtml":"теле2"},{"titleHtml":"мегафон"},{"titleHtml":"билайн"}]},"580208":{"id":"580208","timePublished":"2021-09-27T12:52:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Основная проблема образования","editorVersion":"2.0","postType":"article","postLabels":[{"type":"recovery","data":null}],"author":{"id":"2270142","alias":"Chronicler","fullname":"Пушиз де Хрониклер","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Faa3\u002F149\u002Fdb0\u002Faa3149db0de5f6c071dfade7285fcb99.jpg","speciality":"Исследователь ближнего заполярья, почетный манул"},"statistics":{"commentsCount":19,"favoritesCount":16,"readingCount":3365,"score":7,"votesCount":21},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"17189","alias":"itstandarts","type":"collective","title":"IT-стандарты","titleHtml":"IT-стандарты","isProfiled":true},{"relatedData":null,"id":"20682","alias":"pm","type":"collective","title":"Управление проектами","titleHtml":"Управление проектами","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНа днях на Хабре появилась \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eкритическая статья\u003C\u002Fa\u003E о бакалавриате, что называется \"из первых уст\", от очередного первохода. Статья далеко не лишена смысла, однако главная проблема не была в ней затронута. А заключается она вовсе не в обилии посторонних дисциплин и даже не в том, что в учебных заведениях так мало разъясняют суровую конкретику жизни \"научиться штамповать JavaScript сайты за месяц\".  Да, эти проблемы присутствуют, наряду с плохой подготовкой педагогов и отношением к студентам, но не они на корню обесценивают нынешнее образование.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Что же на самом деле не так?","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"программирование"},{"titleHtml":"образование"},{"titleHtml":"курсы не нужны"},{"titleHtml":"вуз"}]},"580210":{"id":"580210","timePublished":"2021-09-27T12:53:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"PHP Дайджест № 212 (13 – 27 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"100489","alias":"pronskiy","fullname":"Роман Пронский","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F27f\u002Fb99\u002Feb3\u002F27fb99eb3e30e3221c5839e88be02395.jpg","speciality":"PHP"},"statistics":{"commentsCount":1,"favoritesCount":16,"readingCount":4505,"score":45,"votesCount":45},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"477","alias":"symfony","type":"collective","title":"Symfony","titleHtml":"Symfony","isProfiled":true},{"relatedData":null,"id":"9554","alias":"yii","type":"collective","title":"Yii","titleHtml":"Yii","isProfiled":true},{"relatedData":null,"id":"18812","alias":"laravel","type":"collective","title":"Laravel","titleHtml":"Laravel","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fek\u002F6r\u002Fr1\u002Fek6rr1odvyzb89tfv0lq4cmfxi4.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПодборка свежих новостей и материалов из мира PHP.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВышел PHP 8.1 RC2 и уже доступен первый пакет с использованием перечислений, будет сделан форк Magento, новый тип стандартов PER в дополнение к PSR, стартовала PhpStorm 2021.3 EAP, Symfony 6 будет полностью типизирован — как обновляться?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля PHP 8.2 предложены новые оптимизированные структуры данных.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже в выпуске порция инструментов, полезные статьи, видео и анонсы двух митапов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПриятного чтения!\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"php-дайджест"},{"titleHtml":"PHP"},{"titleHtml":"Symfony"},{"titleHtml":"Laravel"},{"titleHtml":"Magento"},{"titleHtml":"PHPUnit"},{"titleHtml":"PHP 8.1"},{"titleHtml":"PHP 8.2"}]},"580228":{"id":"580228","timePublished":"2021-09-27T16:41:21+00:00","isCorporative":true,"lang":"ru","titleHtml":"Идеальная светодиодная лампа за 21 рубль","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"108988","alias":"AlexeyNadezhin","fullname":"Алексей Надежин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffdc\u002F3ac\u002F9a2\u002Ffdc3ac9a2dc0107cc956f1bd0cf5fc2b.jpg","speciality":"Блогер"},"statistics":{"commentsCount":40,"favoritesCount":79,"readingCount":20315,"score":96,"votesCount":100},"hubs":[{"relatedData":null,"id":"21646","alias":"lamptest","type":"corporative","title":"Блог компании LampTest","titleHtml":"Блог компании LampTest","isProfiled":false},{"relatedData":null,"id":"21894","alias":"gadgets","type":"collective","title":"Гаджеты","titleHtml":"Гаджеты","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Удивительно осознавать, что достаточно сложное электронное устройство, которым является светодиодная лампочка, может стоить 21 рубль. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕщё сложнее поверить, что эта лампочка безукоризненна по всем параметрам.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F20f\u002F849\u002Ffcd\u002F20f849fcd6a3891f506676fc87223bdf.jpg\"\u003E\u003C\u002Fdiv\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"led"},{"titleHtml":"светодиодные лампы"},{"titleHtml":"тест"}]},"580232":{"id":"580232","timePublished":"2021-09-27T15:06:55+00:00","isCorporative":true,"lang":"ru","titleHtml":"Sphinx Search 2 -&gt; 3: бенефиты и проблемы миграции","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2793093","alias":"kalaverin","fullname":"Alex Kalaverin","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F0fc\u002F80d\u002Fbc5\u002F0fc80dbc520b0a0485863bf02d724197.jpg","speciality":"software & security engineer"},"statistics":{"commentsCount":3,"favoritesCount":2,"readingCount":484,"score":6,"votesCount":6},"hubs":[{"relatedData":null,"id":"18218","alias":"wargaming","type":"corporative","title":"Блог компании Wargaming","titleHtml":"Блог компании Wargaming","isProfiled":false},{"relatedData":null,"id":"7929","alias":"sphinx","type":"collective","title":"Sphinx","titleHtml":"Sphinx","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EАвтобиографический трактат о кардинальном обновлении версии поисковой системы, увлекательном приготовлении оного и ожидаемо скучный эпилог о том, как всё хорошо получилось: у нас был Sphinx Search 2.0.9, мы вовремя спохватились (посмотрев на календарь) и повезли актуальную версию.\u003Cbr\u003E\u003Cbr\u003EСделать что-нибудь — это полдела, сопровождать что-либо весь жизненный цикл — действительный путь настоящего уважающего себя самурая. Касается чего угодно — от проведения полноформатных ивентов с тысячами посетителей, до проектирования, запуска, серийного производства, обслуживания и выведения из эксплуатации с утилизацией пассажирских и грузовых авиалайнеров.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc5a\u002F5ed\u002F4bb\u002Fc5a5ed4bb6e2408b036a92eb547ccb63.png","buttonTextHtml":"Проследовать в длиннопост","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc5a\u002F5ed\u002F4bb\u002Fc5a5ed4bb6e2408b036a92eb547ccb63.png","fit":"cover","positionY":11.136363636364,"positionX":1.025641025641}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"sphinx search"}]},"580304":{"id":"580304","timePublished":"2021-09-27T18:31:25+00:00","isCorporative":true,"lang":"ru","titleHtml":"Как сделать 248MP фотографию Солнца","editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Simon Tang","originalUrl":"https:\u002F\u002Fpetapixel.com\u002F2021\u002F09\u002F15\u002Fa-closer-look-how-i-created-a-248mp-photo-of-the-sun\u002F"}}],"author":{"id":"2192534","alias":"Itelma","fullname":"T-800","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fc3a\u002Fd1e\u002F43d\u002Fc3ad1e43d500046c3228c9494b510912.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":9,"favoritesCount":9,"readingCount":2575,"score":14,"votesCount":14},"hubs":[{"relatedData":null,"id":"22356","alias":"itelma","type":"corporative","title":"Блог компании НПП ИТЭЛМА","titleHtml":"Блог компании НПП ИТЭЛМА","isProfiled":false},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21932","alias":"photo","type":"collective","title":"Фототехника","titleHtml":"Фототехника","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe02\u002F643\u002Fa55\u002Fe02643a550e20aa10c366e20956e4b40.jpg\" alt=\"image\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003EЭто изображение диска нашего Солнца создано с помощью большого рефракторного (линзового) телескопа и высокоскоростной монохромной CMOS-камеры.\u003C\u002Fi\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКаждый день над нашими головами висит большой шар света. Он там всегда, и никто не обращает на него внимания. Разумеется, мы не советуем вам долго смотреть на него и при этом ослепнуть, тем не менее, наука дала нам возможность смотреть прямо на солнце совершенно безопасно.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПоскольку техника стала более доступной, обычный человек может заглянуть в многочисленные слои Солнца с помощью специального оборудования, которое может купить в любом хорошем магазине телескопов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этой статье мы подробно рассмотрим слой, известный как хромосфера: область Солнца, видимая в оранжево-красном спектре. При помощи специального фильтра это устройство блокирует весь нежелательный свет, пропуская при этом определенный диапазон частот, который нас интересует.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"обработка изображений"},{"titleHtml":"фототехника"}]},"580336":{"id":"580336","timePublished":"2021-09-28T05:40:43+00:00","isCorporative":false,"lang":"ru","titleHtml":"DOM, который построил Chrome. Или не построил? Или не Chrome? Или не DOM?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2671923","alias":"Maxim_from_HW","fullname":"Максим","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F33e\u002F1a0\u002F5ba\u002F33e1a05ba0d2d651cc292ce76ad45ee1.png","speciality":"CEO"},"statistics":{"commentsCount":3,"favoritesCount":13,"readingCount":1172,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"524","alias":"complete_code","type":"collective","title":"Совершенный код","titleHtml":"Совершенный код","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EОбычный, теневой, виртуальный, инкрементальный… Как получилось, что простой программный интерфейс доступа к элементам веб-страниц обзавелся таким количеством «родственников»? Чем современные фреймворки не устраивает стандартная объектная модель документа или просто DOM? Что и как на самом деле отрисовывает браузер в процессе рендера веб-страницы?\u003C\u002Fp\u003E\u003Cp\u003EВсем привет, это \u003Ca href=\"https:\u002F\u002Fwww.facebook.com\u002Fmy.kravets\" rel=\"noopener noreferrer nofollow\"\u003EМакс Кравец\u003C\u002Fa\u003E из Holyweb. Помните сцену из Матрицы, в которой один из юных кандидатов в Избранные наставляет Нео: «Не пытайся согнуть ложку. Первое, что ты должен понять — ложки не существует!»? Давайте переформулирую: «Не пытайся изменить DOM...». А вот о том, что прячется под многоточием, мы сегодня и поговорим.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5c9\u002F1cb\u002Fe9b\u002F5c91cbe9b4674ea479fed0a55f81fb7c.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5c9\u002F1cb\u002Fe9b\u002F5c91cbe9b4674ea479fed0a55f81fb7c.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"dom"},{"titleHtml":"google chrome"},{"titleHtml":"javascript"},{"titleHtml":"css"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["580060","580228","580124","580210","580150","572164","580206","580204","580172","580304","580194","580050","580164","580336","579370","580196","580166","579984","580208","580232"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":3},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["539406","484582","149802"],"similarListRefs":{"149802":{"id":"149802","timePublished":"2012-08-18T10:57:03+00:00","isCorporative":true,"lang":"ru","titleHtml":"Локализация ASP.NET MVC приложений","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"170536","alias":"polyakova","fullname":"Евгения Полякова","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Feb3\u002F580\u002Fd99\u002Feb3580d99b41f9bb71620a39f14b458f.jpg","speciality":null},"statistics":{"commentsCount":75,"favoritesCount":103,"readingCount":22044,"score":14,"votesCount":20},"hubs":[{"id":"17802","alias":"knoema","type":"corporative","title":"Блог компании «Knoema»","titleHtml":"Блог компании «Knoema»","isProfiled":false},{"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"id":"7149","alias":"asp","type":"collective","title":"ASP","titleHtml":"ASP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"На тему локализации уже было несколько статей на Хабре, например \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fpost\u002F143204\u002F\"\u003EЛокализация ASP.NET MVC приложения с помощью БД \u003C\u002Fa\u003Eили \u003Ca href=\"http:\u002F\u002Fhabrahabr.ru\u002Fpost\u002F86331\u002F\"\u003EMVC 2: Полное руководство по локализации\u003C\u002Fa\u003E, но все-таки проблема до сих пор актуальна.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСовсем недавно у нас возникла задача локализации (перевода) интерфейса сайта на другой язык. Наш проект разрабатывается на ASP.NET MVC и в проекте достаточно много клиентского кода на JavaScript и шаблонах jQuery. Еще одним важным моментом для нас является возможность интерактивной работы переводчиков, фактически перевода сайта на лету.\u003Cbr\u002F\u003E\r\n ","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"484582":{"id":"484582","timePublished":"2020-01-19T16:06:43+00:00","isCorporative":false,"lang":"ru","titleHtml":"ASP.NET MVC — Entity Framework, MySQL и использование Dependency Resolver для выбора репозитория","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"5583","alias":"Duke","fullname":"Duke","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd51\u002F6d1\u002F406\u002Fd516d1406763d13328e1f1a24c246bbf.png","speciality":"Веб-программист"},"statistics":{"commentsCount":9,"favoritesCount":16,"readingCount":5370,"score":1,"votesCount":3},"hubs":[{"id":"306","alias":"mysql","type":"collective","title":"MySQL","titleHtml":"MySQL","isProfiled":true},{"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"id":"546","alias":"net","type":"collective","title":".NET","titleHtml":".NET","isProfiled":true},{"id":"7149","alias":"asp","type":"collective","title":"ASP","titleHtml":"ASP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003ELegacy технологии\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003EПредупреждение: ASP.NET MVC уже устарел. Рекомендуется использовать ASP.NET Core. Но если вам интересно, то читайте.\u003Cbr\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nРешил немного расширить \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F482346\u002F\"\u003Eпредыдущую статью про ASP.NET MVC и MySQL\u003C\u002Fa\u003E. В ней речь шла про работу с MySQL в ASP.NET MVC не через практически стандартный ORM Entity Framework (EF), а с помощью прямого доступа к СУБД через ADO.NET. И была приведена реализация этого метода доступа. И хотя метод устаревший и не рекомендуемый к использованию, но иногда полезен: например, в высоконагруженных приложениях или когда разработчик сталкивается с ситуацией, когда ORM не может сгенерировать корректно работающий SQL-запрос. И иногда можно совмещать в приложении оба способа — и через ORM и через ADO.NET. В итоге я подумал, и решил дописать приложение: добавив в него реализацию репозитория для Entity Framework и сделать выбор из них зависимым от параметра приложения с помощью Dependency Resolver.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВесь код можно взять вот по \u003Ca href=\"https:\u002F\u002Fyadi.sk\u002Fd\u002FEArrZdGh_iVaJg\"\u003Eэтому адресу\u003C\u002Fa\u003E, ниже этот код будет частично презентован с небольшими ссылками и пояснениями по отношению к \u003Ca href=\"https:\u002F\u002Fyadi.sk\u002Fd\u002FEArrZdGh_iVaJg\"\u003Eпредыдущему проекту\u003C\u002Fa\u003E. А здесь можно \u003Ca href=\"https:\u002F\u002Fexample-mvc.azurewebsites.net\u002F\"\u003Eпосмотреть на работу приложения\u003C\u002Fa\u003E.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"539406":{"id":"539406","timePublished":"2021-01-26T16:41:54+00:00","isCorporative":true,"lang":"ru","titleHtml":"Переход с Azure на GCP, с ASP.NET MVC на ASP.NET Core 3.1","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"7114","alias":"DataArt","fullname":"DataArt","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3bc\u002Fd08\u002F30a\u002F3bcd0830ae333662c41e475082f68dd6.png","speciality":"Пользователь"},"statistics":{"commentsCount":16,"favoritesCount":26,"readingCount":4172,"score":7,"votesCount":9},"hubs":[{"id":"5275","alias":"dataart","type":"corporative","title":"Блог компании DataArt","titleHtml":"Блог компании DataArt","isProfiled":false},{"id":"546","alias":"net","type":"collective","title":".NET","titleHtml":".NET","isProfiled":true},{"id":"21470","alias":"cloud_services","type":"collective","title":"Облачные сервисы","titleHtml":"Облачные сервисы","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование","titleHtml":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cem\u003EАвтор: Андрей Жуков, .NET Team Leader, DataArt\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EВ статье я описал собственный успешный опыт миграции реального проекта с одной облачной платформы на другую. Конечно, это не единственный возможный путь. Но думаю, здесь можно найти подсказки, которые облегчат жизнь всем, кому такой переход только предстоит. Тем не менее, вам придется учитывать особенности вашего проекта и руководствоваться здравым смыслом.&nbsp;\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffda\u002F9d8\u002F2bc\u002Ffda9d82bc67c2dedecd0ee55c695ab48.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffda\u002F9d8\u002F2bc\u002Ffda9d82bc67c2dedecd0ee55c695ab48.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"jeje":{"scoreStats":{"score":96.7,"votesCount":1192},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"32436","alias":"jeje","fullname":"Евгений","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fea1\u002F74b\u002F369\u002Fea174b36987026f7ed9a0680ac8008db.jpg","speciality":"Пользователь"}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
