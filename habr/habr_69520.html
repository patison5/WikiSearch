<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Цена вызовов / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/69520\/"},"headline":"Цена вызовов","datePublished":"2009-09-14T00:48:19+04:00","dateModified":"2009-09-14T00:48:19+04:00","author":{"@type":"Person","name":"Victor Pavlychko"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьез...","url":"https:\/\/habr.com\/ru\/post\/69520\/#post-content-body","about":["h_net","f_develop"],"image":["https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e42\/983\/553\/e4298355389fcb786e8809af6a71aec7.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/84f\/8fa\/122\/84f8fa122625d13197645f59f5d8fc76.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/cea\/def\/47b\/ceadef47bad5a5fe1db71865df7e9599.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Цена вызовов" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Цена вызовов" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Цена вызовов" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/69520/9424a3dc546d604b566d440d16cb708b/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/69520/9424a3dc546d604b566d440d16cb708b/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/69520/9424a3dc546d604b566d440d16cb708b/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/69520/9424a3dc546d604b566d440d16cb708b/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/69520/9424a3dc546d604b566d440d16cb708b/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="69520" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2009-09-13T20:48:19.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/69520/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/69520/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/69520/9424a3dc546d604b566d440d16cb708b/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/nullbie/" title="nullbie" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/d50/14b/0d9/d5014b0d926b892b560cba658ae0809c.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/nullbie/" class="tm-user-info__username">
      nullbie
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2009-09-13T20:48:19.000Z" title="2009-09-14, 00:48">14  сентября  2009 в 00:48</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Цена вызовов</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/net/" class="tm-article-snippet__hubs-item-link"><span>.NET</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга приложения и оптимизации его логики. Вооружившись такими мыслями я наткнулся на метод <code>QuickSort</code> из стандартного класса <code>ArraySortHelper&lt;T></code> использующийся для сортировки массивов в .Net.<br/>
<br/>
Интересным моментом здесь является сравнение элементов — для обеспечения гибкости его вынеслив отдельный класс реализующий интерфейс <code>IComparer&lt;T></code>. Вооружившись разнообразными мыслями и студией было решено оценить сколько же такая гибкость стоит и что с этим можно было бы сделать — под катом анализ затрат на сравнение элементов во временя работы QuickSort.<br/>
<br/>
<a name="habracut"></a><br/>
<br/>
Итак у нас есть стандартная реализация быстрой сортировки Хоара, которая для сравнения элементов массива использует метод <code>Compare(T x, T y)</code> из объекта реализующего интерфейс <code>IComparer&lt;T></code>. Для наших опытов, при помощи рефлектора, получаем код метода сортировки в следующем виде:<br/>
<br/>
<blockquote><code><a href="http://s-c.me/2979/s"></a><a href="http://s-c.me/2979/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#0000ff">static public void</font> Sort&lt;T, TValue>(T[] keys, TValue[] values, <font color="#0000ff">int</font> left, <font color="#0000ff">int</font> right, IComparer&lt;T> comparer)</li>
<li>{</li>
<li>    <font color="#0000ff">do</font></li>
<li>    {</li>
<li>        <font color="#0000ff">int</font> index = left;</li>
<li>        <font color="#0000ff">int</font> num2 = right;</li>
<li>        T y = keys[index + ((num2 - index) >> <font color="#A31515">1</font>)];</li>
<li>        <font color="#0000ff">do</font></li>
<li>        {</li>
<li>            <font color="#0000ff">try</font></li>
<li>            {</li>
<li><font color="#008000">/* Cmp 1 */</font>     <font color="#0000ff">while</font> (comparer.Compare(keys[index], y) &lt; <font color="#A31515"> 0</font>)</li>
<li>                {</li>
<li>                    index++;</li>
<li>                }</li>
<li><font color="#008000">/* Cmp 2 */</font>     <font color="#0000ff">while</font> (comparer.Compare(y, keys[num2]) &lt; <font color="#A31515"> 0</font>)</li>
<li>                {</li>
<li>                    num2--;</li>
<li>                }</li>
<li>            }</li>
<li>            <font color="#0000ff">catch</font> (<font color="#2b91af">IndexOutOfRangeException</font>)</li>
<li>            {</li>
<li>                <font color="#0000ff">throw new</font> <font color="#2b91af">ArgumentException</font>(<font color="#0000ff">null</font>, <font color="#A31515">"keys"</font>);</li>
<li>            }</li>
<li>            <font color="#0000ff">catch</font> (<font color="#2b91af">Exception</font>)</li>
<li>            {</li>
<li>                <font color="#0000ff">throw new</font> <font color="#2b91af">InvalidOperationException</font>();</li>
<li>            }</li>
<li>            <font color="#0000ff">if</font> (index > num2)</li>
<li>            {</li>
<li>                <font color="#0000ff">break</font>;</li>
<li>            }</li>
<li>            <font color="#0000ff">if</font> (index &lt; num2)</li>
<li>            {</li>
<li>                T local2 = keys[index];</li>
<li>                keys[index] = keys[num2];</li>
<li>                keys[num2] = local2;</li>
<li>                <font color="#0000ff">if</font> (values != <font color="#0000ff">null</font>)</li>
<li>                {</li>
<li>                    TValue local3 = values[index];</li>
<li>                    values[index] = values[num2];</li>
<li>                    values[num2] = local3;</li>
<li>                }</li>
<li>            }</li>
<li>            index++;</li>
<li>            num2--;</li>
<li>        }</li>
<li>        <font color="#0000ff">while</font> (index &lt;= num2);</li>
<li>        <font color="#0000ff">if</font> ((num2 - left) &lt;= (right - index))</li>
<li>        {</li>
<li>            <font color="#0000ff">if</font> (left &lt; num2)</li>
<li>            {</li>
<li><font color="#008000">/* Call 1 */</font>    Sort&lt;T, TValue>(keys, values, left, num2, comparer);</li>
<li>            }</li>
<li>            left = index;</li>
<li>        }</li>
<li>        <font color="#0000ff">else</font></li>
<li>        {</li>
<li>            <font color="#0000ff">if</font> (index &lt; right)</li>
<li>            {</li>
<li><font color="#008000">/* Call 2 */</font>    Sort&lt;T, TValue>(keys, values, index, right, comparer);</li>
<li>            }</li>
<li>            right = num2;</li>
<li>        }</li>
<li>    }</li>
<li>    <font color="#0000ff">while</font> (left &lt; right);</li>
<li>} </li>
</ol></font></code></blockquote><br/>
Поскольку исследовать мы будем исключительно вызов операции сравенния, то все изменения этой функции будут делаться только в строках 1, 12, 16, 53 и 61, которые помечены в листинге опознавательными комментариями.<br/>
<br/>
<h3>Часть первая. Опыты с массивами чисел (int)</h3><br/>
Для начала оценим вклад накладных расходов на вызов операции сравнения двух чисел в длительность выполнения процесса сортировки. Для этого в приведенной функции меняем вызовы «<code>comparer.Compare(a, b)</code>» на выражения вида «<code>a - b</code>». Замеряем время работы обеих версий и видим… Видим ужасную картину — практически две трети времени тратится на организацию вызова предиката сравниващего числа:<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/e42/983/553/e4298355389fcb786e8809af6a71aec7.png"/><br/>
<br/>
Что же могло так сильно замедлить работу? Очевидно что дело в излишней сложности процесса сравнения (и это при том, что сама операция сводится к вычитанию двух чисел!):<br/>
<br/>
<ol>
<li>Проверка объекта <code>comparer</code> на <code>null</code></li>
<li>Поиск метода <code>Compare</code> в виртуальной таблице объекта</li>
<li>Вызов метода <code>Compare</code> для объекта <code>comparer</code></li>
<li>Вызов метода <code>CompareTo</code></li>
<li>Собственно сравнение чисел</li>
</ol><br/>
При этом первые два пункта являются отличием CIL-инструкции <code>callvirt</code> от <code>call</code>. Напомню, что <code>callvirt</code>, из-за наличия проверки на <code>null</code>, генерируется для вызова <i>всех</i> нестатических методов классов независимо от их виртуальности.<br/>
<br/>
Ну а четвертый пункт вызван стандартной реализацией comparer-а (все проверки на <code>null</code> естественным образом убираются JIT-компилятором при подстановке <code>int</code> вместо <code>T</code>):<br/>
<br/>
<blockquote><code><a href="http://s-c.me/3068/s"></a><a href="http://s-c.me/3068/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#0000ff">class</font> <font color="#2b91af">GenericComparer</font>&lt;<font color="#2b91af">T</font>> : IComparer&lt;<font color="#2b91af">T</font>> <font color="#0000ff">where</font> <font color="#2b91af">T</font> : <font color="#2b91af">IComparable</font>&lt;<font color="#2b91af">T</font>></li>
<li>{</li>
<li>    <font color="#0000ff">public int</font> Compare(<font color="#2b91af">T</font> x, <font color="#2b91af">T</font> y)</li>
<li>    {</li>
<li>        <font color="#0000ff">if</font> (x != <font color="#0000ff">null</font>)</li>
<li>        {</li>
<li>            <font color="#0000ff">if</font> (y != <font color="#0000ff">null</font>)</li>
<li>            {</li>
<li>                <font color="#0000ff">return</font> x.CompareTo(y);</li>
<li>            }</li>
<li>            <font color="#0000ff">return</font> <font color="#A31515">1</font>;</li>
<li>        }</li>
<li>        <font color="#0000ff">if</font> (y != <font color="#0000ff">null</font>)</li>
<li>        {</li>
<li>            <font color="#0000ff">return</font> -<font color="#A31515">1</font>;</li>
<li>        }</li>
<li>        <font color="#0000ff">return</font> <font color="#A31515"> 0</font>;</li>
<li>    }</li>
<li>} </li>
</ol></font></code></blockquote><br/>
Будем убирать слои по одному, начнем с вызова <code>CompareTo</code>, благо это делается элементарно — написанием своего comparer'а следующего вида:<br/>
<br/>
<blockquote><code><a href="http://s-c.me/2980/s"></a><a href="http://s-c.me/2980/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#0000ff">class</font> <font color="#2b91af">IntComparer</font> : <font color="#2b91af">IComparer</font>&lt;<font color="#0000ff">int</font>></li>
<li>{</li>
<li>    <font color="#0000ff">public int</font> Compare(<font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y)</li>
<li>    {</li>
<li>        <font color="#0000ff">return</font> x - y;</li>
<li>    }</li>
<li>} </li>
</ol></font></code></blockquote><br/>
Замеры показывают выиграш 15% по времени. И это при том, что мы рассматриваем массив целых чисел и вызов <code>CompareTo</code> для них, как и для всех методов для всех структур является невиртуальным. Следующий слой, отличие между <code>callvirt</code> и <code>call</code> при вызове, проверить сложнее, особенно в рамках тех же требований к гибкости функции сортировки. Впрочем нет ничего невозможного — при работе через инстанцию структуры, все методы всех структур вызываются при помощи операции <code>call</code>, в том числе реализации методов унаследованных от интерфейсов. Благодаря этому мы можем сделать следующую оптимизацию:<br/>
<br/>
<blockquote><code><a href="http://s-c.me/2982/s"></a><a href="http://s-c.me/2982/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#0000ff">static public void</font> SortNoVirt&lt;T, TValue, TCmp>(T[] keys, TValue[] values, <font color="#0000ff">int</font> left, <font color="#0000ff">int</font> right, TCmp comparer) <font color="#0000ff">where</font> TCmp : <font color="#2b91af">IComparer</font>&lt;T></li>
<li>{</li>
<li>    <font color="#008000">// ...</font></li>
<li>}</li>
<li> </li>
<li><font color="#0000ff">struct</font> <font color="#2b91af">IntComparerNoVirt</font> : <font color="#2b91af">IComparer</font>&lt;<font color="#0000ff">int</font>></li>
<li>{</li>
<li>    <font color="#0000ff">public int</font> Compare(<font color="#0000ff">int</font> x, <font color="#0000ff">int</font> y)</li>
<li>    {</li>
<li>        <font color="#0000ff">return</font> x - y;</li>
<li>    }</li>
<li>} </li>
</ol></font></code></blockquote><br/>
Благодаря передаче фактического типа в функцию сортировки, при разворачивании параметров генерика будет учтен реальный тип comparer'а и для вызова операции сравнения задействуется более эффективная инструкция <code>call</code>. Замеры времени показывают прирост произодительности около 35% от времени выполнения «стандартного» вызова, при этом прирост от последующей замены вызова <code>Compare</code> на отнимание составляет 18%.<br/>
<br/>
<i>На заметку:</i> В библиотеке STL из C++ все предикаты передаются именно таким образом — тип идет через параметр шаблона. Дополнительно, благодаря этому трюку, компилятор C++ получает полную информацию о типах и как правило производит разворачивание (inlining) кода предиката, тем самым полностью исключая затраты на вызов метода. Мои опыты с дизассемблированием результатов работы .Net JIT показали, что вопреки всем ухищрениям, здесь никакого разворачивания не происходит. Судя по всему это либо связано с генериками, либо работает оно исключительно для статических методов.<br/>
<br/>
<i>На заметку #2:</i> Сэкономить на передаче comparer'а при помомщи пустой структуры не удалось — размер (<code>sizeof</code>) структуры без полей в C# оказался равным единице (а не нулю, как хотелось). В VC++ размер пустой структуры также равен единице, при этом в стандарте говорится, что размер пустого класса (структуры) должен быть больше нуля. Сделано это из-за популярной конструкции для вычисления длины массива «<code>sizeof(array) / sizeof(array[0])</code>». В C#/.Net это видимо сделано для бинарной совместимости при взаимодействии с кодом написаным на C++.<br/>
<br/>
Если свести данные в единую диаграмму, получим следующее распределение времени выполнения сортировки стандартным методом:<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/84f/8fa/122/84f8fa122625d13197645f59f5d8fc76.png"/><br/>
<br/>
Напрашивающийся очевидный вывод — при разработке тяжелых в вычислительном плане библитек есть смысл частовызываемые предикаты делать структурами и их тип передавать через параметры генерика.<br/>
<br/>
<h3>Часть вторая. А что с будет объектами?</h3><br/>
Но не числами едиными живут наши приложения :) Возник вопрос влияния в контексте работы с массивами объектов, проверим? Легко! В качестве опытного образца берем вот такой простенький класс:<br/>
<br/>
<blockquote><code><a href="http://s-c.me/3069/s"></a><a href="http://s-c.me/3069/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#0000ff">class</font> <font color="#2b91af">IntObj</font> : <font color="#2b91af">IComparable</font>&lt;<font color="#2b91af">IntObj</font>></li>
<li>{</li>
<li>    <font color="#0000ff">public int value</font>;</li>
<li> </li>
<li>    <font color="#0000ff">public int</font> CompareTo(<font color="#2b91af">IntObj</font> other)</li>
<li>    {</li>
<li>        <font color="#0000ff">return value</font> - other.<font color="#0000ff">value</font>;</li>
<li>    }</li>
<li>} </li>
</ol></font></code></blockquote><br/>
И проводим аналогичные нехитрые опыты но уже с массивом объектов, в итоге получаем чуть другую ситуацию:<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/cea/def/47b/ceadef47bad5a5fe1db71865df7e9599.png"/><br/>
<br/>
И если соотношение между частями процесса сравнения остались неизменными, то их вклад в общее время заметно уменьшился. Взникает вполне везонный вопрос: а в чем же дело, что замедляется? Беглого взгляда на код функции сортировки достаточно чтоб понять: замедлилась работа единственного отличающегося куска кода — обмена значений между элементами массива. Но ведь мы работает со ссылочным типом, переставляются только указатели, а они «в душе» числа! Раз интересно, значит будем смотреть что там так замедляется, чтение CIL пользы особо не дает — код обмена асболютно идентичный за исключением использования инструкций <code>*.i4</code> для чисел и <code>*.ref</code> для объектов.<br/>
<br/>
Раз не помог CIL, значит дело в выходе из JIT, значит будем смотреть ассемблер :) Здесь нас ждет весялая неприятность — независимо от крнфигурации (Debug/Release), JIT-компилятор смотрик на свое окружение и, в зависимости от наличия присоединенного к процессу отладчика, генерирует разный код. Поэтому для доступа к реальному коду через окно Disassembly мы будем запускать приложение без отладки а точки останова поставим в виде вызовов <code>Debugger.Break();</code>. Далее приведены листинги с кодом который генерируется для обмена местами значений в двух ячейках массива:<br/>
<br/>
<table>
<tr>
<td><code><a href="http://s-c.me/3070/s"></a><a href="http://s-c.me/3070/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#008000">; ==============================================</font></li>
<li><font color="#008000">; swap in int array</font></li>
<li><font color="#008000">;   124:  T local2 = keys[index];</font></li>
</ol></font></code><br/>
</td>
<td><code><a href="http://s-c.me/3070/s"></a><a href="http://s-c.me/3070/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#008000">; ==============================================</font></li>
<li><font color="#008000">; swap in IntObj array</font></li>
<li><font color="#008000">;   124:  T local2 = keys[index];</font></li>
</ol></font></code><br/>
</td>
</tr>
<tr>
<td><code><font color="black"><ol>
<li>00000142  movsxd  rcx,ebx </li>
<li>00000145  mov     rsi,qword ptr [rbp+68h] </li>
<li>00000149  mov     rax,qword ptr [rsi+8] </li>
<li>0000014d  cmp     rcx,rax </li>
<li>00000150  jae     0000000000000275 </li>
<li>00000156  mov     edx,dword ptr [rsi+rcx*4+10h] </li>
<li><font color="#008000">;   125:  keys[index] = keys[num2];</font></li>
<li>0000015a  movsxd  r8,edi </li>
<li>0000015d  cmp     r8,rax </li>
<li>00000160  jae     0000000000000275 </li>
<li>00000166  mov     eax,dword ptr [rsi+r8*4+10h] </li>
<li><font color="#ff0000"><b>0000016b  mov     dword ptr [rsi+rcx*4+10h],eax </b></font></li>
<li><font color="#008000">;   126:  keys[num2] = local2;</font></li>
<li><font color="#ff0000"><b>0000016f  mov     dword ptr [rsi+r8*4+10h],edx </b></font></li>
</ol></font></code><br/>
</td>
<td><code><font color="black"><ol>
<li>00000146  movsxd  r12,ebx </li>
<li>00000149  mov     rsi,qword ptr [rbp+68h] </li>
<li>0000014d  mov     rax,qword ptr [rsi+8] </li>
<li>00000151  cmp     r12,rax </li>
<li>00000154  jae     0000000000000285 </li>
<li>0000015a  mov     r14,qword ptr [rsi+r12*8+18h] </li>
<li><font color="#008000">;   125:  keys[index] = keys[num2];</font></li>
<li>0000015f  movsxd  r13,edi </li>
<li>00000162  cmp     r13,rax </li>
<li>00000165  jae     0000000000000285 </li>
<li>0000016b  mov     r8,qword ptr [rsi+r13*8+18h] </li>
<li>00000170  mov     edx,ebx </li>
<li>00000172  mov     rcx,rsi </li>
<li><font color="#ff0000"><b>00000175  call    FFFFFFFFEF5F7CB0 </b></font></li>
<li><font color="#008000">;   126:  keys[num2] = local2;</font></li>
<li>0000017a  mov     r8,r14 </li>
<li>0000017d  mov     edx,edi </li>
<li>0000017f  mov     rcx,rsi </li>
<li><font color="#ff0000"><b>00000182  call    FFFFFFFFEF5F7CB0  </b></font></li>
</ol></font></code><br/>
</td>
</tr>
</table><br/>
<br/>
В листингах сразу же бросается в глаза вызов некоторой функции для записи в массив объектов, причем вызов этот отсутствовал пока мы смотрели CIL. Очевидно, что эта функция делает нечто большее чем просто копирование адреса и помимо затрат на органицазию этого вызова мы получаем еще что-то, а значит детали лежат в реализации CLR. Действительно, почитав исходники публичной версии CLR 2.0 (пакет SSCLI 2.0), находим следующий код:<br/>
<br/>
<blockquote><code><a href="http://s-c.me/3073/s"></a><a href="http://s-c.me/3073/h"></a><font color="black">Copy Source | Copy HTML<ol>
<li><font color="#008000">/****************************************************************************/</font></li>
<li><font color="#008000">/* assigns 'val to 'array[idx], after doing all the proper checks */</font></li>
<li> </li>
<li>HCIMPL3(<font color="#0000ff">void</font>, JIT_Stelem_Ref_Portable, PtrArray* array, unsigned idx, <font color="#2b91af">Object</font> *val)</li>
<li>{</li>
<li>    <font color="#0000ff">if</font> (!array) </li>
<li>    {</li>
<li>        FCThrowVoid(kNullReferenceException);</li>
<li>    }</li>
<li>    <font color="#0000ff">if</font> (idx >= array->GetNumComponents()) </li>
<li>    {</li>
<li>        FCThrowVoid(kIndexOutOfRangeException);</li>
<li>    }</li>
<li> </li>
<li>    <font color="#0000ff">if</font> (val) </li>
<li>    {</li>
<li>        MethodTable *valMT = val->GetMethodTable();</li>
<li>        TypeHandle arrayElemTH = array->GetArrayElementTypeHandle();</li>
<li> </li>
<li>        <font color="#0000ff">if</font> (arrayElemTH != TypeHandle(valMT) &amp;&amp; arrayElemTH != TypeHandle(g_pObjectClass))</li>
<li>        { </li>
<li>            TypeHandle::CastResult result = ObjIsInstanceOfNoGC(val, arrayElemTH);</li>
<li>            <font color="#0000ff">if</font> (result != TypeHandle::CanCast)</li>
<li>            {</li>
<li>                HELPER_METHOD_FRAME_BEGIN_2(val, array);</li>
<li> </li>
<li>                <font color="#008000">// This is equivalent to ArrayStoreCheck(&amp;val, &amp;array);</font></li>
<li><font color="#cc6633">#ifdef</font> STRESS_HEAP</li>
<li>                <font color="#008000">// Force a GC on every jit if the stress level is high enough</font></li>
<li>                <font color="#0000ff">if</font> (g_pConfig->GetGCStressLevel() != <font color="#A31515"> 0</font></li>
<li><font color="#cc6633">#ifdef</font> _DEBUG</li>
<li>                    &amp;&amp; !g_pConfig->FastGCStressLevel()</li>
<li><font color="#cc6633">#endif</font></li>
<li>                   )</li>
<li>                    GCHeap::GetGCHeap()->StressHeap();</li>
<li><font color="#cc6633">#endif</font></li>
<li> </li>
<li><font color="#cc6633">#if</font> CHECK_APP_DOMAIN_LEAKS</li>
<li>                <font color="#008000">// If the instance is agile or check agile</font></li>
<li>                <font color="#0000ff">if</font> (!arrayElemTH.IsAppDomainAgile() &amp;&amp; !arrayElemTH.IsCheckAppDomainAgile() &amp;&amp; g_pConfig->AppDomainLeaks())</li>
<li>                {</li>
<li>                    val->AssignAppDomain(array->GetAppDomain());</li>
<li>                }</li>
<li><font color="#cc6633">#endif</font></li>
<li>                <font color="#0000ff">if</font> (!ObjIsInstanceOf(val, arrayElemTH)) </li>
<li>                {</li>
<li>                    COMPlusThrow(kArrayTypeMismatchException);</li>
<li>                }</li>
<li> </li>
<li>                HELPER_METHOD_FRAME_END();</li>
<li>            }</li>
<li>        }</li>
<li> </li>
<li>        <font color="#008000">// The performance gain of the optimized JIT_Stelem_Ref in</font></li>
<li>        <font color="#008000">// jitinterfacex86.cpp is mainly due to calling JIT_WriteBarrierReg_Buf.</font></li>
<li>        <font color="#008000">// By calling write barrier directly here,</font></li>
<li>        <font color="#008000">// we can avoid translating in-line assembly from MSVC to gcc</font></li>
<li>        <font color="#008000">// while keeping most of the performance gain.</font></li>
<li>        HCCALL2(JIT_WriteBarrier, (<font color="#2b91af">Object</font> **)&amp;array->m_Array[idx], val);</li>
<li> </li>
<li>    }</li>
<li>    <font color="#0000ff">else</font></li>
<li>    {</li>
<li>        <font color="#008000">// no need to go through write-barrier for NULL</font></li>
<li>        ClearObjectReference(&amp;array->m_Array[idx]);</li>
<li>    }</li>
<li>}</li>
<li>HCIMPLEND </li>
</ol></font></code></blockquote><br/>
Как видно отсюда, при записи элемента в массив объектов, помимо стандартной проверки границ массива, также проверяется совместимость типов и при необходимости производятся соответствующие конвертации. Стоит заметить, что будучи строко типизированным, сам C# также содержит контроль типов, но поскольку в CIL инструкцию информация уже приходит в виде <code>System.Object</code>, то CLR, для надежности, проверяет еще раз.<br/>
<br/>
<h3>Часть третья. Подобие выводов</h3><br/>
Какие из этого всего можно сделать выводы? Хардкорные оптимизации предлагать не буду, но есть смысл избегать виртуальных вызовов внутри больших циклов, особенно в миниатюрных функциях-предикатах. На практике это например:<br/>
<br/>
<ul>
<li>реализаця предикатов в виде структур, а не классов с последующей предачей информации о типе через параметры генерика</li>
<li>замена мелких утилитарных методов классов на статические методы-расширения, которые из-за своей статичности будут вызваны в обход виртуальной таблицы</li>
</ul><br/>
Конечно, это не единственные возможные выводы, но ведь надо же оставить читателю простор для мыслей :)</div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B.net%5D" class="tm-article-body__tags-item-link">.net</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bc%5D" class="tm-article-body__tags-item-link">c</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bvirtual%5D" class="tm-article-body__tags-item-link">virtual</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bstatic%5D" class="tm-article-body__tags-item-link">static</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bclass%5D" class="tm-article-body__tags-item-link">class</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bstruct%5D" class="tm-article-body__tags-item-link">struct</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bperformance%5D" class="tm-article-body__tags-item-link">performance</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/net/" class="tm-article-body__tags-item-link">
                  .NET
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 61: ↑50 и ↓11</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 61: ↑50 и ↓11" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+39</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    33
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/69520/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      15
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/nullbie/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/d50/14b/0d9/d5014b0d926b892b560cba658ae0809c.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 116 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    87.2
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><span class="tm-user-card__name">Victor Pavlychko</span> <a href="/ru/users/nullbie/" class="tm-user-card__nickname">
          @nullbie
        </a> <!----></div> <p class="tm-user-card__short-info">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/69520/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 15 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-22T13:44:17.000Z" title="2021-09-22, 16:44">22  сентября   в 16:44</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/superjob/news/t/579398/" class="tm-article-title__link"><span>Backend Performance Meetup</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 9: ↑9 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 9: ↑9 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+9</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">268</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    2
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/superjob/news/t/579398/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      5
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-21T09:57:30.000Z" title="2021-09-21, 12:57">21  сентября   в 12:57</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/parimatch_tech/blog/579126/" class="tm-article-title__link"><span>5 проблем и их решения при создании высоконагруженного сервиса с использованием .NET и Kafka</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 12: ↑9 и ↓3</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 12: ↑9 и ↓3" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+6</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.6K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    28
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/parimatch_tech/blog/579126/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      13
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2009-09-08T11:35:48.000Z" title="2009-09-08, 15:35">8  сентября  2009 в 15:35</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/69029/" class="tm-article-title__link"><span>osvirtual.net: виртуальные образы операционных систем</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 55: ↑52 и ↓3</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 55: ↑52 и ↓3" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+49</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.9K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    34
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/69029/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      57
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T09:00:04.000Z" title="2021-09-27, 12:00">вчера в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580060/" class="tm-article-title__link"><span>Арракис, который мы заслужили</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 141: ↑136 и ↓5</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 141: ↑136 и ↓5" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+131</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">20K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    37
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580060/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      105
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T13:03:14.000Z" title="2021-09-27, 16:03">вчера в 16:03</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580124/" class="tm-article-title__link"><span>Электролюминесцентные индикаторы из прошлого</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 67: ↑67 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 67: ↑67 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+67</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">4.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    37
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580124/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      11
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T16:41:21.000Z" title="2021-09-27, 19:41">вчера в 19:41</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/lamptest/blog/580228/" class="tm-article-title__link"><span>Идеальная светодиодная лампа за 21 рубль</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 63: ↑62 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 63: ↑62 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+61</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">7.5K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    32
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/lamptest/blog/580228/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      22
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T21:49:14.000Z" title="2021-09-27, 00:49">вчера в 00:49</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580092/" class="tm-article-title__link"><span>30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 48: ↑48 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 48: ↑48 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+48</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">19K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    59
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580092/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      93
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T12:53:02.000Z" title="2021-09-27, 15:53">вчера в 15:53</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580210/" class="tm-article-title__link"><span>PHP Дайджест № 212 (13 – 27 сентября 2021)</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 36: ↑36 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 36: ↑36 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+36</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.2K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    10
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580210/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="69520" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/69520/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/69520/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"69520":{"id":"69520","timePublished":"2009-09-13T20:48:19+00:00","isCorporative":false,"lang":"ru","titleHtml":"Цена вызовов","leadData":{"textHtml":"Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга приложения и оптимизации его логики. Вооружившись такими мыслями я наткнулся на метод \u003Ccode\u003EQuickSort\u003C\u002Fcode\u003E из стандартного класса \u003Ccode\u003EArraySortHelper&lt;T&gt;\u003C\u002Fcode\u003E использующийся для сортировки массивов в .Net.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИнтересным моментом здесь является сравнение элементов &mdash; для обеспечения гибкости его вынеслив отдельный класс реализующий интерфейс \u003Ccode\u003EIComparer&lt;T&gt;\u003C\u002Fcode\u003E. Вооружившись разнообразными мыслями и студией было решено оценить сколько же такая гибкость стоит и что с этим можно было бы сделать &mdash; под катом анализ затрат на сравнение элементов во временя работы QuickSort.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":87.2,"votesCount":116},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"46597","alias":"nullbie","fullname":"Victor Pavlychko","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd50\u002F14b\u002F0d9\u002Fd5014b0d926b892b560cba658ae0809c.png","speciality":null},"statistics":{"commentsCount":15,"favoritesCount":33,"readingCount":2861,"score":39,"votesCount":61},"hubs":[{"relatedData":null,"id":"546","alias":"net","type":"collective","title":".NET","titleHtml":".NET","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EБытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга приложения и оптимизации его логики. Вооружившись такими мыслями я наткнулся на метод \u003Ccode\u003EQuickSort\u003C\u002Fcode\u003E из стандартного класса \u003Ccode\u003EArraySortHelper&lt;T\u003E\u003C\u002Fcode\u003E использующийся для сортировки массивов в .Net.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИнтересным моментом здесь является сравнение элементов — для обеспечения гибкости его вынеслив отдельный класс реализующий интерфейс \u003Ccode\u003EIComparer&lt;T\u003E\u003C\u002Fcode\u003E. Вооружившись разнообразными мыслями и студией было решено оценить сколько же такая гибкость стоит и что с этим можно было бы сделать — под катом анализ затрат на сравнение элементов во временя работы QuickSort.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак у нас есть стандартная реализация быстрой сортировки Хоара, которая для сравнения элементов массива использует метод \u003Ccode\u003ECompare(T x, T y)\u003C\u002Fcode\u003E из объекта реализующего интерфейс \u003Ccode\u003EIComparer&lt;T\u003E\u003C\u002Fcode\u003E. Для наших опытов, при помощи рефлектора, получаем код метода сортировки в следующем виде:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F2979\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F2979\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#0000ff\"\u003Estatic public void\u003C\u002Ffont\u003E Sort&lt;T, TValue\u003E(T[] keys, TValue[] values, \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E left, \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E right, IComparer&lt;T\u003E comparer)\u003C\u002Fli\u003E\r\n\u003Cli\u003E{\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E index = left;\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E num2 = right;\u003C\u002Fli\u003E\r\n\u003Cli\u003E        T y = keys[index + ((num2 - index) \u003E\u003E \u003Cfont color=\"#A31515\"\u003E1\u003C\u002Ffont\u003E)];\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Edo\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        {\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Etry\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E\u002F* Cmp 1 *\u002F\u003C\u002Ffont\u003E     \u003Cfont color=\"#0000ff\"\u003Ewhile\u003C\u002Ffont\u003E (comparer.Compare(keys[index], y) &lt; \u003Cfont color=\"#A31515\"\u003E 0\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E                {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    index++;\u003C\u002Fli\u003E\r\n\u003Cli\u003E                }\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E\u002F* Cmp 2 *\u002F\u003C\u002Ffont\u003E     \u003Cfont color=\"#0000ff\"\u003Ewhile\u003C\u002Ffont\u003E (comparer.Compare(y, keys[num2]) &lt; \u003Cfont color=\"#A31515\"\u003E 0\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E                {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    num2--;\u003C\u002Fli\u003E\r\n\u003Cli\u003E                }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Ecatch\u003C\u002Ffont\u003E (\u003Cfont color=\"#2b91af\"\u003EIndexOutOfRangeException\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Ethrow new\u003C\u002Ffont\u003E \u003Cfont color=\"#2b91af\"\u003EArgumentException\u003C\u002Ffont\u003E(\u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E, \u003Cfont color=\"#A31515\"\u003E\"keys\"\u003C\u002Ffont\u003E);\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Ecatch\u003C\u002Ffont\u003E (\u003Cfont color=\"#2b91af\"\u003EException\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Ethrow new\u003C\u002Ffont\u003E \u003Cfont color=\"#2b91af\"\u003EInvalidOperationException\u003C\u002Ffont\u003E();\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (index \u003E num2)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Ebreak\u003C\u002Ffont\u003E;\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (index &lt; num2)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                T local2 = keys[index];\u003C\u002Fli\u003E\r\n\u003Cli\u003E                keys[index] = keys[num2];\u003C\u002Fli\u003E\r\n\u003Cli\u003E                keys[num2] = local2;\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (values != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E                {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    TValue local3 = values[index];\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    values[index] = values[num2];\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    values[num2] = local3;\u003C\u002Fli\u003E\r\n\u003Cli\u003E                }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            index++;\u003C\u002Fli\u003E\r\n\u003Cli\u003E            num2--;\u003C\u002Fli\u003E\r\n\u003Cli\u003E        }\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Ewhile\u003C\u002Ffont\u003E (index &lt;= num2);\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E ((num2 - left) &lt;= (right - index))\u003C\u002Fli\u003E\r\n\u003Cli\u003E        {\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (left &lt; num2)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E\u002F* Call 1 *\u002F\u003C\u002Ffont\u003E    Sort&lt;T, TValue\u003E(keys, values, left, num2, comparer);\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            left = index;\u003C\u002Fli\u003E\r\n\u003Cli\u003E        }\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        {\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (index &lt; right)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E\u002F* Call 2 *\u002F\u003C\u002Ffont\u003E    Sort&lt;T, TValue\u003E(keys, values, index, right, comparer);\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            right = num2;\u003C\u002Fli\u003E\r\n\u003Cli\u003E        }\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Ewhile\u003C\u002Ffont\u003E (left &lt; right);\u003C\u002Fli\u003E\r\n\u003Cli\u003E} \u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nПоскольку исследовать мы будем исключительно вызов операции сравенния, то все изменения этой функции будут делаться только в строках 1, 12, 16, 53 и 61, которые помечены в листинге опознавательными комментариями.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЧасть первая. Опыты с массивами чисел (int)\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nДля начала оценим вклад накладных расходов на вызов операции сравнения двух чисел в длительность выполнения процесса сортировки. Для этого в приведенной функции меняем вызовы «\u003Ccode\u003Ecomparer.Compare(a, b)\u003C\u002Fcode\u003E» на выражения вида «\u003Ccode\u003Ea - b\u003C\u002Fcode\u003E». Замеряем время работы обеих версий и видим… Видим ужасную картину — практически две трети времени тратится на организацию вызова предиката сравниващего числа:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe42\u002F983\u002F553\u002Fe4298355389fcb786e8809af6a71aec7.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто же могло так сильно замедлить работу? Очевидно что дело в излишней сложности процесса сравнения (и это при том, что сама операция сводится к вычитанию двух чисел!):\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EПроверка объекта \u003Ccode\u003Ecomparer\u003C\u002Fcode\u003E на \u003Ccode\u003Enull\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003EПоиск метода \u003Ccode\u003ECompare\u003C\u002Fcode\u003E в виртуальной таблице объекта\u003C\u002Fli\u003E\r\n\u003Cli\u003EВызов метода \u003Ccode\u003ECompare\u003C\u002Fcode\u003E для объекта \u003Ccode\u003Ecomparer\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003EВызов метода \u003Ccode\u003ECompareTo\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003EСобственно сравнение чисел\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\nПри этом первые два пункта являются отличием CIL-инструкции \u003Ccode\u003Ecallvirt\u003C\u002Fcode\u003E от \u003Ccode\u003Ecall\u003C\u002Fcode\u003E. Напомню, что \u003Ccode\u003Ecallvirt\u003C\u002Fcode\u003E, из-за наличия проверки на \u003Ccode\u003Enull\u003C\u002Fcode\u003E, генерируется для вызова \u003Ci\u003Eвсех\u003C\u002Fi\u003E нестатических методов классов независимо от их виртуальности.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу а четвертый пункт вызван стандартной реализацией comparer-а (все проверки на \u003Ccode\u003Enull\u003C\u002Fcode\u003E естественным образом убираются JIT-компилятором при подстановке \u003Ccode\u003Eint\u003C\u002Fcode\u003E вместо \u003Ccode\u003ET\u003C\u002Fcode\u003E):\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3068\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3068\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#2b91af\"\u003EGenericComparer\u003C\u002Ffont\u003E&lt;\u003Cfont color=\"#2b91af\"\u003ET\u003C\u002Ffont\u003E\u003E : IComparer&lt;\u003Cfont color=\"#2b91af\"\u003ET\u003C\u002Ffont\u003E\u003E \u003Cfont color=\"#0000ff\"\u003Ewhere\u003C\u002Ffont\u003E \u003Cfont color=\"#2b91af\"\u003ET\u003C\u002Ffont\u003E : \u003Cfont color=\"#2b91af\"\u003EIComparable\u003C\u002Ffont\u003E&lt;\u003Cfont color=\"#2b91af\"\u003ET\u003C\u002Ffont\u003E\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E{\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Epublic int\u003C\u002Ffont\u003E Compare(\u003Cfont color=\"#2b91af\"\u003ET\u003C\u002Ffont\u003E x, \u003Cfont color=\"#2b91af\"\u003ET\u003C\u002Ffont\u003E y)\u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (x != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E        {\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (y != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E x.CompareTo(y);\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#A31515\"\u003E1\u003C\u002Ffont\u003E;\u003C\u002Fli\u003E\r\n\u003Cli\u003E        }\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (y != \u003Cfont color=\"#0000ff\"\u003Enull\u003C\u002Ffont\u003E)\u003C\u002Fli\u003E\r\n\u003Cli\u003E        {\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E -\u003Cfont color=\"#A31515\"\u003E1\u003C\u002Ffont\u003E;\u003C\u002Fli\u003E\r\n\u003Cli\u003E        }\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E \u003Cfont color=\"#A31515\"\u003E 0\u003C\u002Ffont\u003E;\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E} \u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nБудем убирать слои по одному, начнем с вызова \u003Ccode\u003ECompareTo\u003C\u002Fcode\u003E, благо это делается элементарно — написанием своего comparer'а следующего вида:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F2980\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F2980\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#2b91af\"\u003EIntComparer\u003C\u002Ffont\u003E : \u003Cfont color=\"#2b91af\"\u003EIComparer\u003C\u002Ffont\u003E&lt;\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E{\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Epublic int\u003C\u002Ffont\u003E Compare(\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E x, \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E y)\u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E x - y;\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E} \u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nЗамеры показывают выиграш 15% по времени. И это при том, что мы рассматриваем массив целых чисел и вызов \u003Ccode\u003ECompareTo\u003C\u002Fcode\u003E для них, как и для всех методов для всех структур является невиртуальным. Следующий слой, отличие между \u003Ccode\u003Ecallvirt\u003C\u002Fcode\u003E и \u003Ccode\u003Ecall\u003C\u002Fcode\u003E при вызове, проверить сложнее, особенно в рамках тех же требований к гибкости функции сортировки. Впрочем нет ничего невозможного — при работе через инстанцию структуры, все методы всех структур вызываются при помощи операции \u003Ccode\u003Ecall\u003C\u002Fcode\u003E, в том числе реализации методов унаследованных от интерфейсов. Благодаря этому мы можем сделать следующую оптимизацию:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F2982\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F2982\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#0000ff\"\u003Estatic public void\u003C\u002Ffont\u003E SortNoVirt&lt;T, TValue, TCmp\u003E(T[] keys, TValue[] values, \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E left, \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E right, TCmp comparer) \u003Cfont color=\"#0000ff\"\u003Ewhere\u003C\u002Ffont\u003E TCmp : \u003Cfont color=\"#2b91af\"\u003EIComparer\u003C\u002Ffont\u003E&lt;T\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E{\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#008000\"\u003E\u002F\u002F ...\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E}\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#0000ff\"\u003Estruct\u003C\u002Ffont\u003E \u003Cfont color=\"#2b91af\"\u003EIntComparerNoVirt\u003C\u002Ffont\u003E : \u003Cfont color=\"#2b91af\"\u003EIComparer\u003C\u002Ffont\u003E&lt;\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E{\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Epublic int\u003C\u002Ffont\u003E Compare(\u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E x, \u003Cfont color=\"#0000ff\"\u003Eint\u003C\u002Ffont\u003E y)\u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Ereturn\u003C\u002Ffont\u003E x - y;\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E} \u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nБлагодаря передаче фактического типа в функцию сортировки, при разворачивании параметров генерика будет учтен реальный тип comparer'а и для вызова операции сравнения задействуется более эффективная инструкция \u003Ccode\u003Ecall\u003C\u002Fcode\u003E. Замеры времени показывают прирост произодительности около 35% от времени выполнения «стандартного» вызова, при этом прирост от последующей замены вызова \u003Ccode\u003ECompare\u003C\u002Fcode\u003E на отнимание составляет 18%.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EНа заметку:\u003C\u002Fi\u003E В библиотеке STL из C++ все предикаты передаются именно таким образом — тип идет через параметр шаблона. Дополнительно, благодаря этому трюку, компилятор C++ получает полную информацию о типах и как правило производит разворачивание (inlining) кода предиката, тем самым полностью исключая затраты на вызов метода. Мои опыты с дизассемблированием результатов работы .Net JIT показали, что вопреки всем ухищрениям, здесь никакого разворачивания не происходит. Судя по всему это либо связано с генериками, либо работает оно исключительно для статических методов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003EНа заметку #2:\u003C\u002Fi\u003E Сэкономить на передаче comparer'а при помомщи пустой структуры не удалось — размер (\u003Ccode\u003Esizeof\u003C\u002Fcode\u003E) структуры без полей в C# оказался равным единице (а не нулю, как хотелось). В VC++ размер пустой структуры также равен единице, при этом в стандарте говорится, что размер пустого класса (структуры) должен быть больше нуля. Сделано это из-за популярной конструкции для вычисления длины массива «\u003Ccode\u003Esizeof(array) \u002F sizeof(array[0])\u003C\u002Fcode\u003E». В C#\u002F.Net это видимо сделано для бинарной совместимости при взаимодействии с кодом написаным на C++.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли свести данные в единую диаграмму, получим следующее распределение времени выполнения сортировки стандартным методом:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F84f\u002F8fa\u002F122\u002F84f8fa122625d13197645f59f5d8fc76.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНапрашивающийся очевидный вывод — при разработке тяжелых в вычислительном плане библитек есть смысл частовызываемые предикаты делать структурами и их тип передавать через параметры генерика.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЧасть вторая. А что с будет объектами?\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nНо не числами едиными живут наши приложения :) Возник вопрос влияния в контексте работы с массивами объектов, проверим? Легко! В качестве опытного образца берем вот такой простенький класс:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3069\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3069\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#0000ff\"\u003Eclass\u003C\u002Ffont\u003E \u003Cfont color=\"#2b91af\"\u003EIntObj\u003C\u002Ffont\u003E : \u003Cfont color=\"#2b91af\"\u003EIComparable\u003C\u002Ffont\u003E&lt;\u003Cfont color=\"#2b91af\"\u003EIntObj\u003C\u002Ffont\u003E\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E{\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Epublic int value\u003C\u002Ffont\u003E;\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Epublic int\u003C\u002Ffont\u003E CompareTo(\u003Cfont color=\"#2b91af\"\u003EIntObj\u003C\u002Ffont\u003E other)\u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Ereturn value\u003C\u002Ffont\u003E - other.\u003Cfont color=\"#0000ff\"\u003Evalue\u003C\u002Ffont\u003E;\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E} \u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nИ проводим аналогичные нехитрые опыты но уже с массивом объектов, в итоге получаем чуть другую ситуацию:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fcea\u002Fdef\u002F47b\u002Fceadef47bad5a5fe1db71865df7e9599.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ если соотношение между частями процесса сравнения остались неизменными, то их вклад в общее время заметно уменьшился. Взникает вполне везонный вопрос: а в чем же дело, что замедляется? Беглого взгляда на код функции сортировки достаточно чтоб понять: замедлилась работа единственного отличающегося куска кода — обмена значений между элементами массива. Но ведь мы работает со ссылочным типом, переставляются только указатели, а они «в душе» числа! Раз интересно, значит будем смотреть что там так замедляется, чтение CIL пользы особо не дает — код обмена асболютно идентичный за исключением использования инструкций \u003Ccode\u003E*.i4\u003C\u002Fcode\u003E для чисел и \u003Ccode\u003E*.ref\u003C\u002Fcode\u003E для объектов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРаз не помог CIL, значит дело в выходе из JIT, значит будем смотреть ассемблер :) Здесь нас ждет весялая неприятность — независимо от крнфигурации (Debug\u002FRelease), JIT-компилятор смотрик на свое окружение и, в зависимости от наличия присоединенного к процессу отладчика, генерирует разный код. Поэтому для доступа к реальному коду через окно Disassembly мы будем запускать приложение без отладки а точки останова поставим в виде вызовов \u003Ccode\u003EDebugger.Break();\u003C\u002Fcode\u003E. Далее приведены листинги с кодом который генерируется для обмена местами значений в двух ячейках массива:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ctable\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3070\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3070\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E; ==============================================\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E; swap in int array\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E;   124:  T local2 = keys[index];\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3070\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3070\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E; ==============================================\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E; swap in IntObj array\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E;   124:  T local2 = keys[index];\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Col\u003E\r\n\u003Cli\u003E00000142  movsxd  rcx,ebx \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000145  mov     rsi,qword ptr [rbp+68h] \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000149  mov     rax,qword ptr [rsi+8] \u003C\u002Fli\u003E\r\n\u003Cli\u003E0000014d  cmp     rcx,rax \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000150  jae     0000000000000275 \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000156  mov     edx,dword ptr [rsi+rcx*4+10h] \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E;   125:  keys[index] = keys[num2];\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E0000015a  movsxd  r8,edi \u003C\u002Fli\u003E\r\n\u003Cli\u003E0000015d  cmp     r8,rax \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000160  jae     0000000000000275 \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000166  mov     eax,dword ptr [rsi+r8*4+10h] \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#ff0000\"\u003E\u003Cb\u003E0000016b  mov     dword ptr [rsi+rcx*4+10h],eax \u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E;   126:  keys[num2] = local2;\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#ff0000\"\u003E\u003Cb\u003E0000016f  mov     dword ptr [rsi+r8*4+10h],edx \u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E\u003Ccode\u003E\u003Cfont color=\"black\"\u003E\u003Col\u003E\r\n\u003Cli\u003E00000146  movsxd  r12,ebx \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000149  mov     rsi,qword ptr [rbp+68h] \u003C\u002Fli\u003E\r\n\u003Cli\u003E0000014d  mov     rax,qword ptr [rsi+8] \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000151  cmp     r12,rax \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000154  jae     0000000000000285 \u003C\u002Fli\u003E\r\n\u003Cli\u003E0000015a  mov     r14,qword ptr [rsi+r12*8+18h] \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E;   125:  keys[index] = keys[num2];\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E0000015f  movsxd  r13,edi \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000162  cmp     r13,rax \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000165  jae     0000000000000285 \u003C\u002Fli\u003E\r\n\u003Cli\u003E0000016b  mov     r8,qword ptr [rsi+r13*8+18h] \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000170  mov     edx,ebx \u003C\u002Fli\u003E\r\n\u003Cli\u003E00000172  mov     rcx,rsi \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#ff0000\"\u003E\u003Cb\u003E00000175  call    FFFFFFFFEF5F7CB0 \u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E;   126:  keys[num2] = local2;\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E0000017a  mov     r8,r14 \u003C\u002Fli\u003E\r\n\u003Cli\u003E0000017d  mov     edx,edi \u003C\u002Fli\u003E\r\n\u003Cli\u003E0000017f  mov     rcx,rsi \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#ff0000\"\u003E\u003Cb\u003E00000182  call    FFFFFFFFEF5F7CB0  \u003C\u002Fb\u003E\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftable\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ листингах сразу же бросается в глаза вызов некоторой функции для записи в массив объектов, причем вызов этот отсутствовал пока мы смотрели CIL. Очевидно, что эта функция делает нечто большее чем просто копирование адреса и помимо затрат на органицазию этого вызова мы получаем еще что-то, а значит детали лежат в реализации CLR. Действительно, почитав исходники публичной версии CLR 2.0 (пакет SSCLI 2.0), находим следующий код:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Ccode\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3073\u002Fs\"\u003E\u003C\u002Fa\u003E\u003Ca href=\"http:\u002F\u002Fs-c.me\u002F3073\u002Fh\"\u003E\u003C\u002Fa\u003E\u003Cfont color=\"black\"\u003ECopy Source | Copy HTML\u003Col\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E\u002F****************************************************************************\u002F\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#008000\"\u003E\u002F* assigns 'val to 'array[idx], after doing all the proper checks *\u002F\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003EHCIMPL3(\u003Cfont color=\"#0000ff\"\u003Evoid\u003C\u002Ffont\u003E, JIT_Stelem_Ref_Portable, PtrArray* array, unsigned idx, \u003Cfont color=\"#2b91af\"\u003EObject\u003C\u002Ffont\u003E *val)\u003C\u002Fli\u003E\r\n\u003Cli\u003E{\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (!array) \u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        FCThrowVoid(kNullReferenceException);\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (idx \u003E= array-\u003EGetNumComponents()) \u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        FCThrowVoid(kIndexOutOfRangeException);\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (val) \u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        MethodTable *valMT = val-\u003EGetMethodTable();\u003C\u002Fli\u003E\r\n\u003Cli\u003E        TypeHandle arrayElemTH = array-\u003EGetArrayElementTypeHandle();\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (arrayElemTH != TypeHandle(valMT) &amp;&amp; arrayElemTH != TypeHandle(g_pObjectClass))\u003C\u002Fli\u003E\r\n\u003Cli\u003E        { \u003C\u002Fli\u003E\r\n\u003Cli\u003E            TypeHandle::CastResult result = ObjIsInstanceOfNoGC(val, arrayElemTH);\u003C\u002Fli\u003E\r\n\u003Cli\u003E            \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (result != TypeHandle::CanCast)\u003C\u002Fli\u003E\r\n\u003Cli\u003E            {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                HELPER_METHOD_FRAME_BEGIN_2(val, array);\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#008000\"\u003E\u002F\u002F This is equivalent to ArrayStoreCheck(&amp;val, &amp;array);\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#cc6633\"\u003E#ifdef\u003C\u002Ffont\u003E STRESS_HEAP\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#008000\"\u003E\u002F\u002F Force a GC on every jit if the stress level is high enough\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (g_pConfig-\u003EGetGCStressLevel() != \u003Cfont color=\"#A31515\"\u003E 0\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#cc6633\"\u003E#ifdef\u003C\u002Ffont\u003E _DEBUG\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    &amp;&amp; !g_pConfig-\u003EFastGCStressLevel()\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#cc6633\"\u003E#endif\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E                   )\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    GCHeap::GetGCHeap()-\u003EStressHeap();\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#cc6633\"\u003E#endif\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#cc6633\"\u003E#if\u003C\u002Ffont\u003E CHECK_APP_DOMAIN_LEAKS\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#008000\"\u003E\u002F\u002F If the instance is agile or check agile\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (!arrayElemTH.IsAppDomainAgile() &amp;&amp; !arrayElemTH.IsCheckAppDomainAgile() &amp;&amp; g_pConfig-\u003EAppDomainLeaks())\u003C\u002Fli\u003E\r\n\u003Cli\u003E                {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    val-\u003EAssignAppDomain(array-\u003EGetAppDomain());\u003C\u002Fli\u003E\r\n\u003Cli\u003E                }\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cfont color=\"#cc6633\"\u003E#endif\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E                \u003Cfont color=\"#0000ff\"\u003Eif\u003C\u002Ffont\u003E (!ObjIsInstanceOf(val, arrayElemTH)) \u003C\u002Fli\u003E\r\n\u003Cli\u003E                {\u003C\u002Fli\u003E\r\n\u003Cli\u003E                    COMPlusThrow(kArrayTypeMismatchException);\u003C\u002Fli\u003E\r\n\u003Cli\u003E                }\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E                HELPER_METHOD_FRAME_END();\u003C\u002Fli\u003E\r\n\u003Cli\u003E            }\u003C\u002Fli\u003E\r\n\u003Cli\u003E        }\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#008000\"\u003E\u002F\u002F The performance gain of the optimized JIT_Stelem_Ref in\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#008000\"\u003E\u002F\u002F jitinterfacex86.cpp is mainly due to calling JIT_WriteBarrierReg_Buf.\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#008000\"\u003E\u002F\u002F By calling write barrier directly here,\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#008000\"\u003E\u002F\u002F we can avoid translating in-line assembly from MSVC to gcc\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#008000\"\u003E\u002F\u002F while keeping most of the performance gain.\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        HCCALL2(JIT_WriteBarrier, (\u003Cfont color=\"#2b91af\"\u003EObject\u003C\u002Ffont\u003E **)&amp;array-\u003Em_Array[idx], val);\u003C\u002Fli\u003E\r\n\u003Cli\u003E \u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E    \u003Cfont color=\"#0000ff\"\u003Eelse\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E    {\u003C\u002Fli\u003E\r\n\u003Cli\u003E        \u003Cfont color=\"#008000\"\u003E\u002F\u002F no need to go through write-barrier for NULL\u003C\u002Ffont\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E        ClearObjectReference(&amp;array-\u003Em_Array[idx]);\u003C\u002Fli\u003E\r\n\u003Cli\u003E    }\u003C\u002Fli\u003E\r\n\u003Cli\u003E}\u003C\u002Fli\u003E\r\n\u003Cli\u003EHCIMPLEND \u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Ffont\u003E\u003C\u002Fcode\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nКак видно отсюда, при записи элемента в массив объектов, помимо стандартной проверки границ массива, также проверяется совместимость типов и при необходимости производятся соответствующие конвертации. Стоит заметить, что будучи строко типизированным, сам C# также содержит контроль типов, но поскольку в CIL инструкцию информация уже приходит в виде \u003Ccode\u003ESystem.Object\u003C\u002Fcode\u003E, то CLR, для надежности, проверяет еще раз.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЧасть третья. Подобие выводов\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nКакие из этого всего можно сделать выводы? Хардкорные оптимизации предлагать не буду, но есть смысл избегать виртуальных вызовов внутри больших циклов, особенно в миниатюрных функциях-предикатах. На практике это например:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eреализаця предикатов в виде структур, а не классов с последующей предачей информации о типе через параметры генерика\u003C\u002Fli\u003E\r\n\u003Cli\u003Eзамена мелких утилитарных методов классов на статические методы-расширения, которые из-за своей статичности будут вызваны в обход виртуальной таблицы\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nКонечно, это не единственные возможные выводы, но ведь надо же оставить читателю простор для мыслей :)\u003C\u002Fdiv\u003E","tags":[{"titleHtml":".net"},{"titleHtml":"c"},{"titleHtml":"virtual"},{"titleHtml":"static"},{"titleHtml":"class"},{"titleHtml":"struct"},{"titleHtml":"performance"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F69520\u002F9424a3dc546d604b566d440d16cb708b\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F69520\u002F9424a3dc546d604b566d440d16cb708b\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F69520\\\u002F\"},\"headline\":\"Цена вызовов\",\"datePublished\":\"2009-09-14T00:48:19+04:00\",\"dateModified\":\"2009-09-14T00:48:19+04:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Victor Pavlychko\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьез...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F69520\\\u002F#post-content-body\",\"about\":[\"h_net\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fe42\\\u002F983\\\u002F553\\\u002Fe4298355389fcb786e8809af6a71aec7.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F84f\\\u002F8fa\\\u002F122\\\u002F84f8fa122625d13197645f59f5d8fc76.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fcea\\\u002Fdef\\\u002F47b\\\u002Fceadef47bad5a5fe1db71865df7e9599.png\"]}","metaDescription":"Бытует мнение, что накладные расходы на вызов методов и организацию процесса выполнения не должны превышать 15% времени выполнения приложения, иначе стоит серьезно задуматься над вопросом рефакторинга...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"572164":{"id":"572164","timePublished":"2021-09-27T11:37:23+00:00","isCorporative":false,"lang":"ru","titleHtml":"Первые шаги в ОТО: прецессия орбиты Меркурия","editorVersion":"2.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"1832999","alias":"Yermack","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F690\u002F140\u002F823\u002F690140823f555d03574a59d46f648d24.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":20,"readingCount":2766,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"18840","alias":"julia","type":"collective","title":"Julia","titleHtml":"Julia","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21968","alias":"physics","type":"collective","title":"Физика","titleHtml":"Физика","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКогда речь заходит о теории относительности, частенько на ровном месте разрастаются споры, которые были занесены в почву непонимания и обильно удобрены мифами, недосказанностью и недостаточной математической подготовкой. Даже на лекциях от некоторых профессоров можно услышать, что детище гения Эйнштейна не имеет практической пользы, а на робкие попытки пролепетать что-то про спутниковые системы навигации они пренебрежительно отмахиваются, дескать, там все сложно и двояко. \u003C\u002Fp\u003E\u003Cp\u003EТак что совершенно естественно желание попробовать провести некоторые расчеты самолично, потрогать формулы, покрутить параметры, чтобы постепенно заложить интуицию в столь горячей теме.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"прецессия"},{"titleHtml":"меркурий"},{"titleHtml":"теория относительности"},{"titleHtml":"уравнения эйнштейна"},{"titleHtml":"метрики"},{"titleHtml":"спасибо scihub"},{"titleHtml":"спасибо mathpix"},{"titleHtml":"астрология_точная_наука"}]},"579772":{"id":"579772","timePublished":"2021-09-27T05:32:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сливы процветают. Эксперт-«параноик» Майкл Баззель о защите личных данных","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Michael Bazzell","originalUrl":"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F"}}],"author":{"id":"2297567","alias":"SearchInform_team","fullname":null,"avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":7,"readingCount":2334,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"22418","alias":"searchinform","type":"corporative","title":"Блог компании SearchInform","titleHtml":"Блог компании SearchInform","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНаш очередной пост из серии «интересное на иностранном языке» – рассказ Майкла Баззеля о том, как сберечь свои персональные данные от утечек. Майкл – знаковая фигура в сфере OSINT, работал в правительстве США и ФБР, его приглашали в качестве технического эксперта в сериал «Мистер Робот», который считают достойным с точки зрения достоверности. В личной жизни эксперт придерживается настолько жестких правил в отношении информационной гигиены, что некоторые считают его «неадекватом». Так ли это – может быть несколько мнений. \u003C\u002Fp\u003E\u003Cp\u003EОдин из факторов, который убеждает в правильном подходе Майкла, – что риски обнаружить свои данные в интернете стали существенно выше, потому что шифровальщики без разбору сливают в сеть все, до чего дотягиваются при атаках на бизнес. Приводим перевод \u003Ca href=\"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F\"\u003Eпоста Майкла Баззеля\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EАтакуют корпорации, а страдают люди\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EБольшинство людей не задумываются о том, как их касается проблема распространения вирусов-шифровальщиков. Логика такова: речь идет о проблемах компаний, это они вынуждены платить выкуп. При чем тут, казалось бы, обычные люди?! \u003C\u002Fp\u003E\u003Cp\u003EА при том, что преступники сменили тактику: сейчас они не просто шифруют данные, но и скачивают их, выкладывают в открытый доступ, если компании не платят им выкуп. Теперь давайте подумаем, что в этих слитых базах? Множество данных о сотрудниках, клиентах, контрагентах, с которыми компания-жертва работает.\u003C\u002Fp\u003E\u003Cp\u003EХочу сразу уточнить: я это пишу не потому что выступаю за уплату выкупа. Я за то, чтобы сопротивляться избыточному сбору данных там, где это не обязательно. Мы халатно относимся к своим ПДн, раздавая их по первому требованию.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"персональные данные"},{"titleHtml":"пдн"},{"titleHtml":"сёрчинформ"},{"titleHtml":"Майкл Баззел"},{"titleHtml":"утечки информации"}]},"579854":{"id":"579854","timePublished":"2021-09-27T06:03:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Видишь уязвимости? А они есть! Наше исследование популярных CMS-систем","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2684283","alias":"Solar_Pentest","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":21,"readingCount":3801,"score":27,"votesCount":29},"hubs":[{"relatedData":null,"id":"20826","alias":"solarsecurity","type":"corporative","title":"Блог компании Ростелеком-Солар","titleHtml":"Блог компании Ростелеком-Солар","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛьвиная доля всех работ по анализу защищенности внешнего периметра – это тестирование веб-приложений. Здесь могут быть как корпоративные решения, так и «домашние» разработки на базе различных публичных систем управления контентом (CMS). Мы всегда проводим глубокий анализ подобных решений на тестовых стендах и зачастую находим уязвимости нулевого дня. Собственно, из опыта таких проектов и родилась идея собрать исследовательскую команду и провести глубокий анализ популярных CMS-систем и различных плагинов для них. В этом посте мы поделимся результатами нашего исследования, а также продемонстрируем примеры уязвимого кода наиболее интересных, на наш взгляд, уязвимостей и примеры их эксплуатации. Конечно все эти уязвимости уже исправлены и описываются здесь с разрешения владельцев систем.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","buttonTextHtml":"Не всё то в безопасности, что с Bug Bounty","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"cms"},{"titleHtml":"уязвимости"},{"titleHtml":"уязвимости и их эксплуатация"},{"titleHtml":"уязвимость нулевого дня"}]},"579984":{"id":"579984","timePublished":"2021-09-27T15:37:51+00:00","isCorporative":true,"lang":"ru","titleHtml":"Добро пожаловать на хабрадегустацию","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2424555","alias":"anya_plotkina","fullname":"Аня Плоткина","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd4c\u002Ffcb\u002Fa37\u002Fd4cfcba3704ace3b85715c75b0db0d73.jpg","speciality":"DevRel"},"statistics":{"commentsCount":22,"favoritesCount":3,"readingCount":603,"score":8,"votesCount":20},"hubs":[{"relatedData":null,"id":"17931","alias":"skillfactory","type":"corporative","title":"Блог компании SkillFactory","titleHtml":"Блог компании SkillFactory","isProfiled":false},{"relatedData":null,"id":"161","alias":"habr","type":"collective","title":"Habr","titleHtml":"Habr","isProfiled":false}],"flows":[{"id":"4","alias":"marketing","title":"Маркетинг"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр! Меня зовут Аня Плоткина, я занимаюсь Developer Relations в команде SkillFactory, развивая сообщество авторов и менторов, которые создают наш образовательный продукт. Это будет не совсем обычный пост, а скорее воззвание к хабрасообществу, так как я верю, что на Хабре собрались самые знающие люди в IT. Если коротко: мы хотим предоставить любому члену сообщества, который обладает экспертизой, продегустировать наше обучение. \u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff28\u002F73d\u002F875\u002Ff2873d87531005948f40169432f05ebb.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff28\u002F73d\u002F875\u002Ff2873d87531005948f40169432f05ebb.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"курсы"},{"titleHtml":"edtech"},{"titleHtml":"образование"},{"titleHtml":"образование онлайн"},{"titleHtml":"образовательные ресурсы"}]},"580008":{"id":"580008","timePublished":"2021-09-27T06:30:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Летний Магнитогорск","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2614609","alias":"city_scraper","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F8f8\u002Fd6c\u002F328\u002F8f8d6c328ec3a513103b6757c2c21610.png","speciality":"Пользователь"},"statistics":{"commentsCount":6,"favoritesCount":3,"readingCount":3669,"score":14,"votesCount":20},"hubs":[{"relatedData":null,"id":"22012","alias":"Ecology","type":"collective","title":"Экология","titleHtml":"Экология","isProfiled":false},{"relatedData":null,"id":"22024","alias":"urban","type":"collective","title":"Урбанизм","titleHtml":"Урбанизм","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EМагнитогорск Челябинской области – один из крупнейших мировых центров чёрной металлургии. В России это шестой из крупнейших городов, которые не являются центрами субъектов страны. \u003C\u002Fp\u003E\u003Cp\u003EСовсем недавно город был одним из наиболее неблагополучных с точки зрения загрязнения атмосферного воздуха, но в 2021 году был зафиксирован «повышенный» уровень – то есть не «высокий» или «очень высокий», как раньше. \u003C\u002Fp\u003E\u003Cp\u003EКак этот город выглядит летом? Где и как его жители могут проводить время?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Магнитогорск"},{"titleHtml":"промышленность"},{"titleHtml":"промышленные города"},{"titleHtml":"урбанизм\u002Fурбания"},{"titleHtml":"урбанистика"},{"titleHtml":"города России"},{"titleHtml":"города"}]},"580050":{"id":"580050","timePublished":"2021-09-27T10:23:25+00:00","isCorporative":false,"lang":"ru","titleHtml":"Один человек ответил на 85+ тысяч вопросов на Stack Overflow (24,1 ответа в день)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1585037","alias":"sahsAGU","fullname":"Александр Гуреев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F43c\u002F6c7\u002F0ab\u002F43c6c70ab024d45474e6abe8db797573.jpg","speciality":"Автор"},"statistics":{"commentsCount":34,"favoritesCount":10,"readingCount":10488,"score":11,"votesCount":17},"hubs":[{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"306","alias":"mysql","type":"collective","title":"MySQL","titleHtml":"MySQL","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"594","alias":"sql","type":"collective","title":"SQL","titleHtml":"SQL","isProfiled":true},{"relatedData":null,"id":"7152","alias":"data_mining","type":"collective","title":"Data Mining","titleHtml":"Data Mining","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cstrong\u003EВ среднем 24,1 ответа в день (если все 365 дней в году считать рабочими) на протяжении почти 10 лет.\u003C\u002Fstrong\u003E \u003C\u002Fp\u003E\u003Cp\u003EНесколько дней назад на некоторых англоязычных ресурсах началось обсуждение одного очень необычного пользователя Stack Overflow. Его зовут Гордон Линофф (Gordon Linoff), он из Нью-Йорка, и за 9 лет и 8 месяцев своего присутствия на платформе он дал 85,201 ответов на различные вопросы, в основном связанные с SQL и дата-майнингом (цифра актуальна на 27.09.2021). \u003C\u002Fp\u003E\u003Cp\u003EЧто это за маг?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"sql"},{"titleHtml":"mysql"},{"titleHtml":"stackoverflow"},{"titleHtml":"базы данных"},{"titleHtml":"дата майнинг"},{"titleHtml":"data mining"}]},"580060":{"id":"580060","timePublished":"2021-09-27T09:00:04+00:00","isCorporative":true,"lang":"ru","titleHtml":"Арракис, который мы заслужили","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"238277","alias":"Zelenyikot","fullname":"Виталий Егоров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F22b\u002F2d7\u002F7a5\u002F22b2d77a57b687aae24784a3e53089c9.jpg","speciality":"Популяризатор космонавтики"},"statistics":{"commentsCount":105,"favoritesCount":37,"readingCount":19588,"score":131,"votesCount":141},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false},{"relatedData":null,"id":"21984","alias":"sci-fi","type":"collective","title":"Научная фантастика","titleHtml":"Научная фантастика","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F580060\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk0\u002Fds\u002Fy5\u002Fk0dsy5npxclyjdytiroqga7-leu.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nВо вселенной писателя-фантаста Фрэнка Герберта, Дюна, она же Арракис &mdash; это пустынная и маловодная планета с двумя лунами. По сюжету, она находится за пределами Солнечной системы, но если мы захотим поискать ближайшую схожую параллель,&nbsp;то больше всего подходит планета Марс. Предлагаю воспользоваться возможностями, которые даёт современная космонавтика, и совершить воображаемую прогулку на нашу Дюну.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Марс"},{"titleHtml":"Дюна"},{"titleHtml":"MRO"},{"titleHtml":"Curiosity"},{"titleHtml":"марсоход"},{"titleHtml":"ruvds_статьи"}]},"580088":{"id":"580088","timePublished":"2021-09-26T21:17:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Запуск X-приложения в chroot на примере POSE (или «QEMU не нужен»)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1481597","alias":"edo1h","fullname":null,"avatarUrl":"","speciality":"немного программист, немного админ"},"statistics":{"commentsCount":5,"favoritesCount":15,"readingCount":1266,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"221","alias":"sys_admin","type":"collective","title":"Системное администрирование","titleHtml":"Системное администрирование","isProfiled":true},{"relatedData":null,"id":"7289","alias":"nix","type":"collective","title":"*nix","titleHtml":"*nix","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта мини-статья родилась как ответ на статью \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F579296\" rel=\"noopener noreferrer nofollow\"\u003EУпрощаем эмуляцию X86 с помощью Live CD\u003C\u002Fa\u003E, в которой для запуска старых 32-битных приложений на 64-битных дистрибутивах Linux предлагалось использовать QEMU + Live CD — по моему мнению «из пушки по воробьям». Опишу своё решение на \u003Ccode\u003Echroot\u003C\u002Fcode\u003E + \u003Ccode\u003Edebootstrap\u003C\u002Fcode\u003E. \u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"chroot"},{"titleHtml":"debootstrap"},{"titleHtml":"xwindow"}]},"580090":{"id":"580090","timePublished":"2021-09-26T21:19:11+00:00","isCorporative":false,"lang":"ru","titleHtml":"Сравнение подходов к реализации распределенных транзакций для микросервисов","editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null},{"type":"translation","data":{"originalAuthorName":"Bilgin Ibryam","originalUrl":"https:\u002F\u002Fdevelopers.redhat.com\u002Farticles\u002F2021\u002F09\u002F21\u002Fdistributed-transaction-patterns-microservices-compared"}}],"author":{"id":"194270","alias":"sprosin","fullname":"Sergey Prosin","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd67\u002F5d8\u002F1d6\u002Fd675d81d6fe5bf69493735cef4910eb5.jpg","speciality":"Веду команды к релизам, пишу статьи, выступаю."},"statistics":{"commentsCount":6,"favoritesCount":100,"readingCount":5826,"score":20,"votesCount":20},"hubs":[{"relatedData":null,"id":"7504","alias":"refactoring","type":"collective","title":"Проектирование и рефакторинг","titleHtml":"Проектирование и рефакторинг","isProfiled":true},{"relatedData":null,"id":"21482","alias":"distributed_systems","type":"collective","title":"Распределённые системы","titleHtml":"Распределённые системы","isProfiled":true},{"relatedData":null,"id":"22115","alias":"microservices","type":"collective","title":"Микросервисы","titleHtml":"Микросервисы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКак архитектор-консультант в Red Hat, я имел возможность поработать над множеством проектов для наших клиентов. У каждого из них есть свои особенности, которые, однако, имеют некоторые общие черты. Большинство клиентов хотят знать, как скоординировать запись в несколько систем одновременно. Ответ на этот вопрос обычно включает подробное объяснение двойной записи, распределенных транзакций, современных альтернатив, а также возможных сценариев сбоев и недостатков каждого подхода. Как правило, именно в этот момент заказчик понимает, что разделение монолитного приложения на микросервисы - долгий и сложный путь, обычно требующий компромиссов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"распределенные системы"},{"titleHtml":"микросервисы"},{"titleHtml":"транзакции"},{"titleHtml":"распределенные транзакции"},{"titleHtml":"оркестрация"},{"titleHtml":"оркестрация микросервисов"},{"titleHtml":"хореография"},{"titleHtml":"конвейеры"}]},"580092":{"id":"580092","timePublished":"2021-09-26T21:49:14+00:00","isCorporative":false,"lang":"ru","titleHtml":"30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"805873","alias":"rantal","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":93,"favoritesCount":59,"readingCount":19322,"score":48,"votesCount":48},"hubs":[{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"17350","alias":"s_admin","type":"collective","title":"Серверное администрирование","titleHtml":"Серверное администрирование","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E30 сентября 2021 14:01:15  GMT оканчивается срок действия корневого сертификата IdenTrust DST Root CA X3.\u003C\u002Fp\u003E\u003Cp\u003EЭто событие достойно вашего внимания по той причине, что после наступления этого момента ряд устаревших систем перестанут доверять сертификатам,&nbsp;выпущенным центром сертификации Let’s Encrypt. С учётом того, что на текущий момент Let's Encrypt предоставляет бесплатные криптографические сертификаты примерно для \u003Ca href=\"https:\u002F\u002Fletsencrypt.org\u002Fstats\u002F\" rel=\"noopener noreferrer nofollow\"\u003E250 миллионов доменных имен\u003C\u002Fa\u003E, а \"устаревшие системы\" - это порой системы возрастом всего 5-6 лет, вряд ли окончание срока действия сертификата&nbsp;DST Root CA X3 пройдёт для всех гладко и незаметно. В чём причина, кого конкретно это затронет, и что можно сделать?\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"let's encrypt"},{"titleHtml":"DST Root CA X3"},{"titleHtml":"корневой сертификат"},{"titleHtml":"https"},{"titleHtml":"tls"},{"titleHtml":"openssl"}]},"580094":{"id":"580094","timePublished":"2021-09-26T22:35:26+00:00","isCorporative":false,"lang":"ru","titleHtml":"Блокчейн нас подвёл? Почему ДЭГ — это плохо и можем ли мы адекватно контролировать процесс подсчёта голосов?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"206414","alias":"PoltoS","fullname":"Сергей Полторак","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F5cf\u002F03a\u002Fc7f\u002F5cf03ac7fe60ea8a6686bd4c57627ddc.png","speciality":""},"statistics":{"commentsCount":100,"favoritesCount":27,"readingCount":15188,"score":32,"votesCount":54},"hubs":[{"relatedData":null,"id":"118","alias":"crypto","type":"collective","title":"Криптография","titleHtml":"Криптография","isProfiled":true},{"relatedData":null,"id":"210","alias":"it_testing","type":"collective","title":"Тестирование IT-систем","titleHtml":"Тестирование IT-систем","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EИнтересно наблюдать, как дискредитируется термин блокчейна на выборах в госдуму. Вроде голосование было на блокчейне, но его якобы подделали. Т.е. блокчейн можно подделать или ЦИК и ДИТ нам подсунули какой-то лохчейн вместо блокчейна?!? И мало кто обсуждает происходящее по существу без эмоций, связанных с результатами партий и кандидатов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Криптография"},{"titleHtml":"блокчейн"},{"titleHtml":"открытые данные"},{"titleHtml":"электронное голосование"},{"titleHtml":"выборы"},{"titleHtml":"выборы в госдуму"},{"titleHtml":"дэг"},{"titleHtml":"дэг 2021"}]},"580124":{"id":"580124","timePublished":"2021-09-27T13:03:14+00:00","isCorporative":true,"lang":"ru","titleHtml":"Электролюминесцентные индикаторы из прошлого","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"146371","alias":"radiolok","fullname":"Артем Кашканов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa46\u002Fc6a\u002F151\u002Fa46c6a15193f7c0cac79d2736b107358.jpg","speciality":"Релейно-декатронный маньяк"},"statistics":{"commentsCount":11,"favoritesCount":37,"readingCount":4420,"score":67,"votesCount":67},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false},{"relatedData":null,"id":"21930","alias":"antikvariat","type":"collective","title":"Старое железо","titleHtml":"Старое железо","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Сегодня речь пойдёт об электролюминесцентных индикаторах. Но, не о тех, которые окружают вас повсюду и к которым вы привыкли, а о других — получивших огромную популярность в 60-е годы прошлого века, и так же стремительно канувших в небытие. Заодно запущу свою коллекцию индикаторов, как серийно выпускавшихся, так и уникальных опытных и даже — лабораторных образцов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F523004\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F94e\u002F51f\u002F459\u002F94e51f459ae59c9d2fe6c448cb07bcca.gif\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Индикатор"},{"titleHtml":"электролюминесцентность"},{"titleHtml":"ruvds_статьи"}]},"580150":{"id":"580150","timePublished":"2021-09-27T10:50:03+00:00","isCorporative":true,"lang":"ru","titleHtml":"Топ-5 когнитивных искажений при планировании в IT","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2794469","alias":"KM_QA","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":7,"favoritesCount":47,"readingCount":5005,"score":32,"votesCount":34},"hubs":[{"relatedData":null,"id":"14332","alias":"oleg-bunin","type":"corporative","title":"Блог компании Конференции Олега Бунина (Онтико)","titleHtml":"Блог компании Конференции Олега Бунина (Онтико)","isProfiled":false},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true},{"relatedData":null,"id":"20754","alias":"tech_events","type":"collective","title":"Конференции","titleHtml":"Конференции","isProfiled":false},{"relatedData":null,"id":"21990","alias":"brain","type":"collective","title":"Мозг","titleHtml":"Мозг","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"4","alias":"marketing","title":"Маркетинг"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта статья подходит для тимлидов и их подопечных, а также для всех, кто оценивает проекты и задачи. Я расскажу, как и почему мы делаем ошибки из-за когнитивных искажений. Попадаем в них мы почти все, просто потому что мы живые люди. И на примере одного дня из жизни тимлида я хочу показать, в какие искажения чаще всего влетают в IT, и&nbsp; — самое полезное&nbsp; —&nbsp; как из них можно выходить.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EЗамечу, что искать когнитивные искажения стоит, в первую очередь, у себя, а не у коллег. \u003C\u002Fstrong\u003EИ что рассказывать про искажения намного проще, чем не влетать в их на практике, однако, если этому научиться, то в перспективе это изрядно окупается, потому что экономит и время, и деньги, помогая и нам, и команде.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"когнитивные искажения"},{"titleHtml":"нейрофизиология"},{"titleHtml":"мозг"},{"titleHtml":"психология"},{"titleHtml":"тимлидство"},{"titleHtml":"тимлид"},{"titleHtml":"управление людьми"},{"titleHtml":"управление проектами и командой"},{"titleHtml":"управление командой"},{"titleHtml":"управление персоналом"}]},"580172":{"id":"580172","timePublished":"2021-09-27T11:45:49+00:00","isCorporative":true,"lang":"ru","titleHtml":"Небинарный ngIf*","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1050218","alias":"Waterplea","fullname":"Александр Инкин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa70\u002F569\u002Ff31\u002Fa70569f31346559ce2b8b875e7f97480.jpg","speciality":"Google Developer Expert | Angular"},"statistics":{"commentsCount":1,"favoritesCount":11,"readingCount":844,"score":14,"votesCount":14},"hubs":[{"relatedData":null,"id":"17420","alias":"tinkoff","type":"corporative","title":"Блог компании TINKOFF","titleHtml":"Блог компании TINKOFF","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"18109","alias":"angular","type":"collective","title":"Angular","titleHtml":"Angular","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВам когда-нибудь хотелось отобразить состояние загрузки, пока \u003Ccode\u003EngIf\u003C\u002Fcode\u003E ждет ответа от \u003Ccode\u003Easync\u003C\u002Fcode\u003E-пайпа? Или, может, вы мечтали передать в \u003Ccode\u003EngFor\u003C\u002Fcode\u003E шаблон для пустого массива? Возможно, вы бросили это, потому что вам не хотелось реализовывать базовую логику этих директив самому. На самом деле в этом нет нужды! Один и тот же селектор может подцепить несколько директив, что позволяет расширить функциональность встроенных директив дополнительной логикой.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"template"},{"titleHtml":"directive"},{"titleHtml":"angular"},{"titleHtml":"structural"}]},"580194":{"id":"580194","timePublished":"2021-09-27T12:36:12+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сотрудники на карте: отвечаем на 10 важных вопросов о трекинге","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1254716","alias":"Axelus","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F118\u002Fc4f\u002F08f\u002F118c4f08ffa66438ad6be22e205d563d.png","speciality":"Разработчик"},"statistics":{"commentsCount":0,"favoritesCount":6,"readingCount":994,"score":13,"votesCount":15},"hubs":[{"relatedData":null,"id":"20758","alias":"regionsoft","type":"corporative","title":"Блог компании RegionSoft","titleHtml":"Блог компании RegionSoft","isProfiled":false},{"relatedData":null,"id":"6398","alias":"it-infrastructure","type":"collective","title":"IT-инфраструктура","titleHtml":"IT-инфраструктура","isProfiled":true},{"relatedData":null,"id":"12365","alias":"saas","type":"collective","title":"SaaS \u002F S+S","titleHtml":"SaaS \u002F S+S","isProfiled":true},{"relatedData":null,"id":"17783","alias":"geo","type":"collective","title":"Геоинформационные сервисы","titleHtml":"Геоинформационные сервисы","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛюбой контроль сотрудников — опасный и болезненный вопрос, особенно в небольших компаниях. Часто в дружеские и открытые отношения компании не вписывается ни одна из форм контроля, рассчитывать можно только на доверие. Но пресловутый ковид и здесь внёс свои коррективы: расширение удалённой работы, увеличение штата мобильных сотрудников, частичная занятость пополнили ряды полевых сисадминов, аутсорсеров поддержки и остальных «разъездных» работников. Увы, люди разные и вслед за приятными плодами и бонусами удалёнки пришли негативные истории про поведение курьеров, опоздания и откровенные нарушения сотрудников на территории клиентов, неявки на работу или к заказчику и т.д. С этим столкнулись и ритейл, и ИТ, и любая сфера с мобильными сотрудниками. Очень хочется верить в лучшее, но без минимального контроля можно просто потерять бизнес — и тогда пострадают коллеги нерадивых сотрудников.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"geomonitor"},{"titleHtml":"геолокация"},{"titleHtml":"геозона"},{"titleHtml":"трекинг"}]},"580196":{"id":"580196","timePublished":"2021-09-27T12:28:15+00:00","isCorporative":true,"lang":"ru","titleHtml":"Зачем нужен динамический анализ кода, на примере проекта PVS-Studio","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"2302295","alias":"MrROBUST","fullname":"Алексей Говоров","avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":3,"readingCount":620,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"18095","alias":"pvs-studio","type":"corporative","title":"Блог компании PVS-Studio","titleHtml":"Блог компании PVS-Studio","isProfiled":false},{"relatedData":null,"id":"559","alias":"cpp","type":"collective","title":"C++","titleHtml":"C++","isProfiled":true},{"relatedData":null,"id":"11606","alias":"vs","type":"collective","title":"Visual Studio","titleHtml":"Visual Studio","isProfiled":true},{"relatedData":null,"id":"21456","alias":"win_dev","type":"collective","title":"Разработка под Windows","titleHtml":"Разработка под Windows","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ разговоре с Маршаллом Клоу на подкасте CppCast #300 ABI Stability была затронута достаточно давняя новость о поддержке компиляторами Visual Studio инструмента AddressSanitizer (ASan). Мы уже достаточно давно внедрили ASan в свою систему тестирования и хотим рассказать о паре интересных ошибок, которые он помог найти.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F7ef\u002F2db\u002F210\u002F7ef2db210d677f9a8c07026d4361d3ba.png\" alt=\"0868_PVS-Studio_ASan_ru\u002Fimage2.png\"\u003E\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"pvs-studio"},{"titleHtml":"clang"},{"titleHtml":"asan"},{"titleHtml":"sanitizer"},{"titleHtml":"динамический анализ кода"}]},"580206":{"id":"580206","timePublished":"2021-09-27T12:51:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"МТС отказался от скрытых мобильных подписок?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2467147","alias":"Plusodin","fullname":"Владимир","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F343\u002Fb77\u002Fd12\u002F343b77d12f047368849a9880276f936e.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":8,"favoritesCount":4,"readingCount":4333,"score":13,"votesCount":13},"hubs":[{"relatedData":null,"id":"22008","alias":"cellular","type":"collective","title":"Сотовая связь","titleHtml":"Сотовая связь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр!\u003C\u002Fp\u003E\u003Cp\u003EНу что, подходит к концу первый сезон сериала «О скрытых мобильных подписках и операторах связи». Предыдущие три серии: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F550448\u002F\" rel=\"noopener noreferrer nofollow\"\u003EМегафон\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F563260\u002F\" rel=\"noopener noreferrer nofollow\"\u003EБилайн\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F571256\u002F\" rel=\"noopener noreferrer nofollow\"\u003ETele2\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНу и вишенка на этом торте – МТС.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"мтс"},{"titleHtml":"мобильные подписки"},{"titleHtml":"подписки"},{"titleHtml":"оператор связи"},{"titleHtml":"теле2"},{"titleHtml":"мегафон"},{"titleHtml":"билайн"}]},"580208":{"id":"580208","timePublished":"2021-09-27T12:52:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Основная проблема образования","editorVersion":"2.0","postType":"article","postLabels":[{"type":"recovery","data":null}],"author":{"id":"2270142","alias":"Chronicler","fullname":"Пушиз де Хрониклер","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Faa3\u002F149\u002Fdb0\u002Faa3149db0de5f6c071dfade7285fcb99.jpg","speciality":"Исследователь ближнего заполярья, почетный манул"},"statistics":{"commentsCount":11,"favoritesCount":11,"readingCount":2147,"score":8,"votesCount":20},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"17189","alias":"itstandarts","type":"collective","title":"IT-стандарты","titleHtml":"IT-стандарты","isProfiled":true},{"relatedData":null,"id":"20682","alias":"pm","type":"collective","title":"Управление проектами","titleHtml":"Управление проектами","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНа днях на Хабре появилась \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F579998\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eкритическая статья\u003C\u002Fa\u003E о бакалавриате, что называется \"из первых уст\", от очередного первохода. Статья далеко не лишена смысла, однако главная проблема не была в ней затронута. А заключается она вовсе не в обилии посторонних дисциплин и даже не в том, что в учебных заведениях так мало разъясняют суровую конкретику жизни \"научиться штамповать JavaScript сайты за месяц\".  Да, эти проблемы присутствуют, наряду с плохой подготовкой педагогов и отношением к студентам, но не они на корню обесценивают нынешнее образование.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Что же на самом деле не так?","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"программирование"},{"titleHtml":"образование"},{"titleHtml":"курсы не нужны"},{"titleHtml":"вуз"}]},"580210":{"id":"580210","timePublished":"2021-09-27T12:53:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"PHP Дайджест № 212 (13 – 27 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"100489","alias":"pronskiy","fullname":"Роман Пронский","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F27f\u002Fb99\u002Feb3\u002F27fb99eb3e30e3221c5839e88be02395.jpg","speciality":"PHP"},"statistics":{"commentsCount":1,"favoritesCount":10,"readingCount":3234,"score":36,"votesCount":36},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"477","alias":"symfony","type":"collective","title":"Symfony","titleHtml":"Symfony","isProfiled":true},{"relatedData":null,"id":"9554","alias":"yii","type":"collective","title":"Yii","titleHtml":"Yii","isProfiled":true},{"relatedData":null,"id":"18812","alias":"laravel","type":"collective","title":"Laravel","titleHtml":"Laravel","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fek\u002F6r\u002Fr1\u002Fek6rr1odvyzb89tfv0lq4cmfxi4.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПодборка свежих новостей и материалов из мира PHP.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВышел PHP 8.1 RC2 и уже доступен первый пакет с использованием перечислений, будет сделан форк Magento, новый тип стандартов PER в дополнение к PSR, стартовала PhpStorm 2021.3 EAP, Symfony 6 будет полностью типизирован — как обновляться?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля PHP 8.2 предложены новые оптимизированные структуры данных.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже в выпуске порция инструментов, полезные статьи, видео и анонсы двух митапов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПриятного чтения!\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"php-дайджест"},{"titleHtml":"PHP"},{"titleHtml":"Symfony"},{"titleHtml":"Laravel"},{"titleHtml":"Magento"},{"titleHtml":"PHPUnit"},{"titleHtml":"PHP 8.1"},{"titleHtml":"PHP 8.2"}]},"580228":{"id":"580228","timePublished":"2021-09-27T16:41:21+00:00","isCorporative":true,"lang":"ru","titleHtml":"Идеальная светодиодная лампа за 21 рубль","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"108988","alias":"AlexeyNadezhin","fullname":"Алексей Надежин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffdc\u002F3ac\u002F9a2\u002Ffdc3ac9a2dc0107cc956f1bd0cf5fc2b.jpg","speciality":"Блогер"},"statistics":{"commentsCount":22,"favoritesCount":32,"readingCount":7470,"score":61,"votesCount":63},"hubs":[{"relatedData":null,"id":"21646","alias":"lamptest","type":"corporative","title":"Блог компании LampTest","titleHtml":"Блог компании LampTest","isProfiled":false},{"relatedData":null,"id":"21894","alias":"gadgets","type":"collective","title":"Гаджеты","titleHtml":"Гаджеты","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Удивительно осознавать, что достаточно сложное электронное устройство, которым является светодиодная лампочка, может стоить 21 рубль. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕщё сложнее поверить, что эта лампочка безукоризненна по всем параметрам.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F20f\u002F849\u002Ffcd\u002F20f849fcd6a3891f506676fc87223bdf.jpg\"\u003E\u003C\u002Fdiv\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"led"},{"titleHtml":"светодиодные лампы"},{"titleHtml":"тест"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["580060","580124","580228","580092","580210","580150","580094","579854","580090","580088","572164","580172","580008","580206","580194","580050","580196","579772","579984","580208"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":3},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["579398","579126","69029"],"similarListRefs":{"69029":{"id":"69029","timePublished":"2009-09-08T11:35:48+00:00","isCorporative":false,"lang":"ru","titleHtml":"osvirtual.net: виртуальные образы операционных систем","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"8344","alias":"kryzander","fullname":"Владимир Громадин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F6af\u002F46d\u002F952\u002F6af46d9526b414b4fcda792d8b54a4a6.jpg","speciality":null},"statistics":{"commentsCount":57,"favoritesCount":34,"readingCount":1882,"score":49,"votesCount":55},"hubs":[{"id":"21918","alias":"soft","type":"collective","title":"Софт","titleHtml":"Софт","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп","titleHtml":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ch3\u003EИстоки и причины\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВ свободное время мне иногда очень приятно покопаться в какой-нибудь старой операционной системе. Или в относительно старой, или в просто специфической. Конечно, лучше всего эти операционки ставить на настоящий компьютер (что я изначально и делал), но постепенно все меньше времени — и меньше желания возиться со старым железом или с очередной переразбивкой дисков на десктопе с параллельным поиском драйверов под железо, не поддерживаемое операционной системой. И вот на каком-то этапе пришлось перейти на виртуальные машины.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПроцесс установки даже на стандартную виртуальную машину часто нетривиальный или просто безумно длительный; свои сложности и с поддержкой виртуального железа. Через какое-то время на домашнем компьютере накопилось определенное число образов операционок, из них часть довольно редкие.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EOSvirtual: от NextStep до aGNUla\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nПоэтому эту коллекцию &mdash; для себя и для интересующихся (вероятно, для немногих :) &mdash; выложил в сеть в виде сайта \u003Ca href=\"http:\u002F\u002Fosvirtual.net\u002Fru\"\u003EOSvirtual\u003C\u002Fa\u003E (есть и \u003Ca href=\"http:\u002F\u002Fosvirtual.net\u002Fen\"\u003Eанглийская версия\u003C\u002Fa\u003E, пусть и сделанная по остаточному принципу). ОС, выложенные тут, &mdash; это либо совсем \u003Cb\u003Eстарые ОС\u003C\u002Fb\u003E, которые можно запускать разве что как ностальгические игрушки (и которые сейчас не продаются, а часто и свободно доступны для скачивания с официального сайта), либо ОС, по какой-либо причине мне интересные (мультимедиа-ориентированные дистрибутивы линуксов, например, или линуксы 5-7 летней давности и старше). Множество же современных мейнстримовых дистрибутивов линукса, которые без проблем находятся на VMPlanet или Linhost, меня особенно не интересовало…\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"579126":{"id":"579126","timePublished":"2021-09-21T09:57:30+00:00","isCorporative":true,"lang":"ru","titleHtml":"5 проблем и их решения при создании высоконагруженного сервиса с использованием .NET и Kafka","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2454701","alias":"parimatch_tech","fullname":"Parimatch Tech","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F3d1\u002F618\u002Fbbf\u002F3d1618bbfc5355d1de20ab51c4b20f15.png","speciality":"User"},"statistics":{"commentsCount":13,"favoritesCount":28,"readingCount":3587,"score":6,"votesCount":12},"hubs":[{"id":"22536","alias":"parimatch_tech","type":"corporative","title":"Блог компании Parimatch Tech","titleHtml":"Блог компании Parimatch Tech","isProfiled":false},{"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true},{"id":"546","alias":"net","type":"collective","title":".NET","titleHtml":".NET","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ 1967 году Мелвин Конвей сформулировал известный тезис, без упоминания о котором не обходится практически ни одно руководство по созданию микросервисной архитектуры. И не напрасно, ведь не одно поколение разработчиков сталкивалось с его подтверждениями. \u003C\u002Fp\u003E\u003Cp\u003EНо если структура коммуникаций компании меняется из-за развития и выхода на новые международные рынки, то приходится менять сам продукт для соответствия потребностям пользователей этих рынков. \u003C\u002Fp\u003E\u003Cp\u003EИменно с задачей по подготовке продукта к выходу на международные рынки и столкнулась наша команда летом 2020-го года. На тот момент у нас был обширный набор микросервисов, спроектированных и поддерживаемых исходя из старой организационной структуры компании. Поддерживать эту кучу сервисов было сложно и дорого. Более того, куча сервисов уже не соответствовала актуальным требованиям бизнеса и технологическим трендам. Об этом под катом:\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fde1\u002Fedc\u002F61d\u002Fde1edc61d012001773cd18280e96ce50.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fde1\u002Fedc\u002F61d\u002Fde1edc61d012001773cd18280e96ce50.png","fit":"cover","positionY":40.454545454545,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null},"579398":{"id":"579398","timePublished":"2021-09-22T13:44:17+00:00","isCorporative":true,"lang":"ru","titleHtml":"Backend Performance Meetup","editorVersion":"1.0","postType":"news","postLabels":[],"author":{"id":"491018","alias":"meowsphere","fullname":"Anna Kryukova (Vlasyuk)","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb82\u002F59c\u002F06c\u002Fb8259c06c32b2536aed0dc44eb4d9aeb.jpg","speciality":"Employer Brand Manager"},"statistics":{"commentsCount":5,"favoritesCount":2,"readingCount":268,"score":9,"votesCount":9},"hubs":[{"id":"13027","alias":"superjob","type":"corporative","title":"Блог компании SuperJob","titleHtml":"Блог компании SuperJob","isProfiled":false},{"id":"22309","alias":"manychat","type":"corporative","title":"Блог компании ManyChat","titleHtml":"Блог компании ManyChat","isProfiled":false},{"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true},{"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"id":"20740","alias":"career","type":"collective","title":"Карьера в IT-индустрии","titleHtml":"Карьера в IT-индустрии","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент","titleHtml":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"ManyChat и SuperJob приглашают PHP-разработчиков на \u003Cb\u003Eмитап по производительности бэкенда\u003C\u002Fb\u003E. Спикеры из Авито, «Ситимобила», ManyChat и SuperJob поделятся своим опытом и расскажут о практиках, которые позволяют создавать качественные и надежные продукты.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВстреча пройдёт \u003Cb\u003E30 сентября\u003C\u002Fb\u003E в гибридном формате — офлайн в офисах SuperJob и ManyChat, а также онлайн с YouTube-трансляцией.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПодробности программы, ссылка для регистрации и бонус-трек — под катом.\u003Cbr\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmu\u002Ffm\u002Fu_\u002Fmufmu_zqqhgtexqklsnw6gezfcy.png\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"nullbie":{"scoreStats":{"score":87.2,"votesCount":116},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"46597","alias":"nullbie","fullname":"Victor Pavlychko","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd50\u002F14b\u002F0d9\u002Fd5014b0d926b892b560cba658ae0809c.png","speciality":null}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
