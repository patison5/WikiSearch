<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Удивительная страна Oz, или как принять данные при помощи send / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.01bb2993.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.76acc47b.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.0f7bdd8f.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.01bb2993.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-f458c7c4.e48e8f79.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.4f7c12b4e1b1b4c0e44ef6f9f33b1f9f.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/63715\/"},"headline":"Удивительная страна Oz, или как принять данные при помощи send","datePublished":"2009-07-06T22:52:08+04:00","dateModified":"2009-07-07T09:58:47+04:00","author":{"@type":"Person","name":"Михаил Бахтерев"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http:...","url":"https:\/\/habr.com\/ru\/post\/63715\/#post-content-body","about":["h_programming","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/63715\/cdd509820e6f13de16402f1e0c86a0c0\/"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.47.1">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Удивительная страна Oz, или как принять данные при помощи send" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Удивительная страна Oz, или как принять данные при помощи send" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Удивительная страна Oz, или как принять данные при помощи send" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http://www.mozart-oz.org. Язык тогда..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http://www.mozart-oz.org. Язык тогда..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http://www.mozart-oz.org. Язык тогда..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http://www.mozart-oz.org. Язык тогда..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http://www.mozart-oz.org. Язык тогда..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/63715/cdd509820e6f13de16402f1e0c86a0c0/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/63715/cdd509820e6f13de16402f1e0c86a0c0/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/63715/cdd509820e6f13de16402f1e0c86a0c0/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/63715/cdd509820e6f13de16402f1e0c86a0c0/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/63715/cdd509820e6f13de16402f1e0c86a0c0/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="63715" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2009-07-06T18:52:08.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/63715/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/63715/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/63715/cdd509820e6f13de16402f1e0c86a0c0/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.cee85629.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
              Как стать автором
            </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.cee85629.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.cee85629.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.cee85629.svg#pull-arrow"></use></svg></div></div> <!----> <div class="tm-page-article__body"><article class="tm-page-article__content tm-page-article__content_inner"><div class="tm-page-article__head-wrapper"><!----> <div class="tm-article-snippet tm-page-article__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/mikhanoid/" title="mikhanoid" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/5e0/66a/28f/5e066a28f8ee8a2fcb1e1082af1de698.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/mikhanoid/" class="tm-user-info__username">
      mikhanoid
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2009-07-06T18:52:08.000Z" title="2009-07-06, 22:52">6  июля  2009 в 22:52</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Удивительная страна Oz, или как принять данные при помощи send</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/programming/" class="tm-article-snippet__hubs-item-link"><span>Программирование</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz <a href="http://www.mozart-oz.org">http://www.mozart-oz.org</a>. Язык тогда показался мне достойным того, чтобы представить его Habraсообществу. И вот, у меня появилось время и причины это сделать. <br/>
<br/>
Oz — мультипарадигменный язык программирования. Набор базовых абстракций в языке необычный и позволяет, например, написать отправляющую информацию процедуру <code>send</code> так, что при её помощи можно будет так же и получать данные. И без всякого подвоха вроде: <br/>
<br/>
<code>send(socket; buffer; flag) = (if (flag == RECV) (recv(socket; buffer)) or (realsend(socket; buffer)))</code>. <br/>
<br/>
Речь идёт именно о том, что отправка и получение данных осуществляются одной и той же последовательностью операций виртуальной машины Oz. Естественно, достигается это за счёт особых абстракций для работы с данными и с параллельными процессами. Описанию этих абстракций и посвящён этот текст, потому как на мой взгляд — они неплохо позволяют почувствовать особенности Oz. Конечно, Oz больше, чем изложенное ниже, но, как мне кажется, тайна хитрого send — материал подходящий для первого знакомства с этим языком и для получения от него удовольствия. <br/>
<br/>
<a name="habracut"></a> <br/>
<br/>
<h6>0. Введение</h6> <br/>
<br/>
Начать можно с текста программы, реализующей конструкцию <code>Port</code>, через которую передаются данные при помощи процедуры send. В эту же программ включён пример использования <code>Port</code>. Исходный код (имя собственное в этом тексте): <br/>
<br/>
<blockquote><pre> 
	declare Port in 
	 
	local PortTag NewPort IsPort Send in 
		PortTag = {NewName} 
	 
		fun {NewPort FS} 
			local S C in 
				C = {NewCell S} 
				FS = !!S 
				{NewChunk port(PortTag: C)} 
			end 
		end 
	 
		fun {IsPort ?P} 
			{Chunk.hasFeature P PortTag} 
		end 
	 
		proc {Send P M} 
			local Ms Mr in 
				{Exchange P.PortTag Ms Mr} 
				Ms = M | !!Mr 
			end 
		end 
	 
		Port = port 
		( 
			new: NewPort 
			is: IsPort 
			send: Send 
		) 
	end 
	 
	declare NewQueueServer in 
	 
	fun {NewQueueServer} 
		local Given GivePort Taken TakePort Join in 
			GivePort = {Port.new Given} 
			TakePort = {Port.new Taken} 
	 
			proc {Join Xs Ys} 
				local Xr Yr X Y in 
					Xs = X | Xr 
					Ys = Y | Yr 
					X = Y 
					{Join Xr Yr} 
				end 
			end 
	 
			thread {Join Given Taken} end 
		 
			queue 
			( 
				put: proc {$ X} {Port.send GivePort X} end 
				get: proc {$ X} {Port.send TakePort X} end 
			) 
		end 
	end 
	 
	declare Q in 
	 
	thread Q = {NewQueueServer} end 
	 
	{Q.put 1} 
	{Browse {Q.get $}} 
	{Browse {Q.get $}} 
	{Q.put 2} 
</pre></blockquote> <br/>
<br/>
Как видно, никакого подвоха нет. Обе функции queueserver'а — <code>put</code> и <code>get</code> — реализованы при помощи процедуры <code>Send</code>, семантика которой соответствует её названию. Этот код мог бы быть и короче — в Oz достаточно синтаксического сахара, который не используется выше с целью сократить объём необходимых пояснений. <br/>
<br/>
Для понимания того, как этот код работает, нужно разобраться с (1) моделью исполнения программ на Oz: переменными, нитями, оператором выравнивания (<code>=</code>); (2) процедурами; (3) ячейками (cells), областями памяти (chunks) и будущими (futures). <br/>
<br/>
<h6>1. Переменные, нити, оператор <code>=</code></h6> <br/>
<br/>
Как было сказано, Oz — это мультипарадигменый язык. В Википедии он описан как функциональный, логический, императивный, объектно-ориентированный, распределённый, параллельный (в смысле concurrent) и как язык для программирования с ограничениями. Но в основе его лежит другая парадигма — программирование с потоками данных (dataflow programming). Oz реализует эту парадигму достаточно близко к исходной (применяющейся в архитектурах CPU) концепции вычислений с потоками данных, и делает это следующим образом. <br/>
<br/>
1.1. Все вычисления в Oz происходят с данными, которые содержатся в хранилище (store). Хранилище при этом является штукой довольно абстрактной (внутренняя механика скрыта от программиста, и информацией в store можно управлять только через определённый интерфейс) и распределённой (со store могут работать все участники Oz-вычисления, в том числе и разбросанные по сети). Store может хранить информацию в трёх разных видах. (1) В виде свободных или связанных логических переменных. (2) В виде ячеек (cells), которые представляют из себя скорее не ячейки памяти, а именованные изменяемые указатели на переменные. (3) В виде процедур, являющихся в Oz именноваными замыканиями (естественно, они являются first-order объектами, то есть, ими можно явно манипулировать в программе). <br/>
<br/>
1.2. Вычисление происходит при выполнении нити (thread). При этом нить в Oz — это и есть dataflow. То есть, некая последовательность операторов (statements), исполняемых друг за дружкой (всё как в императивных языках), но с одной оговоркой: оператор исполняется только в том случае, когда все используемые в нём переменные оказываются связанными. В противном случае нить приостанавливается и ожидает момента связывания нужных переменных. Собственно, выполнение некого оператора по факту готовности данных, используемых в нём и есть основной метод dateflow вычислений. <br/>
<br/>
Создаются нити в Oz очень просто, при помощи конструкции <code>thread ... end</code>. Создание это происходит в <code>fork()</code>-стиле. То есть, порождённая нить имеет доступ ко всем переменным (именно переменным), которые были доступны родительской нити на момент выполнения операции <code>thread ... end</code>. <br/>
<br/>
1.3. Переменные в Oz являются логическими. <br/>
<br/>
Логическая переменная в стиле Oz — это единожды связываемая переменная, которая может быть уравнена (equated) с другой переменной. <br/>
 <br/>
Вообще, это определение (перевод из руководства) мало что говорит о переменных в Oz. Они позволяют делать с собой чуть больше. И они существенно отличаются от привычных по c/javascript/haskell переменных, представляющих из себя либо именованные ячейки памяти (c/js), либо именованные значения (haskell). Вероятно, лучше всего представление о переменных в Oz даст описание некоторых технических деталей. <br/>
<br/>
1.3.1. Жизненный путь переменной в Oz начинается с того, что она объявляется (introduce) при помощи конструкций <code>local ... in ... end</code> или <code>declare ... in ...</code>. Отличия этих конструкций в том, что <code>local ...</code> позволяет объявить переменные только для использования в операциях, стоящих внутри <code>in ... end</code>, а объявленные при помощи <code>declare</code> переменные будут доступны всюду после соответствующего <code>in</code>. Естественно, <code>declare</code> можно использовать для определения переменных только в глобальной области видимости модуля. <br/>
<br/>
Объявление переменной заключается в том, что в store создаётся новый узел (node), на который ссылается объявленная переменная. И в узел записывается значение <code>unknown</code>, указывающее на то, что переменная никак не связана с данными. Если к такой переменной за данными обратится нить, то она будет приостановлена до того момента, как соответствующий node будет связан с данными. Например (код-1): <br/>
<br/>
<blockquote><pre> 
	local X in 
		thread {Browse 2 * X} end 
		X = 5 
	end 
</pre></blockquote> <br/>
<br/>
<code>Browse</code> — это одна из стандартных процедур Oz, распечатывающая свой аргумент. При объявлении <code>X</code> в этом примере будет создана переменная и соответсвующий ей новый узел в store. Когда <code>Browse</code> обратится через <code>X</code> к этому узлу, выполнение соответствующей нити будет приостановлено до тех пор, пока в соответсвующем <code>X</code> node не появится значение (тут может измениться как само значение в node, так и привязка переменной к узлу). <br/>
<br/>
1.3.2. Значения в узлы помещаются в процессе унификации (unification) или (другое название) инкрементального пересчёта (incremental tell). Унификацию для пары выражений выполняет оператор <code>=</code> (equality operator). В этом же процессе может измениться и привязка переменных к узлам. Алгоритм унификации для пары выражений (именно для выражений) в коде <code>E1 = E2</code> работает так (рекурсивная процедура с разбором вариантов того, чем могут быть E1 и E2). <br/>
<br/>
U.1. Результатами вычислений E1 и E2 являются значения атомарных типов Oz (атомарные — это неделимые типа: целые числа, числа с плавающей точкой, литералы — строки, например). В этом случае при равенстве этих значений оператор выполняется, а при неравенстве генерируется исключение (исключения в Oz достаточно стандартны и их обработка задаётся при помощи конструкции <code>try ... catch ... finally ... end</code>; <code>finally</code> — не обязательно). <br/>
<br/>
U.2. Результатом вычисления <code>E1</code> является некоторая переменная, а результатом вычисления <code>E2</code> — значение некоторого типа (симметричная к этой ситуации та, в которой вычисление <code>E1</code> приводит к значению некоторого типа, а <code>E2</code> — к переменной). Выгядеть это может так: <br/>
<br/>
<blockquote><pre> 
	X = (Y + Z) * 5 
</pre></blockquote> <br/>
<br/>
В этом случае работает всё следующим образом. <br/>
<br/>
U.2.1. Задаваемая <code>E1</code> переменная ссылается на unknown-узел. Если так, то в этот узел записывается значение, полученное вычислением <code>E2</code>, в результате чего <code>E1</code>-переменная оказывается связанной. <br/>
<br/>
U.2.2. Если <code>E1</code>-переменная уже является связанной с атомарным значением, то значение, которое находится в соответствующем узле сравнивается с <code>E2</code>-значением, и при несовпадении типов или самих этих значений генерируется исключение. В противном случае — оператор завершается. <br/>
<br/>
Именно по этому правилу связывается переменная <code>X</code> из кода-1. После того, как она связана со значением (5), выполняется, ожидающий этого связывания, оператор внутри вызыванной процедуры <code>Browse</code>. И тут должно быть понятно, что результат был бы точно таким же, если бы код-1 выглядел так: <br/>
<br/>
<blockquote><pre> 
	local X in 
		thread {Browse 2 * X} end 
		5 = X 
	end 
</pre></blockquote> <br/>
<br/>
В U.2. возможен ещё один вариант, когда <code>E1</code>-переменная связана со значением составного типа, но он будет рассмотрен позже, в пункте U.4… <br/>
<br/>
U.3. Как <code>E1</code> так и <code>E2</code> задают некоторую переменную. Тут тоже возможны варианты. <br/>
<br/>
U.3.1. Одна из переменных является несвязанной, или обе переменные оказываются несвязанными (то есть, они ссылаются на узлы со значением unknown). В этом случае узел одной из несвязанных переменных или unknown-узел той единственной, что не связана отбрасывается. Затем, ранее ссылавшаяся на этот узел переменная изменяется так, что начинает ссылаться на тот же узел, что и другая переменная. <br/>
<br/>
Здесь должно уже быть понятно, почему, выполняя код-2: <br/>
<br/>
<blockquote><pre> 
	local X Y Z in 
		thread {Browse X + Y + Z} end 
		X = Y 
	%	Z = X + Y 
		X = 10 
		X + Y = Z 
	end	 
</pre></blockquote><br/>
<br/>
Oz выдаст значение 40. И почему Oz 'подвиснет', если убрать комментарий (начинается с <code>%</code>). <br/>
<br/>
U.3.2. Обе переменных ссылаются на узлы, в которых записаны значения. В этом случае поведение следующее. Если это значения разных типов, или если это различные атомарные значения одного типа, то будет сгенерировано исключение. Если это равные значения некоторого атомарного типа, то оператор завершит своё выполнение. Но узлах могут хранится и значения составных типов. <br/>
<br/>
Основным составным типом в Oz является запись. Синтаксически записи выглядят примерно так: <br/>
<br/>
<blockquote><pre> 
	label (feature0: field0 feature2: field2 ... featureN: fieldN) 
</pre></blockquote> <br/>
<br/>
Примерно, потому что выше приведена закрытая запись, с фиксированным числом полей (field), а записи бывают ещё и открытые. К полям записи можно обращаться через точку, по названию соответствующего свойства (feature). Количество полей в структуре называется её арностью (arity). Более конкретный пример: <br/>
<br/>
<blockquote><pre> 
	U = habrauser(nick: 'mikhanoid' karma: 10 strength: 10) 
	K = U.karma 
</pre></blockquote> <br/>
<br/>
Тонкость: поля в значении типа запись сами являются переменными Oz. В примере выше при создании значения с типом запись и меткой habrauser создаются три переменные, которые были унифицированы согласно описываемому алгоритму со значениями атомарных типов: 'mikhanoid', 10 и 10. Но вместо таких значений унификацию полей-переменных можно проводить с любыми выражениями. К этому моменту должно быть понятно, как работает такой код: <br/>
<br/>
<blockquote><pre> 
	local U K S in 
(*)		U = habrauser(nick: 'mikhanoid' karma: K strength: S) 
		K = S 
		10 = K 
	end 
</pre></blockquote> <br/>
<br/>
В строке (*) несвязанная переменная <code>U</code> унифицируется со значением типа запись по правилу U.2.1. <br/>
 <br/>
У записей Oz важная роль — они превращают store в орграфовую структуру: если в узле хранится значение типа запись, то своими полями-переменными она указывает на другие узлы, то есть, поля — это нечто вроде дуг, помеченных названиями свойств. А описываемый алгоритм, благодаря пункту U.4., можно рассматривать как алгоритм слияния графов (graph merge). <br/>
<br/>
U.4. Здесь можно объединить такие случаи: (1) оба выражения <code>E1</code> и <code>E2</code> являются значениями типа записи, (2) оба выражения задают переменные, ссылающиеся на узлы, в которых хранятся записи, (3) одно из <code>E1</code>, <code>E2</code> задаёт значение типа запись, а другое — задаёт переменную, связанную с узлом, в котором запись хранится. Во всех этих случаях если записи имеют (a) разные метки, или (b) разную арность, или © разные наборы свойств, то генерируется исключение. Если же записи совпадают по пунктам (a), (b) и ©, то происходит унификация пар переменных из разных записей с одинаковыми именами свойств. <br/>
<br/>
На этот момент уже должно быть понятно, почему в результате работы такого кода: <br/>
<br/>
<blockquote><pre> 
	local W X Y Z in 
		W = X 
		Z = Y 
		f(a: 10 b: X) = f(a: Y b: 20) 
		{Browse W + Z} 
	end 
</pre></blockquote> <br/>
<br/>
будет выведено значение 30. <br/>
<br/>
Ещё одним интересным примером является такой код: <br/>
<br/>
<blockquote><pre> 
	local Z in 
		Z = f(Z 20) 
		{Browse Z} 
	end 
</pre></blockquote> <br/>
<br/>
Здесь <code>f</code> — это вариант записи, в которой свойства полей автоматически получают целочисленные имена от 1 до её арности. В Oz такие записи называются кортежами и являются аналогами составных выражений (compound term) в логическом программировании. В коде выше происходит следующее. (1) создаётся значение типа запись с двумя полями, то есть создаётся две переменных. (2) поле со свойством <code>1</code> унифицируется с несвязанной переменной Z, второе поле с атомарным значением 20. В итоге, значение <code>f</code> указывает на unknown-узел, на который указывает и переменная <code>Z</code> и на узел, хранящий значение 20. (3) в unknown-узел, на который указывает <code>Z</code> записывается значение типа запись, второй элемент которой (как и переменная Z) указывает на этот узел. Ничего особенного, просто получился цикл в графе store. <code>Browse</code> распечатает его примерно так: <code>R10 = f(R10 20)</code>. <br/>
<br/>
Списки в Oz являются разновидностью кортежей. Организованы они стандартно для функционального и логического программирования: список — это кортеж, первый элемент — голова — которого является переменной, а второй — списком, составляющим хвост. Обозначать голову у хвост списка можно при помощи символа <code>|</code>: <code>Head | Tail</code>. <br/>
<br/>
<h6>2. Процедуры</h6> <br/>
<br/>
Oz позволяет абстрагировать последовательности операторов при помощи процедур. Процедуры в Oz являются значениями (first-class objects), поэтому их можно свободно 'присваивать' переменным. Более детально. Oz хранит замыкания, реализующие процедуры, в store в виде некоторого кода. Каждое такое замыкание-процедура получает уникальное для всего store имя. Имена в Oz являются литералами — значениями атомарного типа. После создания кода процедуры и присвоения ему уникального имени имя записывается в узел, на который ссылается некоторая переменная. После чего процедуру можно вызывать через эту переменную. <br/>
<br/>
Именно поэтому в исходном коде <code>NewPort</code>, <code>IsPort</code>, <code>Send</code>,… объявляются как переменные при помощи <code>local</code> или <code>declare</code>. <br/>
<br/>
Базовой конструкцией, определяющей процедуру является <code>proc</code>: <br/>
<br/>
<blockquote><pre> 
	local ... P ... in 
		... 
		proc {P X1 ... XN} S1 ... SM end 
		... 
	end 
</pre></blockquote> <br/>
<br/>
<code>X1</code>, ..., <code>XN</code> — формальные аргументы. <code>S1</code>, ..., <code>SM</code> — последовательность операторов, реализующих процедуру. Вызываются процедуры при помощи фигурных скобок: <br/>
<br/>
<blockquote><pre> 
	{P A1 ... AN} 
</pre></blockquote> <br/>
<br/>
<code>A1</code>, ..., <code>AN</code> — действительные параметры: выражения, переменные и так далее. Вызов происходит с объявлением новых соответствующих формальным параметрам переменных, которые унифицируются с аргументами, среди которых могут быть и несвязанные переменные. Следовательно, процедура может как получать, так и возвращать данные через любой параметр. Поэтому, для повышения читаемости кода, переменные, которые программист предполагает использовать только для возврата значений можно помечать приставкой <code>?</code>, которая является просто комментарием. <br/>
<br/>
Переменная, связанная с узлом, хранящим имя процедуры, так же может быть результатом вычисления выражения, как здесь, например: <br/>
<br/>
<blockquote><pre> 
	{Q.put 1} 
</pre></blockquote> <br/>
<br/>
В Oz существует возможность работать с анонимными процедурами, но реализована она необычным способом — через механизм вложения (nesting). В последовательности операторов, заключённых в <code>{...}</code> одну из позиций может занимать символ <code>$</code> — метка вложения. Когда Oz встречает такие метки внутри фигурных скобок, выполняя некоторый оператор, то он (1) автоматически создаёт новые переменные, по количеству <code>{... $ ...}</code>, в новой локальной области видимости, затем, в этой области видимости (2) делает вызовы <code>{... $ ...}</code>, вместо маркера подставляя новую переменную, созданную для этого вызова, и (3) вставляет эти переменные на места <code>{... $ ...}</code> в исполняемом операторе. Например <br/>
<br/>
<blockquote><pre> 
	local P in 
		proc {P X ?Y} Y = X + 10 end 
		{Browse {P 20 $} + {P 30 $} + 40} 
	end 
</pre></blockquote> <br/>
<br/>
будет выполнено как <br/>
<br/>
<blockquote><pre> 
	local P in 
		proc {P X Y} Y = X + 10 end 
		local X1 X2 in 
			{P 20 X1} 
			{P 30 X2} 
			{Browse X1 + X2 + 40} 
		end 
	end 
</pre></blockquote> <br/>
<br/>
Метку вложенности можно использовать и на первом месте внутри <code>{...}</code>, но только во время определения процедуры. Но механизм вложения будет работать точно так же. Коды: <br/>
<br/>
<blockquote><pre> 
	local P in 
		local P1 in 
			proc {P1 X1 ... XN} S1 ... SM end 
			P = P1 
		end 
	end 
</pre></blockquote> <br/>
<br/>
и <br/>
<br/>
<blockquote><pre> 
	local P in 
		P = proc {$ X1 ... XN} S1 ... SM end 
	end	 
</pre></blockquote> <br/>
<br/>
эквивалентны. <br/>
<br/>
Функции Oz так же являются процедурами, и являются некоторым упрощением синтаксиса для тех случаев, когда известно, что процедура точно должна возвращать некоторое значение. Тогда можно сэкономить на описании одного формального параметра, а именно:<code>fun {F X1 ... XN} S1 ... SM end</code> то же самое, что и <code>proc {F X1 ... XN Y} S1 ... Y = SM end</code>. Вызов же <code>{F A1 ... AN}</code>, как функции, Oz автоматически превращает в вызов процедуры <code>{F A1 ... AN $}</code> <br/>
<br/>
Например. <br/>
<br/>
<blockquote><pre> 
	fun {F X} 
		local K in 
			K = X / 20 
			{Browse K} 
		end 
		local L in 
			L = 30 
			X == L 
		end 
	end 
</pre></blockquote> <br/>
<br/>
соответствует определению <br/>
<br/>
<blockquote><pre> 
	proc {F X Y} 
		local K in 
			K = X / 20 
			{Browse K} 
		end 
		 
		Y = local L in 
			L = 30 
			X == L 
		end 
	end 
</pre></blockquote> <br/>
<br/>
При этом значение блока <code>local ... in ... end</code> — это значение последнего в нём оператора. То есть, в этом примере <code>F</code> будет результатом своего вызова иметь ответ на вопрос: равен ли первый и единственный аргумент функции 30. <br/>
<br/>
<h6>3. Ячейки (cell), области памяти (chunk) и будущие (future)</h6> <br/>
<br/>
Для работы с данными в store Oz поддерживает ещё несколько абстракций. <br/>
<br/>
3.1. Области памяти — это некоторые записи в store. Но в отличии от обычных записей они идентифицируются при помощи уникальных имён (точно так же, как и процедуры) и не позволяют определять у себя арность. То есть, к их компонентам можно обращаться только по именам свойств (feature). Если эти имена будут скрыты от каких-то участков кода, то на этих участках обращение к элементам соответствующей области памяти будет невозможным. Области создаются при помощи вызова функции <code>{NewChunk Record}</code>. Вызов создаёт область памяти с уникальным именем, и возвращает это имя. Имя можно записать в узел, на который ссылается некоторая переменная. После чего через эту переменную и оператор <code>.</code> можно обращаться к полям области памяти: <br/>
<br/>
<blockquote><pre> 
	local X R in 
		R = f(a: 1 b: 2 c: 3) 
		X = {NewChunk R} 
		{Browse X.c} 
	end 
</pre></blockquote> <br/>
<br/>
3.2. Ячейки в Oz предназначены для работы с состояниями. Ячейка, как процедуры и области памяти, в store определяется неким уникальным именем. Как и переменная, она является указателем на некоторый узел, но в отличии от переменной, узлы, на который указывает ячейка можно явно и многократно задавать. Определяет ячейку следующий интерфейс. <br/>
<br/>
<code>C = {NewCell E}</code> — создаёт ячейку, указывающую на узел, который получиться в результате унификации значения выражения <code>E</code> и переменной — формального аргумента процедуры <code>NewCell</code>. Новое уникальное имя вновь созданной ячейки возвращается и присваивается переменной <code>C</code>. Ссылка на узел из ячейки, естественно, учитывается при сборке мусора. <code>{IsCell C}</code> отвечает на вопрос: связана ли переменная <code>C</code> с именем ячейки. <br/>
<br/>
<code>@C</code> — это выражение результатом своим имеет переменную, указывающую на узел, на которой ссылается ячейка с именем, хранящимся в переменной <code>C</code>. <code>C := E</code> меняет указатель в ячейке, чьё имя хранится в <code>C</code>, так, чтобы он указывал на узел, полученный в результате унификаций некой несвязанной безымянной переменной и результата выражения <code>E</code>. <br/>
<br/>
<code>{Exchange C E1 E2}</code> — за одну неразрывную, атомарную операцию унифицирует <code>@C</code> с <code>E1</code> и, затем, выполняет <code>C := E2</code>. <br/>
<br/>
Ячейку, например, можно использовать в качестве счётчика: <br/>
<br/>
<blockquote><pre> 
	local C in 
		C = {NewCell 0} 
		{Exchange C X thread X + 1 end} 
	end 
</pre></blockquote> <br/>
<br/>
Здесь нельзя исключить <code>thread ... end</code>. А работает это по той причине, что для каждой запущенной нити Oz автоматически создаёт несвязанную переменную, которая унифицируется с последним из операторов тела нити. И эта переменная в данном примере является последним аргументом <code>Exchange</code>. <br/>
<br/>
3.3. Будущие были впервые предложены в Smalltalk-72, а потом идея их применения была развита в MultiLISP (1985 год). Будущие достаточно распространённый инструмент: они есть в Java, доступные через <code>java.util.cuncurrent.Future</code>; их поддержка запланирована в C++0x. Поддерживаются они и в Oz, но в необычном виде. <br/>
<br/>
Будущее для некоторого выражения <code>E</code> — это объект, связанный с асинхронным вычислением <code>E</code>. Будущее позволяет производить некоторые операции с ещё невычисленным результатом <code>E</code> — например, использовать его в вызовах функций, записывать в списки, передавать в другие асинхронные вычисления и так далее. В том случае, когда для продолжения работы требуется именно значение выражения <code>E</code>, обращение к его будущему приостановит выполнение до того момента, когда <code>E</code> будет вычислено. <br/>
<br/>
В Oz похожим свойством обладают обычные переменные: часть действий с ними можно совершать не дожидаясь, пока в узлах, на которые они ссылаются, появятся значения. Многие из уже приведённых примеров это иллюстрируют. Однако, переменные в Oz — это двунаправленные каналы обмена информацией: стоящие слева и справа от <code>=</code> выражения симметричны для алгоритма унификации. Поэтому, в коде: <br/>
<br/>
<blockquote><pre> 
	local X in 
		thread X = 5 end 
		thread X = 7 end 
		X = 3 
		{Browse X} 
	end 
</pre></blockquote> <br/>
<br/>
ни одна из нитей не выделяется, как производящая данные. Исключение в процессе унификации может вызвать любая нить. Будущее же позволяет установит в этой ситуации некоторый порядок. В Oz будущее — это доступная только для чтения ссылка на узел, то есть, несколько ограниченная версия переменной. Если будущее участвует в процессе унификации, то этот процесс приостанавливается до тех пор, пока соответствующая будущему переменная не оказывается связанной. Будущее для переменной <code>X</code> в Oz формируется оператором <code>!!X</code>. Порядок в пример выше можно внести, например, так: <br/>
<br/>
<blockquote><pre> 
	local X Y in 
		Y = !!X 
		thread Y = 5 end 
		thread X = 7 end 
		Y = 3 
		{Browse Y} 
	end 
</pre></blockquote> <br/>
<br/>
здесь значение всегда будет формироваться только во второй нити. <br/>
<br/>
<h6>4. Всё вместе</h6> <br/>
<br/>
Удобно снова привести код из введения, чтобы не нужно было пролистывать этот текст на начало: <br/>
<br/>
<blockquote><pre> 
00	declare Port in 
01	 
02	local PortTag NewPort IsPort Send in 
03		PortTag = {NewName} 
04	 
05		fun {NewPort FS} 
06			local S C in 
07				C = {NewCell S} 
08				FS = !!S 
09				{NewChunk port(PortTag: C)} 
10			end 
11		end 
12	 
13		fun {IsPort ?P} 
14			{Chunk.hasFeature P PortTag} 
15		end 
16	 
17		proc {Send P M} 
18			local Ms Mr in 
19				{Exchange P.PortTag Ms Mr} 
20				Ms = M | !!Mr 
21			end 
22		end 
23	 
24		Port = port 
25		( 
26			new: NewPort 
27			is: IsPort 
28			send: Send 
29		) 
30	end 
31	 
32	declare NewQueueServer in 
33	 
34	fun {NewQueueServer} 
35		local Given GivePort Taken TakePort Join in 
36			GivePort = {Port.new Given} 
37			TakePort = {Port.new Taken} 
38	 
39			proc {Join Xs Ys} 
40				local Xr Yr X Y in 
41					Xs = X | Xr 
42					Ys = Y | Yr 
43					X = Y 
44					{Join Xr Yr} 
45				end 
46			end 
47	 
48			thread {Join Given Taken} end 
49		 
50			queue 
51			( 
52				put: proc {$ X} {Port.send GivePort X} end 
53				get: proc {$ X} {Port.send TakePort X} end 
54			) 
55		end 
56	end 
57	 
58	declare Q in 
59	 
60	thread Q = {NewQueueServer} end 
61	 
62	{Q.put 1} 
63	{Browse {Q.get $}} 
64	{Browse {Q.get $}} 
65	{Q.put 2} 
</pre></blockquote> <br/>
<br/>
Нет смысла описывать всю программу строчка за строчкой (что редко даёт представление о работе даже непараллельных программ), а нужно пояснить несколько моментов. <br/>
<br/>
4.1. Cоздание <code>Port</code>. <br/>
<br/>
<code>Port</code> представляет собой запись, поля связаны с набором процедур. Это не более, чем удобная группировка нескольких процедур. Сам же порт представляет собой область памяти, содержащую ячейку под именем, чья уникальность гарантируется функцией <code>NewName</code>. Переменная <code>PortName</code> видна только в локальном блоке (02-30), поэтому доступ к составляющим область памяти можно получить только из процедур <code>IsPort</code>, <code>NewPort</code>, <code>Send</code>. Снаружи этого блока о переменной <code>PortName</code> ничего не известно, поэтому и доступ к полю области памяти, хранящей состояние порта, маловероятен (конечно, имя можно и угадать, но для инкапсуляции такого механизма вполне достаточно). <br/>
<br/>
Внимание нужно обратить и на функцию <code>NewPort</code> (05-11). Кроме возврата самой области памяти порта аргумент она возвращает через свой первый аргумент ещё и будущее переменной, инициализирующей ячейку. Это используется для инициализации <code>Given</code> и <code>Taken</code> (36-37). <br/>
<br/>
4.2. Процедура <code>Send</code> (17-22). <br/>
<br/>
Нужно отметить, что ячейка области памяти порта всегда указывает на unknown-узел. И <code>Send</code> при очередном вызове первым делом гарантирует это, ссылку на предыдущий узел занося в переменную <code>Ms</code>, а на её место помещая ссылку на узел несвязанной переменной <code>Mr</code>. Далее, в <code>Send</code> формируется значение переменной <code>Ms</code>, которое получается в ходе унификации с кортежем-списком, у которого на первом месте стоит отправляемое сообщение (которое может быть и несвязанным), а на втором — будущее <code>Mr</code> (ещё раз: список это просто кортеж, на втором месте которого стоять может всё, что угодно). Последующий вызов <code>Send</code> проделает то же самое с переменной <code>Mr</code>, и этот процесс будет постепенно превращать переменную, которая использовалась для инициализации ячейки в <code>NewPort</code>, и будущее которой было возвращено наружу, в список. Иными словами, <code>Send</code> действительно посылает сообщения в некоторую очередь. <br/>
<br/>
4.3. Процедура <code>Join</code> (39-46). <br/>
<br/>
Самое главное здесь то, к чему применяется эта процедура, работающая в отдельной нити (48). Она применяется к <code>Given</code> и <code>Taken</code>, которые в результате вызовов <code>Send</code> постепенно превращаются в списки. Действительные параметры <code>Join</code> всегда являются будущими, поэтому операторы унификации (41-42) выполняются только после связывания <code>Xs</code> и <code>Ys</code>, которое происходит в <code>Send</code>, превращая эти переменные в ссылки на кортежи вида <code>Message | SomeFuture </code>. После чего <code>Message</code>-составляющие входящего (<code>Given</code>) и исходящего (<code>Taken</code>) потоков унифицируются, а <code>Join</code> вызывается для будущих хвостов списков (Немного похоже на квантовую механику, не так ли? Возможно, Эйнштейну не хватило знаний о параллельном программировании, чтобы построить модель Вселенной со скрытыми переменными). <br/>
<br/>
4.4. В итоге. <br/>
<br/>
Любая выставленная в поток <code>Given</code> при помощи <code>Send</code> связанная переменная, будет в нити (48) унифицирована с соответствующей несвязанной переменной, выставленной в поток <code>Taken</code>. Естественно, ситуация полностью симметричная, и имена <code>put</code> и <code>get</code> используются для удобства. Но queueserver всё-равно получается асинхронным, что полезно. <br/>
<br/>
<h6>5. Другие интересные особенности Oz</h6><br/>
<br/>
Oz предлагает среди прочих своих возможностей (а множество их обширно), предлагает ещё и интересную модель параллельного программирования. Которая отличается от классической, принятой в Prolog, например, тем, что позволяет программисту определять собственные процедуры поиска и перебора вариантов. И, конечно, модель логического программирования, принятая в Oz, является параллельной.</div></div> <!----> <!----></div> <div class="tm-article-body__tags"><div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Теги:</span> <span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BOz%5D" class="tm-article-body__tags-item-link">Oz</a></span><span class="tm-article-body__tags-item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B%5D" class="tm-article-body__tags-item-link">распределенные системы</a></span></div> <div class="tm-article-body__tags-links"><span class="tm-article-body__tags-title">Хабы:</span> <span class="tm-article-body__tags-item"><a href="/ru/hub/programming/" class="tm-article-body__tags-item-link">
                  Программирование
                </a></span></div></div></article> <div class="tm-article__icons-wrapper"><div class="tm-data-icons tm-page-article__counters-panel"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 40: ↑38 и ↓2</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 40: ↑38 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+36</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    24
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/63715/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      14
    </span></a> <!----></div> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div></div> <!----></div> <!----> <div class="tm-page-article__additional-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body"><div class="tm-article-author tm-page-article__author"><!----> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-two-column"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/mikhanoid/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/5e0/66a/28f/5e066a28f8ee8a2fcb1e1082af1de698.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 553 голоса " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    189.6
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0.5</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info"><div class="tm-user-card__title"><span class="tm-user-card__name">Михаил Бахтерев</span> <a href="/ru/users/mikhanoid/" class="tm-user-card__nickname">
          @mikhanoid
        </a> <!----></div> <p class="tm-user-card__short-info">Системное программирование</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-two-column"><!----> <!----> <!----> <!----> <!----></div></div> <div class="tm-article-author__user-contacts"><a href="https://career.habr.com/m-bakhterev" rel="noopener" target="_blank" class="tm-article-author__contact">
      Хабр Карьера
    </a></div></div></div> <!----></section> <div class="tm-page-article__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/63715/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 14 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Похожие публикации</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-06-08T12:35:45.000Z" title="2021-06-08, 15:35">8  июня   в 15:35</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/otus/blog/561630/" class="tm-article-title__link"><span>Инженерная надежность и отказоустойчивость распределенной системы</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 10: ↑10 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 10: ↑10 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+10</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2.8K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    34
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/otus/blog/561630/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      0
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-04-05T10:23:15.000Z" title="2021-04-05, 13:23">5  апреля   в 13:23</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/jugru/blog/550750/" class="tm-article-title__link"><span>Распределённая конференция о распределённых системах: анонс Hydra 2021</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 17: ↑17 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 17: ↑17 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+17</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.7K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    8
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/jugru/blog/550750/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      3
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2019-12-16T12:08:23.000Z" title="2019-12-16, 15:08">16  декабря  2019 в 15:08</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/yoomoney/blog/479892/" class="tm-article-title__link"><span>О плагинах Gradle, многопоточности в распределенных системах и автоматизации мониторинга: видео с митапа Яндекс.Денег</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 13: ↑13 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 13: ↑13 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+13</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">2.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    26
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/yoomoney/blog/479892/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      1
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----> <section class="tm-block tm-block_spacing-around"><header class="tm-block__header"><h2 class="tm-block__title">Лучшие публикации за сутки</h2> <!----></header> <div class="tm-block__body"><ul class="tm-article-list-block__list"><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T09:00:04.000Z" title="2021-09-27, 12:00">сегодня в 12:00</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580060/" class="tm-article-title__link"><span>Арракис, который мы заслужили</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 130: ↑126 и ↓4</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 130: ↑126 и ↓4" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+122</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">16K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    34
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580060/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      73
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-27T13:03:14.000Z" title="2021-09-27, 16:03">сегодня в 16:03</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/company/ruvds/blog/580124/" class="tm-article-title__link"><span>Электролюминесцентные индикаторы из прошлого</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 58: ↑58 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 58: ↑58 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+58</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.3K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    32
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/company/ruvds/blog/580124/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      10
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T19:37:10.000Z" title="2021-09-26, 22:37">вчера в 22:37</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580086/" class="tm-article-title__link"><span>Термо принтер и JavaScript</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 53: ↑52 и ↓1</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 53: ↑52 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+51</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">11K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    36
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580086/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      53
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T21:49:14.000Z" title="2021-09-27, 00:49">сегодня в 00:49</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580092/" class="tm-article-title__link"><span>30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 46: ↑46 и ↓0</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 46: ↑46 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+46</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">18K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    54
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580092/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      92
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li><li class="tm-article-list-block__item"><article class="tm-article-snippet-block-block tm-article-snippet-block-block_preview"><div class="tm-article-snippet-block__user-meta"><div class="tm-article-snippet-block__date"><time datetime="2021-09-26T22:35:26.000Z" title="2021-09-27, 01:35">сегодня в 01:35</time></div></div> <h2 class="tm-article-title tm-article-title_block"><a href="/ru/post/580094/" class="tm-article-title__link"><span>Блокчейн нас подвёл? Почему ДЭГ — это плохо и можем ли мы адекватно контролировать процесс подсчёта голосов?</span></a></h2> <div class="tm-data-icons"><!----> <div class="tm-votes-meter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_small"><title>Всего голосов 54: ↑43 и ↓11</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-rating"></use></svg> <span title="Всего голосов 54: ↑43 и ↓11" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_small">+32</span></div> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">14K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    27
  </span></button> <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item"><a href="/ru/post/580094/comments/" class="tm-article-comments-counter-link__link"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.cee85629.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      98
    </span></a> <!----></div> <!----> <DIV class="v-portal" style="display:none;"></DIV></div></article></li> <!----></ul></div> <!----></section> <!----> <!----></div></div></div> <div class="tm-page__sidebar"><div hl="ru" id="63715" class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/63715/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/63715/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"63715":{"id":"63715","timePublished":"2009-07-06T18:52:08+00:00","isCorporative":false,"lang":"ru","titleHtml":"Удивительная страна Oz, или как принять данные при помощи send","leadData":{"textHtml":"Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz \u003Ca href=\"http:\u002F\u002Fwww.mozart-oz.org\"\u003Ehttp:\u002F\u002Fwww.mozart-oz.org\u003C\u002Fa\u003E. Язык тогда показался мне достойным того, чтобы представить его Habraсообществу. И вот, у меня появилось время и причины это сделать. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nOz — мультипарадигменный язык программирования. Набор базовых абстракций в языке необычный и позволяет, например, написать отправляющую информацию процедуру \u003Ccode\u003Esend\u003C\u002Fcode\u003E так, что при её помощи можно будет так же и получать данные. И без всякого подвоха вроде: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Esend(socket; buffer; flag) = (if (flag == RECV) (recv(socket; buffer)) or (realsend(socket; buffer)))\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРечь идёт именно о том, что отправка и получение данных осуществляются одной и той же последовательностью операций виртуальной машины Oz. Естественно, достигается это за счёт особых абстракций для работы с данными и с параллельными процессами. Описанию этих абстракций и посвящён этот текст, потому как на мой взгляд — они неплохо позволяют почувствовать особенности Oz. Конечно, Oz больше, чем изложенное ниже, но, как мне кажется, тайна хитрого send — материал подходящий для первого знакомства с этим языком и для получения от него удовольствия. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":"Итак...","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":189.6,"votesCount":553},"rating":0.5,"relatedData":null,"contacts":[{"title":"Хабр Карьера","url":"https:\u002F\u002Fcareer.habr.com\u002Fm-bakhterev","value":"m-bakhterev"}],"authorContacts":[{"title":"Хабр Карьера","url":"https:\u002F\u002Fcareer.habr.com\u002Fm-bakhterev","value":"m-bakhterev"}],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"7252","alias":"mikhanoid","fullname":"Михаил Бахтерев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F5e0\u002F66a\u002F28f\u002F5e066a28f8ee8a2fcb1e1082af1de698.jpg","speciality":"Системное программирование"},"statistics":{"commentsCount":14,"favoritesCount":24,"readingCount":1278,"score":36,"votesCount":40},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EДовольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz \u003Ca href=\"http:\u002F\u002Fwww.mozart-oz.org\"\u003Ehttp:\u002F\u002Fwww.mozart-oz.org\u003C\u002Fa\u003E. Язык тогда показался мне достойным того, чтобы представить его Habraсообществу. И вот, у меня появилось время и причины это сделать. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nOz — мультипарадигменный язык программирования. Набор базовых абстракций в языке необычный и позволяет, например, написать отправляющую информацию процедуру \u003Ccode\u003Esend\u003C\u002Fcode\u003E так, что при её помощи можно будет так же и получать данные. И без всякого подвоха вроде: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003Esend(socket; buffer; flag) = (if (flag == RECV) (recv(socket; buffer)) or (realsend(socket; buffer)))\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРечь идёт именно о том, что отправка и получение данных осуществляются одной и той же последовательностью операций виртуальной машины Oz. Естественно, достигается это за счёт особых абстракций для работы с данными и с параллельными процессами. Описанию этих абстракций и посвящён этот текст, потому как на мой взгляд — они неплохо позволяют почувствовать особенности Oz. Конечно, Oz больше, чем изложенное ниже, но, как мне кажется, тайна хитрого send — материал подходящий для первого знакомства с этим языком и для получения от него удовольствия. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch6\u003E0. Введение\u003C\u002Fh6\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНачать можно с текста программы, реализующей конструкцию \u003Ccode\u003EPort\u003C\u002Fcode\u003E, через которую передаются данные при помощи процедуры send. В эту же программ включён пример использования \u003Ccode\u003EPort\u003C\u002Fcode\u003E. Исходный код (имя собственное в этом тексте): \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tdeclare Port in \n\t \n\tlocal PortTag NewPort IsPort Send in \n\t\tPortTag = {NewName} \n\t \n\t\tfun {NewPort FS} \n\t\t\tlocal S C in \n\t\t\t\tC = {NewCell S} \n\t\t\t\tFS = !!S \n\t\t\t\t{NewChunk port(PortTag: C)} \n\t\t\tend \n\t\tend \n\t \n\t\tfun {IsPort ?P} \n\t\t\t{Chunk.hasFeature P PortTag} \n\t\tend \n\t \n\t\tproc {Send P M} \n\t\t\tlocal Ms Mr in \n\t\t\t\t{Exchange P.PortTag Ms Mr} \n\t\t\t\tMs = M | !!Mr \n\t\t\tend \n\t\tend \n\t \n\t\tPort = port \n\t\t( \n\t\t\tnew: NewPort \n\t\t\tis: IsPort \n\t\t\tsend: Send \n\t\t) \n\tend \n\t \n\tdeclare NewQueueServer in \n\t \n\tfun {NewQueueServer} \n\t\tlocal Given GivePort Taken TakePort Join in \n\t\t\tGivePort = {Port.new Given} \n\t\t\tTakePort = {Port.new Taken} \n\t \n\t\t\tproc {Join Xs Ys} \n\t\t\t\tlocal Xr Yr X Y in \n\t\t\t\t\tXs = X | Xr \n\t\t\t\t\tYs = Y | Yr \n\t\t\t\t\tX = Y \n\t\t\t\t\t{Join Xr Yr} \n\t\t\t\tend \n\t\t\tend \n\t \n\t\t\tthread {Join Given Taken} end \n\t\t \n\t\t\tqueue \n\t\t\t( \n\t\t\t\tput: proc {$ X} {Port.send GivePort X} end \n\t\t\t\tget: proc {$ X} {Port.send TakePort X} end \n\t\t\t) \n\t\tend \n\tend \n\t \n\tdeclare Q in \n\t \n\tthread Q = {NewQueueServer} end \n\t \n\t{Q.put 1} \n\t{Browse {Q.get $}} \n\t{Browse {Q.get $}} \n\t{Q.put 2} \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКак видно, никакого подвоха нет. Обе функции queueserver'а — \u003Ccode\u003Eput\u003C\u002Fcode\u003E и \u003Ccode\u003Eget\u003C\u002Fcode\u003E — реализованы при помощи процедуры \u003Ccode\u003ESend\u003C\u002Fcode\u003E, семантика которой соответствует её названию. Этот код мог бы быть и короче — в Oz достаточно синтаксического сахара, который не используется выше с целью сократить объём необходимых пояснений. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля понимания того, как этот код работает, нужно разобраться с (1) моделью исполнения программ на Oz: переменными, нитями, оператором выравнивания (\u003Ccode\u003E=\u003C\u002Fcode\u003E); (2) процедурами; (3) ячейками (cells), областями памяти (chunks) и будущими (futures). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch6\u003E1. Переменные, нити, оператор \u003Ccode\u003E=\u003C\u002Fcode\u003E\u003C\u002Fh6\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКак было сказано, Oz — это мультипарадигменый язык. В Википедии он описан как функциональный, логический, императивный, объектно-ориентированный, распределённый, параллельный (в смысле concurrent) и как язык для программирования с ограничениями. Но в основе его лежит другая парадигма — программирование с потоками данных (dataflow programming). Oz реализует эту парадигму достаточно близко к исходной (применяющейся в архитектурах CPU) концепции вычислений с потоками данных, и делает это следующим образом. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1.1. Все вычисления в Oz происходят с данными, которые содержатся в хранилище (store). Хранилище при этом является штукой довольно абстрактной (внутренняя механика скрыта от программиста, и информацией в store можно управлять только через определённый интерфейс) и распределённой (со store могут работать все участники Oz-вычисления, в том числе и разбросанные по сети). Store может хранить информацию в трёх разных видах. (1) В виде свободных или связанных логических переменных. (2) В виде ячеек (cells), которые представляют из себя скорее не ячейки памяти, а именованные изменяемые указатели на переменные. (3) В виде процедур, являющихся в Oz именноваными замыканиями (естественно, они являются first-order объектами, то есть, ими можно явно манипулировать в программе). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1.2. Вычисление происходит при выполнении нити (thread). При этом нить в Oz — это и есть dataflow. То есть, некая последовательность операторов (statements), исполняемых друг за дружкой (всё как в императивных языках), но с одной оговоркой: оператор исполняется только в том случае, когда все используемые в нём переменные оказываются связанными. В противном случае нить приостанавливается и ожидает момента связывания нужных переменных. Собственно, выполнение некого оператора по факту готовности данных, используемых в нём и есть основной метод dateflow вычислений. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСоздаются нити в Oz очень просто, при помощи конструкции \u003Ccode\u003Ethread ... end\u003C\u002Fcode\u003E. Создание это происходит в \u003Ccode\u003Efork()\u003C\u002Fcode\u003E-стиле. То есть, порождённая нить имеет доступ ко всем переменным (именно переменным), которые были доступны родительской нити на момент выполнения операции \u003Ccode\u003Ethread ... end\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1.3. Переменные в Oz являются логическими. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЛогическая переменная в стиле Oz — это единожды связываемая переменная, которая может быть уравнена (equated) с другой переменной. \u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nВообще, это определение (перевод из руководства) мало что говорит о переменных в Oz. Они позволяют делать с собой чуть больше. И они существенно отличаются от привычных по c\u002Fjavascript\u002Fhaskell переменных, представляющих из себя либо именованные ячейки памяти (c\u002Fjs), либо именованные значения (haskell). Вероятно, лучше всего представление о переменных в Oz даст описание некоторых технических деталей. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1.3.1. Жизненный путь переменной в Oz начинается с того, что она объявляется (introduce) при помощи конструкций \u003Ccode\u003Elocal ... in ... end\u003C\u002Fcode\u003E или \u003Ccode\u003Edeclare ... in ...\u003C\u002Fcode\u003E. Отличия этих конструкций в том, что \u003Ccode\u003Elocal ...\u003C\u002Fcode\u003E позволяет объявить переменные только для использования в операциях, стоящих внутри \u003Ccode\u003Ein ... end\u003C\u002Fcode\u003E, а объявленные при помощи \u003Ccode\u003Edeclare\u003C\u002Fcode\u003E переменные будут доступны всюду после соответствующего \u003Ccode\u003Ein\u003C\u002Fcode\u003E. Естественно, \u003Ccode\u003Edeclare\u003C\u002Fcode\u003E можно использовать для определения переменных только в глобальной области видимости модуля. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОбъявление переменной заключается в том, что в store создаётся новый узел (node), на который ссылается объявленная переменная. И в узел записывается значение \u003Ccode\u003Eunknown\u003C\u002Fcode\u003E, указывающее на то, что переменная никак не связана с данными. Если к такой переменной за данными обратится нить, то она будет приостановлена до того момента, как соответствующий node будет связан с данными. Например (код-1): \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal X in \n\t\tthread {Browse 2 * X} end \n\t\tX = 5 \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EBrowse\u003C\u002Fcode\u003E — это одна из стандартных процедур Oz, распечатывающая свой аргумент. При объявлении \u003Ccode\u003EX\u003C\u002Fcode\u003E в этом примере будет создана переменная и соответсвующий ей новый узел в store. Когда \u003Ccode\u003EBrowse\u003C\u002Fcode\u003E обратится через \u003Ccode\u003EX\u003C\u002Fcode\u003E к этому узлу, выполнение соответствующей нити будет приостановлено до тех пор, пока в соответсвующем \u003Ccode\u003EX\u003C\u002Fcode\u003E node не появится значение (тут может измениться как само значение в node, так и привязка переменной к узлу). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1.3.2. Значения в узлы помещаются в процессе унификации (unification) или (другое название) инкрементального пересчёта (incremental tell). Унификацию для пары выражений выполняет оператор \u003Ccode\u003E=\u003C\u002Fcode\u003E (equality operator). В этом же процессе может измениться и привязка переменных к узлам. Алгоритм унификации для пары выражений (именно для выражений) в коде \u003Ccode\u003EE1 = E2\u003C\u002Fcode\u003E работает так (рекурсивная процедура с разбором вариантов того, чем могут быть E1 и E2). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.1. Результатами вычислений E1 и E2 являются значения атомарных типов Oz (атомарные — это неделимые типа: целые числа, числа с плавающей точкой, литералы — строки, например). В этом случае при равенстве этих значений оператор выполняется, а при неравенстве генерируется исключение (исключения в Oz достаточно стандартны и их обработка задаётся при помощи конструкции \u003Ccode\u003Etry ... catch ... finally ... end\u003C\u002Fcode\u003E; \u003Ccode\u003Efinally\u003C\u002Fcode\u003E — не обязательно). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.2. Результатом вычисления \u003Ccode\u003EE1\u003C\u002Fcode\u003E является некоторая переменная, а результатом вычисления \u003Ccode\u003EE2\u003C\u002Fcode\u003E — значение некоторого типа (симметричная к этой ситуации та, в которой вычисление \u003Ccode\u003EE1\u003C\u002Fcode\u003E приводит к значению некоторого типа, а \u003Ccode\u003EE2\u003C\u002Fcode\u003E — к переменной). Выгядеть это может так: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tX = (Y + Z) * 5 \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ этом случае работает всё следующим образом. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.2.1. Задаваемая \u003Ccode\u003EE1\u003C\u002Fcode\u003E переменная ссылается на unknown-узел. Если так, то в этот узел записывается значение, полученное вычислением \u003Ccode\u003EE2\u003C\u002Fcode\u003E, в результате чего \u003Ccode\u003EE1\u003C\u002Fcode\u003E-переменная оказывается связанной. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.2.2. Если \u003Ccode\u003EE1\u003C\u002Fcode\u003E-переменная уже является связанной с атомарным значением, то значение, которое находится в соответствующем узле сравнивается с \u003Ccode\u003EE2\u003C\u002Fcode\u003E-значением, и при несовпадении типов или самих этих значений генерируется исключение. В противном случае — оператор завершается. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИменно по этому правилу связывается переменная \u003Ccode\u003EX\u003C\u002Fcode\u003E из кода-1. После того, как она связана со значением (5), выполняется, ожидающий этого связывания, оператор внутри вызыванной процедуры \u003Ccode\u003EBrowse\u003C\u002Fcode\u003E. И тут должно быть понятно, что результат был бы точно таким же, если бы код-1 выглядел так: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal X in \n\t\tthread {Browse 2 * X} end \n\t\t5 = X \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ U.2. возможен ещё один вариант, когда \u003Ccode\u003EE1\u003C\u002Fcode\u003E-переменная связана со значением составного типа, но он будет рассмотрен позже, в пункте U.4… \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.3. Как \u003Ccode\u003EE1\u003C\u002Fcode\u003E так и \u003Ccode\u003EE2\u003C\u002Fcode\u003E задают некоторую переменную. Тут тоже возможны варианты. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.3.1. Одна из переменных является несвязанной, или обе переменные оказываются несвязанными (то есть, они ссылаются на узлы со значением unknown). В этом случае узел одной из несвязанных переменных или unknown-узел той единственной, что не связана отбрасывается. Затем, ранее ссылавшаяся на этот узел переменная изменяется так, что начинает ссылаться на тот же узел, что и другая переменная. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗдесь должно уже быть понятно, почему, выполняя код-2: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal X Y Z in \n\t\tthread {Browse X + Y + Z} end \n\t\tX = Y \n\t%\tZ = X + Y \n\t\tX = 10 \n\t\tX + Y = Z \n\tend\t \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nOz выдаст значение 40. И почему Oz 'подвиснет', если убрать комментарий (начинается с \u003Ccode\u003E%\u003C\u002Fcode\u003E). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.3.2. Обе переменных ссылаются на узлы, в которых записаны значения. В этом случае поведение следующее. Если это значения разных типов, или если это различные атомарные значения одного типа, то будет сгенерировано исключение. Если это равные значения некоторого атомарного типа, то оператор завершит своё выполнение. Но узлах могут хранится и значения составных типов. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОсновным составным типом в Oz является запись. Синтаксически записи выглядят примерно так: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlabel (feature0: field0 feature2: field2 ... featureN: fieldN) \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПримерно, потому что выше приведена закрытая запись, с фиксированным числом полей (field), а записи бывают ещё и открытые. К полям записи можно обращаться через точку, по названию соответствующего свойства (feature). Количество полей в структуре называется её арностью (arity). Более конкретный пример: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tU = habrauser(nick: 'mikhanoid' karma: 10 strength: 10) \n\tK = U.karma \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТонкость: поля в значении типа запись сами являются переменными Oz. В примере выше при создании значения с типом запись и меткой habrauser создаются три переменные, которые были унифицированы согласно описываемому алгоритму со значениями атомарных типов: 'mikhanoid', 10 и 10. Но вместо таких значений унификацию полей-переменных можно проводить с любыми выражениями. К этому моменту должно быть понятно, как работает такой код: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal U K S in \n(*)\t\tU = habrauser(nick: 'mikhanoid' karma: K strength: S) \n\t\tK = S \n\t\t10 = K \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ строке (*) несвязанная переменная \u003Ccode\u003EU\u003C\u002Fcode\u003E унифицируется со значением типа запись по правилу U.2.1. \u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nУ записей Oz важная роль — они превращают store в орграфовую структуру: если в узле хранится значение типа запись, то своими полями-переменными она указывает на другие узлы, то есть, поля — это нечто вроде дуг, помеченных названиями свойств. А описываемый алгоритм, благодаря пункту U.4., можно рассматривать как алгоритм слияния графов (graph merge). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nU.4. Здесь можно объединить такие случаи: (1) оба выражения \u003Ccode\u003EE1\u003C\u002Fcode\u003E и \u003Ccode\u003EE2\u003C\u002Fcode\u003E являются значениями типа записи, (2) оба выражения задают переменные, ссылающиеся на узлы, в которых хранятся записи, (3) одно из \u003Ccode\u003EE1\u003C\u002Fcode\u003E, \u003Ccode\u003EE2\u003C\u002Fcode\u003E задаёт значение типа запись, а другое — задаёт переменную, связанную с узлом, в котором запись хранится. Во всех этих случаях если записи имеют (a) разные метки, или (b) разную арность, или © разные наборы свойств, то генерируется исключение. Если же записи совпадают по пунктам (a), (b) и ©, то происходит унификация пар переменных из разных записей с одинаковыми именами свойств. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа этот момент уже должно быть понятно, почему в результате работы такого кода: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal W X Y Z in \n\t\tW = X \n\t\tZ = Y \n\t\tf(a: 10 b: X) = f(a: Y b: 20) \n\t\t{Browse W + Z} \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nбудет выведено значение 30. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕщё одним интересным примером является такой код: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal Z in \n\t\tZ = f(Z 20) \n\t\t{Browse Z} \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗдесь \u003Ccode\u003Ef\u003C\u002Fcode\u003E — это вариант записи, в которой свойства полей автоматически получают целочисленные имена от 1 до её арности. В Oz такие записи называются кортежами и являются аналогами составных выражений (compound term) в логическом программировании. В коде выше происходит следующее. (1) создаётся значение типа запись с двумя полями, то есть создаётся две переменных. (2) поле со свойством \u003Ccode\u003E1\u003C\u002Fcode\u003E унифицируется с несвязанной переменной Z, второе поле с атомарным значением 20. В итоге, значение \u003Ccode\u003Ef\u003C\u002Fcode\u003E указывает на unknown-узел, на который указывает и переменная \u003Ccode\u003EZ\u003C\u002Fcode\u003E и на узел, хранящий значение 20. (3) в unknown-узел, на который указывает \u003Ccode\u003EZ\u003C\u002Fcode\u003E записывается значение типа запись, второй элемент которой (как и переменная Z) указывает на этот узел. Ничего особенного, просто получился цикл в графе store. \u003Ccode\u003EBrowse\u003C\u002Fcode\u003E распечатает его примерно так: \u003Ccode\u003ER10 = f(R10 20)\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСписки в Oz являются разновидностью кортежей. Организованы они стандартно для функционального и логического программирования: список — это кортеж, первый элемент — голова — которого является переменной, а второй — списком, составляющим хвост. Обозначать голову у хвост списка можно при помощи символа \u003Ccode\u003E|\u003C\u002Fcode\u003E: \u003Ccode\u003EHead | Tail\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch6\u003E2. Процедуры\u003C\u002Fh6\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nOz позволяет абстрагировать последовательности операторов при помощи процедур. Процедуры в Oz являются значениями (first-class objects), поэтому их можно свободно 'присваивать' переменным. Более детально. Oz хранит замыкания, реализующие процедуры, в store в виде некоторого кода. Каждое такое замыкание-процедура получает уникальное для всего store имя. Имена в Oz являются литералами — значениями атомарного типа. После создания кода процедуры и присвоения ему уникального имени имя записывается в узел, на который ссылается некоторая переменная. После чего процедуру можно вызывать через эту переменную. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИменно поэтому в исходном коде \u003Ccode\u003ENewPort\u003C\u002Fcode\u003E, \u003Ccode\u003EIsPort\u003C\u002Fcode\u003E, \u003Ccode\u003ESend\u003C\u002Fcode\u003E,… объявляются как переменные при помощи \u003Ccode\u003Elocal\u003C\u002Fcode\u003E или \u003Ccode\u003Edeclare\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБазовой конструкцией, определяющей процедуру является \u003Ccode\u003Eproc\u003C\u002Fcode\u003E: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal ... P ... in \n\t\t... \n\t\tproc {P X1 ... XN} S1 ... SM end \n\t\t... \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EX1\u003C\u002Fcode\u003E, ..., \u003Ccode\u003EXN\u003C\u002Fcode\u003E — формальные аргументы. \u003Ccode\u003ES1\u003C\u002Fcode\u003E, ..., \u003Ccode\u003ESM\u003C\u002Fcode\u003E — последовательность операторов, реализующих процедуру. Вызываются процедуры при помощи фигурных скобок: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\t{P A1 ... AN} \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EA1\u003C\u002Fcode\u003E, ..., \u003Ccode\u003EAN\u003C\u002Fcode\u003E — действительные параметры: выражения, переменные и так далее. Вызов происходит с объявлением новых соответствующих формальным параметрам переменных, которые унифицируются с аргументами, среди которых могут быть и несвязанные переменные. Следовательно, процедура может как получать, так и возвращать данные через любой параметр. Поэтому, для повышения читаемости кода, переменные, которые программист предполагает использовать только для возврата значений можно помечать приставкой \u003Ccode\u003E?\u003C\u002Fcode\u003E, которая является просто комментарием. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПеременная, связанная с узлом, хранящим имя процедуры, так же может быть результатом вычисления выражения, как здесь, например: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\t{Q.put 1} \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ Oz существует возможность работать с анонимными процедурами, но реализована она необычным способом — через механизм вложения (nesting). В последовательности операторов, заключённых в \u003Ccode\u003E{...}\u003C\u002Fcode\u003E одну из позиций может занимать символ \u003Ccode\u003E$\u003C\u002Fcode\u003E — метка вложения. Когда Oz встречает такие метки внутри фигурных скобок, выполняя некоторый оператор, то он (1) автоматически создаёт новые переменные, по количеству \u003Ccode\u003E{... $ ...}\u003C\u002Fcode\u003E, в новой локальной области видимости, затем, в этой области видимости (2) делает вызовы \u003Ccode\u003E{... $ ...}\u003C\u002Fcode\u003E, вместо маркера подставляя новую переменную, созданную для этого вызова, и (3) вставляет эти переменные на места \u003Ccode\u003E{... $ ...}\u003C\u002Fcode\u003E в исполняемом операторе. Например \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal P in \n\t\tproc {P X ?Y} Y = X + 10 end \n\t\t{Browse {P 20 $} + {P 30 $} + 40} \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nбудет выполнено как \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal P in \n\t\tproc {P X Y} Y = X + 10 end \n\t\tlocal X1 X2 in \n\t\t\t{P 20 X1} \n\t\t\t{P 30 X2} \n\t\t\t{Browse X1 + X2 + 40} \n\t\tend \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМетку вложенности можно использовать и на первом месте внутри \u003Ccode\u003E{...}\u003C\u002Fcode\u003E, но только во время определения процедуры. Но механизм вложения будет работать точно так же. Коды: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal P in \n\t\tlocal P1 in \n\t\t\tproc {P1 X1 ... XN} S1 ... SM end \n\t\t\tP = P1 \n\t\tend \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nи \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal P in \n\t\tP = proc {$ X1 ... XN} S1 ... SM end \n\tend\t \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nэквивалентны. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nФункции Oz так же являются процедурами, и являются некоторым упрощением синтаксиса для тех случаев, когда известно, что процедура точно должна возвращать некоторое значение. Тогда можно сэкономить на описании одного формального параметра, а именно:\u003Ccode\u003Efun {F X1 ... XN} S1 ... SM end\u003C\u002Fcode\u003E то же самое, что и \u003Ccode\u003Eproc {F X1 ... XN Y} S1 ... Y = SM end\u003C\u002Fcode\u003E. Вызов же \u003Ccode\u003E{F A1 ... AN}\u003C\u002Fcode\u003E, как функции, Oz автоматически превращает в вызов процедуры \u003Ccode\u003E{F A1 ... AN $}\u003C\u002Fcode\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНапример. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tfun {F X} \n\t\tlocal K in \n\t\t\tK = X \u002F 20 \n\t\t\t{Browse K} \n\t\tend \n\t\tlocal L in \n\t\t\tL = 30 \n\t\t\tX == L \n\t\tend \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nсоответствует определению \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tproc {F X Y} \n\t\tlocal K in \n\t\t\tK = X \u002F 20 \n\t\t\t{Browse K} \n\t\tend \n\t\t \n\t\tY = local L in \n\t\t\tL = 30 \n\t\t\tX == L \n\t\tend \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри этом значение блока \u003Ccode\u003Elocal ... in ... end\u003C\u002Fcode\u003E — это значение последнего в нём оператора. То есть, в этом примере \u003Ccode\u003EF\u003C\u002Fcode\u003E будет результатом своего вызова иметь ответ на вопрос: равен ли первый и единственный аргумент функции 30. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch6\u003E3. Ячейки (cell), области памяти (chunk) и будущие (future)\u003C\u002Fh6\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля работы с данными в store Oz поддерживает ещё несколько абстракций. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n3.1. Области памяти — это некоторые записи в store. Но в отличии от обычных записей они идентифицируются при помощи уникальных имён (точно так же, как и процедуры) и не позволяют определять у себя арность. То есть, к их компонентам можно обращаться только по именам свойств (feature). Если эти имена будут скрыты от каких-то участков кода, то на этих участках обращение к элементам соответствующей области памяти будет невозможным. Области создаются при помощи вызова функции \u003Ccode\u003E{NewChunk Record}\u003C\u002Fcode\u003E. Вызов создаёт область памяти с уникальным именем, и возвращает это имя. Имя можно записать в узел, на который ссылается некоторая переменная. После чего через эту переменную и оператор \u003Ccode\u003E.\u003C\u002Fcode\u003E можно обращаться к полям области памяти: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal X R in \n\t\tR = f(a: 1 b: 2 c: 3) \n\t\tX = {NewChunk R} \n\t\t{Browse X.c} \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n3.2. Ячейки в Oz предназначены для работы с состояниями. Ячейка, как процедуры и области памяти, в store определяется неким уникальным именем. Как и переменная, она является указателем на некоторый узел, но в отличии от переменной, узлы, на который указывает ячейка можно явно и многократно задавать. Определяет ячейку следующий интерфейс. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EC = {NewCell E}\u003C\u002Fcode\u003E — создаёт ячейку, указывающую на узел, который получиться в результате унификации значения выражения \u003Ccode\u003EE\u003C\u002Fcode\u003E и переменной — формального аргумента процедуры \u003Ccode\u003ENewCell\u003C\u002Fcode\u003E. Новое уникальное имя вновь созданной ячейки возвращается и присваивается переменной \u003Ccode\u003EC\u003C\u002Fcode\u003E. Ссылка на узел из ячейки, естественно, учитывается при сборке мусора. \u003Ccode\u003E{IsCell C}\u003C\u002Fcode\u003E отвечает на вопрос: связана ли переменная \u003Ccode\u003EC\u003C\u002Fcode\u003E с именем ячейки. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E@C\u003C\u002Fcode\u003E — это выражение результатом своим имеет переменную, указывающую на узел, на которой ссылается ячейка с именем, хранящимся в переменной \u003Ccode\u003EC\u003C\u002Fcode\u003E. \u003Ccode\u003EC := E\u003C\u002Fcode\u003E меняет указатель в ячейке, чьё имя хранится в \u003Ccode\u003EC\u003C\u002Fcode\u003E, так, чтобы он указывал на узел, полученный в результате унификаций некой несвязанной безымянной переменной и результата выражения \u003Ccode\u003EE\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003E{Exchange C E1 E2}\u003C\u002Fcode\u003E — за одну неразрывную, атомарную операцию унифицирует \u003Ccode\u003E@C\u003C\u002Fcode\u003E с \u003Ccode\u003EE1\u003C\u002Fcode\u003E и, затем, выполняет \u003Ccode\u003EC := E2\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯчейку, например, можно использовать в качестве счётчика: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal C in \n\t\tC = {NewCell 0} \n\t\t{Exchange C X thread X + 1 end} \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗдесь нельзя исключить \u003Ccode\u003Ethread ... end\u003C\u002Fcode\u003E. А работает это по той причине, что для каждой запущенной нити Oz автоматически создаёт несвязанную переменную, которая унифицируется с последним из операторов тела нити. И эта переменная в данном примере является последним аргументом \u003Ccode\u003EExchange\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n3.3. Будущие были впервые предложены в Smalltalk-72, а потом идея их применения была развита в MultiLISP (1985 год). Будущие достаточно распространённый инструмент: они есть в Java, доступные через \u003Ccode\u003Ejava.util.cuncurrent.Future\u003C\u002Fcode\u003E; их поддержка запланирована в C++0x. Поддерживаются они и в Oz, но в необычном виде. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБудущее для некоторого выражения \u003Ccode\u003EE\u003C\u002Fcode\u003E — это объект, связанный с асинхронным вычислением \u003Ccode\u003EE\u003C\u002Fcode\u003E. Будущее позволяет производить некоторые операции с ещё невычисленным результатом \u003Ccode\u003EE\u003C\u002Fcode\u003E — например, использовать его в вызовах функций, записывать в списки, передавать в другие асинхронные вычисления и так далее. В том случае, когда для продолжения работы требуется именно значение выражения \u003Ccode\u003EE\u003C\u002Fcode\u003E, обращение к его будущему приостановит выполнение до того момента, когда \u003Ccode\u003EE\u003C\u002Fcode\u003E будет вычислено. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ Oz похожим свойством обладают обычные переменные: часть действий с ними можно совершать не дожидаясь, пока в узлах, на которые они ссылаются, появятся значения. Многие из уже приведённых примеров это иллюстрируют. Однако, переменные в Oz — это двунаправленные каналы обмена информацией: стоящие слева и справа от \u003Ccode\u003E=\u003C\u002Fcode\u003E выражения симметричны для алгоритма унификации. Поэтому, в коде: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal X in \n\t\tthread X = 5 end \n\t\tthread X = 7 end \n\t\tX = 3 \n\t\t{Browse X} \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nни одна из нитей не выделяется, как производящая данные. Исключение в процессе унификации может вызвать любая нить. Будущее же позволяет установит в этой ситуации некоторый порядок. В Oz будущее — это доступная только для чтения ссылка на узел, то есть, несколько ограниченная версия переменной. Если будущее участвует в процессе унификации, то этот процесс приостанавливается до тех пор, пока соответствующая будущему переменная не оказывается связанной. Будущее для переменной \u003Ccode\u003EX\u003C\u002Fcode\u003E в Oz формируется оператором \u003Ccode\u003E!!X\u003C\u002Fcode\u003E. Порядок в пример выше можно внести, например, так: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n\tlocal X Y in \n\t\tY = !!X \n\t\tthread Y = 5 end \n\t\tthread X = 7 end \n\t\tY = 3 \n\t\t{Browse Y} \n\tend \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nздесь значение всегда будет формироваться только во второй нити. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch6\u003E4. Всё вместе\u003C\u002Fh6\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУдобно снова привести код из введения, чтобы не нужно было пролистывать этот текст на начало: \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003E\u003Cpre\u003E \n00\tdeclare Port in \n01\t \n02\tlocal PortTag NewPort IsPort Send in \n03\t\tPortTag = {NewName} \n04\t \n05\t\tfun {NewPort FS} \n06\t\t\tlocal S C in \n07\t\t\t\tC = {NewCell S} \n08\t\t\t\tFS = !!S \n09\t\t\t\t{NewChunk port(PortTag: C)} \n10\t\t\tend \n11\t\tend \n12\t \n13\t\tfun {IsPort ?P} \n14\t\t\t{Chunk.hasFeature P PortTag} \n15\t\tend \n16\t \n17\t\tproc {Send P M} \n18\t\t\tlocal Ms Mr in \n19\t\t\t\t{Exchange P.PortTag Ms Mr} \n20\t\t\t\tMs = M | !!Mr \n21\t\t\tend \n22\t\tend \n23\t \n24\t\tPort = port \n25\t\t( \n26\t\t\tnew: NewPort \n27\t\t\tis: IsPort \n28\t\t\tsend: Send \n29\t\t) \n30\tend \n31\t \n32\tdeclare NewQueueServer in \n33\t \n34\tfun {NewQueueServer} \n35\t\tlocal Given GivePort Taken TakePort Join in \n36\t\t\tGivePort = {Port.new Given} \n37\t\t\tTakePort = {Port.new Taken} \n38\t \n39\t\t\tproc {Join Xs Ys} \n40\t\t\t\tlocal Xr Yr X Y in \n41\t\t\t\t\tXs = X | Xr \n42\t\t\t\t\tYs = Y | Yr \n43\t\t\t\t\tX = Y \n44\t\t\t\t\t{Join Xr Yr} \n45\t\t\t\tend \n46\t\t\tend \n47\t \n48\t\t\tthread {Join Given Taken} end \n49\t\t \n50\t\t\tqueue \n51\t\t\t( \n52\t\t\t\tput: proc {$ X} {Port.send GivePort X} end \n53\t\t\t\tget: proc {$ X} {Port.send TakePort X} end \n54\t\t\t) \n55\t\tend \n56\tend \n57\t \n58\tdeclare Q in \n59\t \n60\tthread Q = {NewQueueServer} end \n61\t \n62\t{Q.put 1} \n63\t{Browse {Q.get $}} \n64\t{Browse {Q.get $}} \n65\t{Q.put 2} \n\u003C\u002Fpre\u003E\u003C\u002Fblockquote\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНет смысла описывать всю программу строчка за строчкой (что редко даёт представление о работе даже непараллельных программ), а нужно пояснить несколько моментов. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n4.1. Cоздание \u003Ccode\u003EPort\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ccode\u003EPort\u003C\u002Fcode\u003E представляет собой запись, поля связаны с набором процедур. Это не более, чем удобная группировка нескольких процедур. Сам же порт представляет собой область памяти, содержащую ячейку под именем, чья уникальность гарантируется функцией \u003Ccode\u003ENewName\u003C\u002Fcode\u003E. Переменная \u003Ccode\u003EPortName\u003C\u002Fcode\u003E видна только в локальном блоке (02-30), поэтому доступ к составляющим область памяти можно получить только из процедур \u003Ccode\u003EIsPort\u003C\u002Fcode\u003E, \u003Ccode\u003ENewPort\u003C\u002Fcode\u003E, \u003Ccode\u003ESend\u003C\u002Fcode\u003E. Снаружи этого блока о переменной \u003Ccode\u003EPortName\u003C\u002Fcode\u003E ничего не известно, поэтому и доступ к полю области памяти, хранящей состояние порта, маловероятен (конечно, имя можно и угадать, но для инкапсуляции такого механизма вполне достаточно). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВнимание нужно обратить и на функцию \u003Ccode\u003ENewPort\u003C\u002Fcode\u003E (05-11). Кроме возврата самой области памяти порта аргумент она возвращает через свой первый аргумент ещё и будущее переменной, инициализирующей ячейку. Это используется для инициализации \u003Ccode\u003EGiven\u003C\u002Fcode\u003E и \u003Ccode\u003ETaken\u003C\u002Fcode\u003E (36-37). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n4.2. Процедура \u003Ccode\u003ESend\u003C\u002Fcode\u003E (17-22). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНужно отметить, что ячейка области памяти порта всегда указывает на unknown-узел. И \u003Ccode\u003ESend\u003C\u002Fcode\u003E при очередном вызове первым делом гарантирует это, ссылку на предыдущий узел занося в переменную \u003Ccode\u003EMs\u003C\u002Fcode\u003E, а на её место помещая ссылку на узел несвязанной переменной \u003Ccode\u003EMr\u003C\u002Fcode\u003E. Далее, в \u003Ccode\u003ESend\u003C\u002Fcode\u003E формируется значение переменной \u003Ccode\u003EMs\u003C\u002Fcode\u003E, которое получается в ходе унификации с кортежем-списком, у которого на первом месте стоит отправляемое сообщение (которое может быть и несвязанным), а на втором — будущее \u003Ccode\u003EMr\u003C\u002Fcode\u003E (ещё раз: список это просто кортеж, на втором месте которого стоять может всё, что угодно). Последующий вызов \u003Ccode\u003ESend\u003C\u002Fcode\u003E проделает то же самое с переменной \u003Ccode\u003EMr\u003C\u002Fcode\u003E, и этот процесс будет постепенно превращать переменную, которая использовалась для инициализации ячейки в \u003Ccode\u003ENewPort\u003C\u002Fcode\u003E, и будущее которой было возвращено наружу, в список. Иными словами, \u003Ccode\u003ESend\u003C\u002Fcode\u003E действительно посылает сообщения в некоторую очередь. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n4.3. Процедура \u003Ccode\u003EJoin\u003C\u002Fcode\u003E (39-46). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСамое главное здесь то, к чему применяется эта процедура, работающая в отдельной нити (48). Она применяется к \u003Ccode\u003EGiven\u003C\u002Fcode\u003E и \u003Ccode\u003ETaken\u003C\u002Fcode\u003E, которые в результате вызовов \u003Ccode\u003ESend\u003C\u002Fcode\u003E постепенно превращаются в списки. Действительные параметры \u003Ccode\u003EJoin\u003C\u002Fcode\u003E всегда являются будущими, поэтому операторы унификации (41-42) выполняются только после связывания \u003Ccode\u003EXs\u003C\u002Fcode\u003E и \u003Ccode\u003EYs\u003C\u002Fcode\u003E, которое происходит в \u003Ccode\u003ESend\u003C\u002Fcode\u003E, превращая эти переменные в ссылки на кортежи вида \u003Ccode\u003EMessage | SomeFuture \u003C\u002Fcode\u003E. После чего \u003Ccode\u003EMessage\u003C\u002Fcode\u003E-составляющие входящего (\u003Ccode\u003EGiven\u003C\u002Fcode\u003E) и исходящего (\u003Ccode\u003ETaken\u003C\u002Fcode\u003E) потоков унифицируются, а \u003Ccode\u003EJoin\u003C\u002Fcode\u003E вызывается для будущих хвостов списков (Немного похоже на квантовую механику, не так ли? Возможно, Эйнштейну не хватило знаний о параллельном программировании, чтобы построить модель Вселенной со скрытыми переменными). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n4.4. В итоге. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЛюбая выставленная в поток \u003Ccode\u003EGiven\u003C\u002Fcode\u003E при помощи \u003Ccode\u003ESend\u003C\u002Fcode\u003E связанная переменная, будет в нити (48) унифицирована с соответствующей несвязанной переменной, выставленной в поток \u003Ccode\u003ETaken\u003C\u002Fcode\u003E. Естественно, ситуация полностью симметричная, и имена \u003Ccode\u003Eput\u003C\u002Fcode\u003E и \u003Ccode\u003Eget\u003C\u002Fcode\u003E используются для удобства. Но queueserver всё-равно получается асинхронным, что полезно. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch6\u003E5. Другие интересные особенности Oz\u003C\u002Fh6\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nOz предлагает среди прочих своих возможностей (а множество их обширно), предлагает ещё и интересную модель параллельного программирования. Которая отличается от классической, принятой в Prolog, например, тем, что позволяет программисту определять собственные процедуры поиска и перебора вариантов. И, конечно, модель логического программирования, принятая в Oz, является параллельной.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"Oz"},{"titleHtml":"распределенные системы"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F63715\u002Fcdd509820e6f13de16402f1e0c86a0c0\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F63715\u002Fcdd509820e6f13de16402f1e0c86a0c0\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F63715\\\u002F\"},\"headline\":\"Удивительная страна Oz, или как принять данные при помощи send\",\"datePublished\":\"2009-07-06T22:52:08+04:00\",\"dateModified\":\"2009-07-07T09:58:47+04:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Михаил Бахтерев\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http:...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F63715\\\u002F#post-content-body\",\"about\":[\"h_programming\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F63715\\\u002Fcdd509820e6f13de16402f1e0c86a0c0\\\u002F\"]}","metaDescription":"Довольно давно, собирая информацию по средствам параллельного программирования, наткнулся я на элегантный (другими словами сложно описать ощущения) язык Oz http:\u002F\u002Fwww.mozart-oz.org. Язык тогда...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false},"572164":{"id":"572164","timePublished":"2021-09-27T11:37:23+00:00","isCorporative":false,"lang":"ru","titleHtml":"Первые шаги в ОТО: прецессия орбиты Меркурия","editorVersion":"2.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"id":"1832999","alias":"Yermack","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F690\u002F140\u002F823\u002F690140823f555d03574a59d46f648d24.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":2,"favoritesCount":16,"readingCount":2195,"score":12,"votesCount":12},"hubs":[{"relatedData":null,"id":"18840","alias":"julia","type":"collective","title":"Julia","titleHtml":"Julia","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21968","alias":"physics","type":"collective","title":"Физика","titleHtml":"Физика","isProfiled":false},{"relatedData":null,"id":"22022","alias":"astronomy","type":"collective","title":"Астрономия","titleHtml":"Астрономия","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКогда речь заходит о теории относительности, частенько на ровном месте разрастаются споры, которые были занесены в почву непонимания и обильно удобрены мифами, недосказанностью и недостаточной математической подготовкой. Даже на лекциях от некоторых профессоров можно услышать, что детище гения Эйнштейна не имеет практической пользы, а на робкие попытки пролепетать что-то про спутниковые системы навигации они пренебрежительно отмахиваются, дескать, там все сложно и двояко. \u003C\u002Fp\u003E\u003Cp\u003EТак что совершенно естественно желание попробовать провести некоторые расчеты самолично, потрогать формулы, покрутить параметры, чтобы постепенно заложить интуицию в столь горячей теме.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa9f\u002Ff59\u002Fb65\u002Fa9ff59b65da6e8b1e6f59314aadb8e3d.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"прецессия"},{"titleHtml":"меркурий"},{"titleHtml":"теория относительности"},{"titleHtml":"уравнения эйнштейна"},{"titleHtml":"метрики"},{"titleHtml":"спасибо scihub"},{"titleHtml":"спасибо mathpix"},{"titleHtml":"астрология_точная_наука"}]},"579542":{"id":"579542","timePublished":"2021-09-26T19:00:02+00:00","isCorporative":true,"lang":"ru","titleHtml":"Jetpack Compose — как легко построить UI на Android","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2713395","alias":"i15in","fullname":"Иван","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F25f\u002Fe4b\u002Ff94\u002F25fe4bf94867d9647a0ae809abf2e429.jpg","speciality":"Android developer"},"statistics":{"commentsCount":12,"favoritesCount":55,"readingCount":4290,"score":31,"votesCount":39},"hubs":[{"relatedData":null,"id":"18232","alias":"funcorp","type":"corporative","title":"Блог компании FUNCORP","titleHtml":"Блог компании FUNCORP","isProfiled":false},{"relatedData":null,"id":"6345","alias":"mobile_dev","type":"collective","title":"Разработка мобильных приложений","titleHtml":"Разработка мобильных приложений","isProfiled":true},{"relatedData":null,"id":"9188","alias":"ui","type":"collective","title":"Интерфейсы","titleHtml":"Интерфейсы","isProfiled":true},{"relatedData":null,"id":"17107","alias":"android_dev","type":"collective","title":"Разработка под Android","titleHtml":"Разработка под Android","isProfiled":true},{"relatedData":null,"id":"19441","alias":"kotlin","type":"collective","title":"Kotlin","titleHtml":"Kotlin","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВ июле этого года вместе с Android Studio Arctic Fox вышла одна из долгожданных библиотек — Jetpack Compose. Она позволяет создавать пользовательский интерфейс в декларативном стиле и обещает быть революцией в построении UI.\u003C\u002Fp\u003E\u003Cp\u003EРазбираемся, так ли это на самом деле, какие у библиотеки преимущества и недостатки. Подробности — в статье.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5da\u002F63d\u002F3cb\u002F5da63d3cbeb8e38de3dde2792d851722.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5da\u002F63d\u002F3cb\u002F5da63d3cbeb8e38de3dde2792d851722.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"разработка мобильных приложений"},{"titleHtml":"jetpack compose"},{"titleHtml":"ui"},{"titleHtml":"интерфейсы"},{"titleHtml":"android"},{"titleHtml":"kotlin"},{"titleHtml":"android studio"},{"titleHtml":"arctic fox"},{"titleHtml":"пользовательские интерфейсы"}]},"579772":{"id":"579772","timePublished":"2021-09-27T05:32:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сливы процветают. Эксперт-«параноик» Майкл Баззель о защите личных данных","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Michael Bazzell","originalUrl":"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F"}}],"author":{"id":"2297567","alias":"SearchInform_team","fullname":null,"avatarUrl":"","speciality":"Пользователь"},"statistics":{"commentsCount":0,"favoritesCount":7,"readingCount":2248,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"22418","alias":"searchinform","type":"corporative","title":"Блог компании SearchInform","titleHtml":"Блог компании SearchInform","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EНаш очередной пост из серии «интересное на иностранном языке» – рассказ Майкла Баззеля о том, как сберечь свои персональные данные от утечек. Майкл – знаковая фигура в сфере OSINT, работал в правительстве США и ФБР, его приглашали в качестве технического эксперта в сериал «Мистер Робот», который считают достойным с точки зрения достоверности. В личной жизни эксперт придерживается настолько жестких правил в отношении информационной гигиены, что некоторые считают его «неадекватом». Так ли это – может быть несколько мнений. \u003C\u002Fp\u003E\u003Cp\u003EОдин из факторов, который убеждает в правильном подходе Майкла, – что риски обнаружить свои данные в интернете стали существенно выше, потому что шифровальщики без разбору сливают в сеть все, до чего дотягиваются при атаках на бизнес. Приводим перевод \u003Ca href=\"https:\u002F\u002Finteltechniques.com\u002Fblog\u002F2021\u002F07\u002F23\u002Fpersonal-ransomware-exposure\u002F\"\u003Eпоста Майкла Баззеля\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EАтакуют корпорации, а страдают люди\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EБольшинство людей не задумываются о том, как их касается проблема распространения вирусов-шифровальщиков. Логика такова: речь идет о проблемах компаний, это они вынуждены платить выкуп. При чем тут, казалось бы, обычные люди?! \u003C\u002Fp\u003E\u003Cp\u003EА при том, что преступники сменили тактику: сейчас они не просто шифруют данные, но и скачивают их, выкладывают в открытый доступ, если компании не платят им выкуп. Теперь давайте подумаем, что в этих слитых базах? Множество данных о сотрудниках, клиентах, контрагентах, с которыми компания-жертва работает.\u003C\u002Fp\u003E\u003Cp\u003EХочу сразу уточнить: я это пишу не потому что выступаю за уплату выкупа. Я за то, чтобы сопротивляться избыточному сбору данных там, где это не обязательно. Мы халатно относимся к своим ПДн, раздавая их по первому требованию.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe3b\u002F3e1\u002F2c2\u002Fe3b3e12c2036d90018b804276e31ebea.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"персональные данные"},{"titleHtml":"пдн"},{"titleHtml":"сёрчинформ"},{"titleHtml":"Майкл Баззел"},{"titleHtml":"утечки информации"}]},"579854":{"id":"579854","timePublished":"2021-09-27T06:03:01+00:00","isCorporative":true,"lang":"ru","titleHtml":"Видишь уязвимости? А они есть! Наше исследование популярных CMS-систем","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2684283","alias":"Solar_Pentest","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":8,"favoritesCount":19,"readingCount":3479,"score":27,"votesCount":29},"hubs":[{"relatedData":null,"id":"20826","alias":"solarsecurity","type":"corporative","title":"Блог компании Ростелеком-Солар","titleHtml":"Блог компании Ростелеком-Солар","isProfiled":false},{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛьвиная доля всех работ по анализу защищенности внешнего периметра – это тестирование веб-приложений. Здесь могут быть как корпоративные решения, так и «домашние» разработки на базе различных публичных систем управления контентом (CMS). Мы всегда проводим глубокий анализ подобных решений на тестовых стендах и зачастую находим уязвимости нулевого дня. Собственно, из опыта таких проектов и родилась идея собрать исследовательскую команду и провести глубокий анализ популярных CMS-систем и различных плагинов для них. В этом посте мы поделимся результатами нашего исследования, а также продемонстрируем примеры уязвимого кода наиболее интересных, на наш взгляд, уязвимостей и примеры их эксплуатации. Конечно все эти уязвимости уже исправлены и описываются здесь с разрешения владельцев систем.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","buttonTextHtml":"Не всё то в безопасности, что с Bug Bounty","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6df\u002F317\u002F4e6\u002F6df3174e60bbe263a70bcafdf9e51e6b.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"cms"},{"titleHtml":"уязвимости"},{"titleHtml":"уязвимости и их эксплуатация"},{"titleHtml":"уязвимость нулевого дня"}]},"580008":{"id":"580008","timePublished":"2021-09-27T06:30:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Летний Магнитогорск","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2614609","alias":"city_scraper","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F8f8\u002Fd6c\u002F328\u002F8f8d6c328ec3a513103b6757c2c21610.png","speciality":"Пользователь"},"statistics":{"commentsCount":6,"favoritesCount":3,"readingCount":3474,"score":13,"votesCount":19},"hubs":[{"relatedData":null,"id":"22012","alias":"Ecology","type":"collective","title":"Экология","titleHtml":"Экология","isProfiled":false},{"relatedData":null,"id":"22024","alias":"urban","type":"collective","title":"Урбанизм","titleHtml":"Урбанизм","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EМагнитогорск Челябинской области – один из крупнейших мировых центров чёрной металлургии. В России это шестой из крупнейших городов, которые не являются центрами субъектов страны. \u003C\u002Fp\u003E\u003Cp\u003EСовсем недавно город был одним из наиболее неблагополучных с точки зрения загрязнения атмосферного воздуха, но в 2021 году был зафиксирован «повышенный» уровень – то есть не «высокий» или «очень высокий», как раньше. \u003C\u002Fp\u003E\u003Cp\u003EКак этот город выглядит летом? Где и как его жители могут проводить время?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F030\u002F0d1\u002Fcff\u002F0300d1cff2029948d33d803000331724.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Магнитогорск"},{"titleHtml":"промышленность"},{"titleHtml":"промышленные города"},{"titleHtml":"урбанизм\u002Fурбания"},{"titleHtml":"урбанистика"},{"titleHtml":"города России"},{"titleHtml":"города"}]},"580050":{"id":"580050","timePublished":"2021-09-27T10:23:25+00:00","isCorporative":false,"lang":"ru","titleHtml":"Один человек ответил на 85+ тысяч вопросов на Stack Overflow (24,1 ответа в день)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1585037","alias":"sahsAGU","fullname":"Александр Гуреев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F43c\u002F6c7\u002F0ab\u002F43c6c70ab024d45474e6abe8db797573.jpg","speciality":"Автор"},"statistics":{"commentsCount":32,"favoritesCount":8,"readingCount":9573,"score":11,"votesCount":17},"hubs":[{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"306","alias":"mysql","type":"collective","title":"MySQL","titleHtml":"MySQL","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"594","alias":"sql","type":"collective","title":"SQL","titleHtml":"SQL","isProfiled":true},{"relatedData":null,"id":"7152","alias":"data_mining","type":"collective","title":"Data Mining","titleHtml":"Data Mining","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cstrong\u003EВ среднем 24,1 ответа в день (если все 365 дней в году считать рабочими) на протяжении почти 10 лет.\u003C\u002Fstrong\u003E \u003C\u002Fp\u003E\u003Cp\u003EНесколько дней назад на некоторых англоязычных ресурсах началось обсуждение одного очень необычного пользователя Stack Overflow. Его зовут Гордон Линофф (Gordon Linoff), он из Нью-Йорка, и за 9 лет и 8 месяцев своего присутствия на платформе он дал 85,201 ответов на различные вопросы, в основном связанные с SQL и дата-майнингом (цифра актуальна на 27.09.2021). \u003C\u002Fp\u003E\u003Cp\u003EЧто это за маг?\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F396\u002F5ac\u002Fef4\u002F3965acef48ae14917c514fa091f60d1a.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"sql"},{"titleHtml":"mysql"},{"titleHtml":"stackoverflow"},{"titleHtml":"базы данных"},{"titleHtml":"дата майнинг"},{"titleHtml":"data mining"}]},"580060":{"id":"580060","timePublished":"2021-09-27T09:00:04+00:00","isCorporative":true,"lang":"ru","titleHtml":"Арракис, который мы заслужили","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"238277","alias":"Zelenyikot","fullname":"Виталий Егоров","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F22b\u002F2d7\u002F7a5\u002F22b2d77a57b687aae24784a3e53089c9.jpg","speciality":"Популяризатор космонавтики"},"statistics":{"commentsCount":73,"favoritesCount":34,"readingCount":16256,"score":122,"votesCount":130},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21962","alias":"space","type":"collective","title":"Космонавтика","titleHtml":"Космонавтика","isProfiled":false},{"relatedData":null,"id":"21984","alias":"sci-fi","type":"collective","title":"Научная фантастика","titleHtml":"Научная фантастика","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F580060\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk0\u002Fds\u002Fy5\u002Fk0dsy5npxclyjdytiroqga7-leu.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E\u003Cbr\u003E\r\nВо вселенной писателя-фантаста Фрэнка Герберта, Дюна, она же Арракис &mdash; это пустынная и маловодная планета с двумя лунами. По сюжету, она находится за пределами Солнечной системы, но если мы захотим поискать ближайшую схожую параллель,&nbsp;то больше всего подходит планета Марс. Предлагаю воспользоваться возможностями, которые даёт современная космонавтика, и совершить воображаемую прогулку на нашу Дюну.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Марс"},{"titleHtml":"Дюна"},{"titleHtml":"MRO"},{"titleHtml":"Curiosity"},{"titleHtml":"марсоход"},{"titleHtml":"ruvds_статьи"}]},"580080":{"id":"580080","timePublished":"2021-09-26T19:12:55+00:00","isCorporative":false,"lang":"ru","titleHtml":"Дайджест свежих материалов из мира фронтенда за последнюю неделю №486 (20 — 26 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"59347","alias":"alexzfort","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd2a\u002Fe8a\u002F5ac\u002Fd2ae8a5ac9876f838ebdd45f3ea3bc3b.png","speciality":""},"statistics":{"commentsCount":2,"favoritesCount":22,"readingCount":3746,"score":17,"votesCount":17},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"307","alias":"css","type":"collective","title":"CSS","titleHtml":"CSS","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true},{"relatedData":null,"id":"17103","alias":"html5","type":"collective","title":"HTML","titleHtml":"HTML","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"Предлагаем вашему вниманию подборку с ссылками на новые материалы из области фронтенда и около него.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fec\u002F0x\u002Fkx\u002Fec0xkxfr5jd-rci1wjo9bmr4cns.jpeg\"\u003E\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"фронтенд"},{"titleHtml":"css"},{"titleHtml":"js"},{"titleHtml":"es6"},{"titleHtml":"vue"},{"titleHtml":"react"},{"titleHtml":"angular"},{"titleHtml":"ember"},{"titleHtml":"html5"},{"titleHtml":"браузеры"},{"titleHtml":"ссылки"}]},"580086":{"id":"580086","timePublished":"2021-09-26T19:37:10+00:00","isCorporative":false,"lang":"ru","titleHtml":"Термо принтер и JavaScript","editorVersion":"2.0","postType":"article","postLabels":[{"type":"recovery","data":null}],"author":{"id":"1709955","alias":"IIIarp","fullname":"Сергей Шарпов","avatarUrl":"","speciality":"Веб разработчик"},"statistics":{"commentsCount":53,"favoritesCount":36,"readingCount":10547,"score":51,"votesCount":53},"hubs":[{"relatedData":null,"id":"84","alias":"crazydev","type":"collective","title":"Ненормальное программирование","titleHtml":"Ненормальное программирование","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПриобрел я на днях термопринтер (кассовый аппарат, если изволите) жене для магазина и решил что смогу его обуздать как истинный программист и сделать свою веб кассу, вместо того, что-бы использовать платные решения, ведь задача простая, печатать чеки, но это оказалось не так то и просто...\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4f3\u002F259\u002Fe4e\u002F4f3259e4e73b5bfae82890fd3db512a0.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4f3\u002F259\u002Fe4e\u002F4f3259e4e73b5bfae82890fd3db512a0.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"термопринтер"},{"titleHtml":"javascript"},{"titleHtml":"webusb"}]},"580088":{"id":"580088","timePublished":"2021-09-26T21:17:27+00:00","isCorporative":false,"lang":"ru","titleHtml":"Запуск X-приложения в chroot на примере POSE (или «QEMU не нужен»)","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1481597","alias":"edo1h","fullname":null,"avatarUrl":"","speciality":"немного программист, немного админ"},"statistics":{"commentsCount":5,"favoritesCount":13,"readingCount":1179,"score":16,"votesCount":16},"hubs":[{"relatedData":null,"id":"221","alias":"sys_admin","type":"collective","title":"Системное администрирование","titleHtml":"Системное администрирование","isProfiled":true},{"relatedData":null,"id":"7289","alias":"nix","type":"collective","title":"*nix","titleHtml":"*nix","isProfiled":true}],"flows":[{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта мини-статья родилась как ответ на статью \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F579296\" rel=\"noopener noreferrer nofollow\"\u003EУпрощаем эмуляцию X86 с помощью Live CD\u003C\u002Fa\u003E, в которой для запуска старых 32-битных приложений на 64-битных дистрибутивах Linux предлагалось использовать QEMU + Live CD — по моему мнению «из пушки по воробьям». Опишу своё решение на \u003Ccode\u003Echroot\u003C\u002Fcode\u003E + \u003Ccode\u003Edebootstrap\u003C\u002Fcode\u003E. \u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"chroot"},{"titleHtml":"debootstrap"},{"titleHtml":"xwindow"}]},"580090":{"id":"580090","timePublished":"2021-09-26T21:19:11+00:00","isCorporative":false,"lang":"ru","titleHtml":"Сравнение подходов к реализации распределенных транзакций для микросервисов","editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null},{"type":"translation","data":{"originalAuthorName":"Bilgin Ibryam","originalUrl":"https:\u002F\u002Fdevelopers.redhat.com\u002Farticles\u002F2021\u002F09\u002F21\u002Fdistributed-transaction-patterns-microservices-compared"}}],"author":{"id":"194270","alias":"sprosin","fullname":"Sergey Prosin","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fd67\u002F5d8\u002F1d6\u002Fd675d81d6fe5bf69493735cef4910eb5.jpg","speciality":"Веду команды к релизам, пишу статьи, выступаю."},"statistics":{"commentsCount":6,"favoritesCount":95,"readingCount":5049,"score":18,"votesCount":18},"hubs":[{"relatedData":null,"id":"7504","alias":"refactoring","type":"collective","title":"Проектирование и рефакторинг","titleHtml":"Проектирование и рефакторинг","isProfiled":true},{"relatedData":null,"id":"21482","alias":"distributed_systems","type":"collective","title":"Распределённые системы","titleHtml":"Распределённые системы","isProfiled":true},{"relatedData":null,"id":"22115","alias":"microservices","type":"collective","title":"Микросервисы","titleHtml":"Микросервисы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EКак архитектор-консультант в Red Hat, я имел возможность поработать над множеством проектов для наших клиентов. У каждого из них есть свои особенности, которые, однако, имеют некоторые общие черты. Большинство клиентов хотят знать, как скоординировать запись в несколько систем одновременно. Ответ на этот вопрос обычно включает подробное объяснение двойной записи, распределенных транзакций, современных альтернатив, а также возможных сценариев сбоев и недостатков каждого подхода. Как правило, именно в этот момент заказчик понимает, что разделение монолитного приложения на микросервисы - долгий и сложный путь, обычно требующий компромиссов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbc4\u002F35d\u002Fff3\u002Fbc435dff35d09143dacf29bbc1e470a7.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"распределенные системы"},{"titleHtml":"микросервисы"},{"titleHtml":"транзакции"},{"titleHtml":"распределенные транзакции"},{"titleHtml":"оркестрация"},{"titleHtml":"оркестрация микросервисов"},{"titleHtml":"хореография"},{"titleHtml":"конвейеры"}]},"580092":{"id":"580092","timePublished":"2021-09-26T21:49:14+00:00","isCorporative":false,"lang":"ru","titleHtml":"30 сентября: Let's Encrypt и конец срока действия IdenTrust DST Root CA X3","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"805873","alias":"rantal","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":92,"favoritesCount":54,"readingCount":18175,"score":46,"votesCount":46},"hubs":[{"relatedData":null,"id":"50","alias":"infosecurity","type":"collective","title":"Информационная безопасность","titleHtml":"Информационная безопасность","isProfiled":true},{"relatedData":null,"id":"17350","alias":"s_admin","type":"collective","title":"Серверное администрирование","titleHtml":"Серверное администрирование","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E30 сентября 2021 14:01:15  GMT оканчивается срок действия корневого сертификата IdenTrust DST Root CA X3.\u003C\u002Fp\u003E\u003Cp\u003EЭто событие достойно вашего внимания по той причине, что после наступления этого момента ряд устаревших систем перестанут доверять сертификатам,&nbsp;выпущенным центром сертификации Let’s Encrypt. С учётом того, что на текущий момент Let's Encrypt предоставляет бесплатные криптографические сертификаты примерно для \u003Ca href=\"https:\u002F\u002Fletsencrypt.org\u002Fstats\u002F\" rel=\"noopener noreferrer nofollow\"\u003E250 миллионов доменных имен\u003C\u002Fa\u003E, а \"устаревшие системы\" - это порой системы возрастом всего 5-6 лет, вряд ли окончание срока действия сертификата&nbsp;DST Root CA X3 пройдёт для всех гладко и незаметно. В чём причина, кого конкретно это затронет, и что можно сделать?\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"let's encrypt"},{"titleHtml":"DST Root CA X3"},{"titleHtml":"корневой сертификат"},{"titleHtml":"https"},{"titleHtml":"tls"},{"titleHtml":"openssl"}]},"580094":{"id":"580094","timePublished":"2021-09-26T22:35:26+00:00","isCorporative":false,"lang":"ru","titleHtml":"Блокчейн нас подвёл? Почему ДЭГ — это плохо и можем ли мы адекватно контролировать процесс подсчёта голосов?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"206414","alias":"PoltoS","fullname":"Сергей Полторак","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F5cf\u002F03a\u002Fc7f\u002F5cf03ac7fe60ea8a6686bd4c57627ddc.png","speciality":""},"statistics":{"commentsCount":98,"favoritesCount":27,"readingCount":14400,"score":32,"votesCount":54},"hubs":[{"relatedData":null,"id":"118","alias":"crypto","type":"collective","title":"Криптография","titleHtml":"Криптография","isProfiled":true},{"relatedData":null,"id":"210","alias":"it_testing","type":"collective","title":"Тестирование IT-систем","titleHtml":"Тестирование IT-систем","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EИнтересно наблюдать, как дискредитируется термин блокчейна на выборах в госдуму. Вроде голосование было на блокчейне, но его якобы подделали. Т.е. блокчейн можно подделать или ЦИК и ДИТ нам подсунули какой-то лохчейн вместо блокчейна?!? И мало кто обсуждает происходящее по существу без эмоций, связанных с результатами партий и кандидатов.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6e5\u002F82b\u002F9d0\u002F6e582b9d062dd29fa41c7842a8b76495.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Криптография"},{"titleHtml":"блокчейн"},{"titleHtml":"открытые данные"},{"titleHtml":"электронное голосование"},{"titleHtml":"выборы"},{"titleHtml":"выборы в госдуму"},{"titleHtml":"дэг"},{"titleHtml":"дэг 2021"}]},"580124":{"id":"580124","timePublished":"2021-09-27T13:03:14+00:00","isCorporative":true,"lang":"ru","titleHtml":"Электролюминесцентные индикаторы из прошлого","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"146371","alias":"radiolok","fullname":"Артем Кашканов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa46\u002Fc6a\u002F151\u002Fa46c6a15193f7c0cac79d2736b107358.jpg","speciality":"Релейно-декатронный маньяк"},"statistics":{"commentsCount":10,"favoritesCount":32,"readingCount":3341,"score":58,"votesCount":58},"hubs":[{"relatedData":null,"id":"19791","alias":"ruvds","type":"corporative","title":"Блог компании RUVDS.com","titleHtml":"Блог компании RUVDS.com","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false},{"relatedData":null,"id":"21930","alias":"antikvariat","type":"collective","title":"Старое железо","titleHtml":"Старое железо","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Сегодня речь пойдёт об электролюминесцентных индикаторах. Но, не о тех, которые окружают вас повсюду и к которым вы привыкли, а о других — получивших огромную популярность в 60-е годы прошлого века, и так же стремительно канувших в небытие. Заодно запущу свою коллекцию индикаторов, как серийно выпускавшихся, так и уникальных опытных и даже — лабораторных образцов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fruvds\u002Fblog\u002F523004\u002F\"\u003E\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F94e\u002F51f\u002F459\u002F94e51f459ae59c9d2fe6c448cb07bcca.gif\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fa\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"Индикатор"},{"titleHtml":"электролюминесцентность"},{"titleHtml":"ruvds_статьи"}]},"580150":{"id":"580150","timePublished":"2021-09-27T10:50:03+00:00","isCorporative":true,"lang":"ru","titleHtml":"Топ-5 когнитивных искажений при планировании в IT","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2794469","alias":"KM_QA","fullname":null,"avatarUrl":"","speciality":""},"statistics":{"commentsCount":6,"favoritesCount":34,"readingCount":3978,"score":30,"votesCount":32},"hubs":[{"relatedData":null,"id":"14332","alias":"oleg-bunin","type":"corporative","title":"Блог компании Конференции Олега Бунина (Онтико)","titleHtml":"Блог компании Конференции Олега Бунина (Онтико)","isProfiled":false},{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true},{"relatedData":null,"id":"20754","alias":"tech_events","type":"collective","title":"Конференции","titleHtml":"Конференции","isProfiled":false},{"relatedData":null,"id":"21990","alias":"brain","type":"collective","title":"Мозг","titleHtml":"Мозг","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"4","alias":"marketing","title":"Маркетинг"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЭта статья подходит для тимлидов и их подопечных, а также для всех, кто оценивает проекты и задачи. Я расскажу, как и почему мы делаем ошибки из-за когнитивных искажений. Попадаем в них мы почти все, просто потому что мы живые люди. И на примере одного дня из жизни тимлида я хочу показать, в какие искажения чаще всего влетают в IT, и&nbsp; — самое полезное&nbsp; —&nbsp; как из них можно выходить.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EЗамечу, что искать когнитивные искажения стоит, в первую очередь, у себя, а не у коллег. \u003C\u002Fstrong\u003EИ что рассказывать про искажения намного проще, чем не влетать в их на практике, однако, если этому научиться, то в перспективе это изрядно окупается, потому что экономит и время, и деньги, помогая и нам, и команде.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb78\u002F76f\u002F001\u002Fb7876f0010e85c328462a735df0b76e8.jpg","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"когнитивные искажения"},{"titleHtml":"нейрофизиология"},{"titleHtml":"мозг"},{"titleHtml":"психология"},{"titleHtml":"тимлидство"},{"titleHtml":"тимлид"},{"titleHtml":"управление людьми"},{"titleHtml":"управление проектами и командой"},{"titleHtml":"управление командой"},{"titleHtml":"управление персоналом"}]},"580172":{"id":"580172","timePublished":"2021-09-27T11:45:49+00:00","isCorporative":true,"lang":"ru","titleHtml":"Небинарный ngIf*","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1050218","alias":"Waterplea","fullname":"Александр Инкин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa70\u002F569\u002Ff31\u002Fa70569f31346559ce2b8b875e7f97480.jpg","speciality":"Google Developer Expert | Angular"},"statistics":{"commentsCount":0,"favoritesCount":10,"readingCount":723,"score":14,"votesCount":14},"hubs":[{"relatedData":null,"id":"17420","alias":"tinkoff","type":"corporative","title":"Блог компании TINKOFF","titleHtml":"Блог компании TINKOFF","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"18109","alias":"angular","type":"collective","title":"Angular","titleHtml":"Angular","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EВам когда-нибудь хотелось отобразить состояние загрузки, пока \u003Ccode\u003EngIf\u003C\u002Fcode\u003E ждет ответа от \u003Ccode\u003Easync\u003C\u002Fcode\u003E-пайпа? Или, может, вы мечтали передать в \u003Ccode\u003EngFor\u003C\u002Fcode\u003E шаблон для пустого массива? Возможно, вы бросили это, потому что вам не хотелось реализовывать базовую логику этих директив самому. На самом деле в этом нет нужды! Один и тот же селектор может подцепить несколько директив, что позволяет расширить функциональность встроенных директив дополнительной логикой.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F846\u002F786\u002F3e2\u002F8467863e2df65db32cb31f4b16c822ef.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"template"},{"titleHtml":"directive"},{"titleHtml":"angular"},{"titleHtml":"structural"}]},"580194":{"id":"580194","timePublished":"2021-09-27T12:36:12+00:00","isCorporative":true,"lang":"ru","titleHtml":"Сотрудники на карте: отвечаем на 10 важных вопросов о трекинге","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"1254716","alias":"Axelus","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F118\u002Fc4f\u002F08f\u002F118c4f08ffa66438ad6be22e205d563d.png","speciality":"Разработчик"},"statistics":{"commentsCount":0,"favoritesCount":6,"readingCount":834,"score":13,"votesCount":15},"hubs":[{"relatedData":null,"id":"20758","alias":"regionsoft","type":"corporative","title":"Блог компании RegionSoft","titleHtml":"Блог компании RegionSoft","isProfiled":false},{"relatedData":null,"id":"6398","alias":"it-infrastructure","type":"collective","title":"IT-инфраструктура","titleHtml":"IT-инфраструктура","isProfiled":true},{"relatedData":null,"id":"12365","alias":"saas","type":"collective","title":"SaaS \u002F S+S","titleHtml":"SaaS \u002F S+S","isProfiled":true},{"relatedData":null,"id":"17783","alias":"geo","type":"collective","title":"Геоинформационные сервисы","titleHtml":"Геоинформационные сервисы","isProfiled":true},{"relatedData":null,"id":"20736","alias":"hr_management","type":"collective","title":"Управление персоналом","titleHtml":"Управление персоналом","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EЛюбой контроль сотрудников — опасный и болезненный вопрос, особенно в небольших компаниях. Часто в дружеские и открытые отношения компании не вписывается ни одна из форм контроля, рассчитывать можно только на доверие. Но пресловутый ковид и здесь внёс свои коррективы: расширение удалённой работы, увеличение штата мобильных сотрудников, частичная занятость пополнили ряды полевых сисадминов, аутсорсеров поддержки и остальных «разъездных» работников. Увы, люди разные и вслед за приятными плодами и бонусами удалёнки пришли негативные истории про поведение курьеров, опоздания и откровенные нарушения сотрудников на территории клиентов, неявки на работу или к заказчику и т.д. С этим столкнулись и ритейл, и ИТ, и любая сфера с мобильными сотрудниками. Очень хочется верить в лучшее, но без минимального контроля можно просто потерять бизнес — и тогда пострадают коллеги нерадивых сотрудников.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe4a\u002F5b9\u002Fa9d\u002Fe4a5b9a9d62c342fa897f4531ec9301b.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"geomonitor"},{"titleHtml":"геолокация"},{"titleHtml":"геозона"},{"titleHtml":"трекинг"}]},"580206":{"id":"580206","timePublished":"2021-09-27T12:51:03+00:00","isCorporative":false,"lang":"ru","titleHtml":"МТС отказался от скрытых мобильных подписок?","editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"2467147","alias":"Plusodin","fullname":"Владимир","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F343\u002Fb77\u002Fd12\u002F343b77d12f047368849a9880276f936e.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":6,"favoritesCount":2,"readingCount":3340,"score":8,"votesCount":8},"hubs":[{"relatedData":null,"id":"22008","alias":"cellular","type":"collective","title":"Сотовая связь","titleHtml":"Сотовая связь","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр!\u003C\u002Fp\u003E\u003Cp\u003EНу что, подходит к концу первый сезон сериала «О скрытых мобильных подписках и операторах связи». Предыдущие три серии: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F550448\u002F\" rel=\"noopener noreferrer nofollow\"\u003EМегафон\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F563260\u002F\" rel=\"noopener noreferrer nofollow\"\u003EБилайн\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F571256\u002F\" rel=\"noopener noreferrer nofollow\"\u003ETele2\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНу и вишенка на этом торте – МТС.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"мтс"},{"titleHtml":"мобильные подписки"},{"titleHtml":"подписки"},{"titleHtml":"оператор связи"},{"titleHtml":"теле2"},{"titleHtml":"мегафон"},{"titleHtml":"билайн"}]},"580210":{"id":"580210","timePublished":"2021-09-27T12:53:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"PHP Дайджест № 212 (13 – 27 сентября 2021)","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"100489","alias":"pronskiy","fullname":"Роман Пронский","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F27f\u002Fb99\u002Feb3\u002F27fb99eb3e30e3221c5839e88be02395.jpg","speciality":"PHP"},"statistics":{"commentsCount":0,"favoritesCount":8,"readingCount":2716,"score":30,"votesCount":30},"hubs":[{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"260","alias":"php","type":"collective","title":"PHP","titleHtml":"PHP","isProfiled":true},{"relatedData":null,"id":"477","alias":"symfony","type":"collective","title":"Symfony","titleHtml":"Symfony","isProfiled":true},{"relatedData":null,"id":"9554","alias":"yii","type":"collective","title":"Yii","titleHtml":"Yii","isProfiled":true},{"relatedData":null,"id":"18812","alias":"laravel","type":"collective","title":"Laravel","titleHtml":"Laravel","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fek\u002F6r\u002Fr1\u002Fek6rr1odvyzb89tfv0lq4cmfxi4.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nПодборка свежих новостей и материалов из мира PHP.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВышел PHP 8.1 RC2 и уже доступен первый пакет с использованием перечислений, будет сделан форк Magento, новый тип стандартов PER в дополнение к PSR, стартовала PhpStorm 2021.3 EAP, Symfony 6 будет полностью типизирован — как обновляться?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля PHP 8.2 предложены новые оптимизированные структуры данных.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТакже в выпуске порция инструментов, полезные статьи, видео и анонсы двух митапов.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПриятного чтения!\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"дайджест"},{"titleHtml":"php-дайджест"},{"titleHtml":"PHP"},{"titleHtml":"Symfony"},{"titleHtml":"Laravel"},{"titleHtml":"Magento"},{"titleHtml":"PHPUnit"},{"titleHtml":"PHP 8.1"},{"titleHtml":"PHP 8.2"}]},"580228":{"id":"580228","timePublished":"2021-09-27T16:41:21+00:00","isCorporative":true,"lang":"ru","titleHtml":"Идеальная светодиодная лампа за 21 рубль","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"108988","alias":"AlexeyNadezhin","fullname":"Алексей Надежин","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffdc\u002F3ac\u002F9a2\u002Ffdc3ac9a2dc0107cc956f1bd0cf5fc2b.jpg","speciality":"Блогер"},"statistics":{"commentsCount":14,"favoritesCount":11,"readingCount":3115,"score":26,"votesCount":26},"hubs":[{"relatedData":null,"id":"21646","alias":"lamptest","type":"corporative","title":"Блог компании LampTest","titleHtml":"Блог компании LampTest","isProfiled":false},{"relatedData":null,"id":"21894","alias":"gadgets","type":"collective","title":"Гаджеты","titleHtml":"Гаджеты","isProfiled":false}],"flows":[{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"leadData":{"textHtml":"Удивительно осознавать, что достаточно сложное электронное устройство, которым является светодиодная лампочка, может стоить 21 рубль. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕщё сложнее поверить, что эта лампочка безукоризненна по всем параметрам.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F20f\u002F849\u002Ffcd\u002F20f849fcd6a3891f506676fc87223bdf.jpg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null,"tags":[{"titleHtml":"led"},{"titleHtml":"светодиодные лампы"},{"titleHtml":"тест"}]}},"articlesIds":{"ARTICLES_LIST_TOP_PERIOD_DAILY":["580060","580124","580086","580092","580094","579542","580210","580150","579854","580228","580090","580080","580088","580172","580194","580008","572164","580050","579772","580206"]},"isLoading":false,"pagesCount":{"ARTICLES_LIST_TOP_PERIOD_DAILY":3},"route":{"name":"ARTICLES_LIST_TOP_PERIOD","params":{"period":"daily"},"query":{}},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":["561630","550750","479892"],"similarListRefs":{"479892":{"id":"479892","timePublished":"2019-12-16T12:08:23+00:00","isCorporative":true,"lang":"ru","titleHtml":"О плагинах Gradle, многопоточности в распределенных системах и автоматизации мониторинга: видео с митапа Яндекс.Денег","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"1205966","alias":"NataliaZheltova","fullname":"Наталья Желтова","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F384\u002F9ba\u002F33e\u002F3849ba33eab115139401cb96e9203e0e.jpg","speciality":"Пользователь"},"statistics":{"commentsCount":1,"favoritesCount":26,"readingCount":2443,"score":13,"votesCount":13},"hubs":[{"id":"20942","alias":"yoomoney","type":"corporative","title":"Блог компании ЮMoney","titleHtml":"Блог компании ЮMoney","isProfiled":false},{"id":"144","alias":"open_source","type":"collective","title":"Open source","titleHtml":"Open source","isProfiled":true},{"id":"375","alias":"java","type":"collective","title":"Java","titleHtml":"Java","isProfiled":true},{"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"id":"21372","alias":"gradle","type":"collective","title":"Gradle","titleHtml":"Gradle","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент","titleHtml":"Менеджмент"}],"relatedData":null,"leadData":{"textHtml":"В нашем офисе состоялась традиционная встреча бэкенд-разработчиков — митап Java Jam.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПоговорили, как с помощью плагинов Gradle можно оптимизировать сборочную инфраструктуру и автоматизировать релизный цикл. Обсудили плюсы и минусы существующих подходов к организации многопоточности в распределенных системах. И под конец затронули проблему автоматизации мониторинга.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля тех, кто хотел посетить митап, но не смог, а также для всех желающих узнать опыт Яндекс.Денег и эксперта Hazelcast, видео трех докладов — под катом. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fpo\u002Fyx\u002Fne\u002Fpoyxnet4adcru4ed5q3q4wgtr0s.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n","imageUrl":null,"buttonTextHtml":null,"image":null},"status":"published","plannedPublishTime":null,"checked":null},"550750":{"id":"550750","timePublished":"2021-04-05T10:23:15+00:00","isCorporative":true,"lang":"ru","titleHtml":"Распределённая конференция о распределённых системах: анонс Hydra 2021","editorVersion":"1.0","postType":"article","postLabels":[],"author":{"id":"52751","alias":"phillennium","fullname":"Евгений Трифонов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fc62\u002Ff71\u002Fed6\u002Fc62f71ed62715557e8873a4b53ab9d3a.jpg","speciality":"ContentProvider"},"statistics":{"commentsCount":3,"favoritesCount":8,"readingCount":1726,"score":17,"votesCount":17},"hubs":[{"id":"18226","alias":"jugru","type":"corporative","title":"Блог компании JUG Ru Group","titleHtml":"Блог компании JUG Ru Group","isProfiled":false},{"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"id":"17822","alias":"parallel_programming","type":"collective","title":"Параллельное программирование","titleHtml":"Параллельное программирование","isProfiled":true},{"id":"20754","alias":"tech_events","type":"collective","title":"Конференции","titleHtml":"Конференции","isProfiled":false},{"id":"21482","alias":"distributed_systems","type":"collective","title":"Распределённые системы","titleHtml":"Распределённые системы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование","titleHtml":"Администрирование"},{"id":"4","alias":"marketing","title":"Маркетинг","titleHtml":"Маркетинг"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fag\u002F1_\u002Fsu\u002Fag1_su8fpn8z0tzxodazt-xqw78.png\"\u003E\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003EМы уже третий год проводим конференцию о параллельных и распределённых вычислениях. \u003Cstrong\u003E\u003Ca href=\"https:\u002F\u002Fhydraconf.com\u002F?utm_source=habr&amp;utm_medium=550750\" rel=\"nofollow noopener noreferrer\"\u003EHydra 2021\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E пройдёт в онлайне, и вот что интересно: онлайн-конференция ведь и сама является распределённой системой. У неё есть множество компонентов (это и люди, и оборудование), разбросанных по планете и действующих параллельно (у конференции сразу несколько треков).\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003EА значит, неизбежны соответствующие проблемы вроде «связь отвалилась». Как с ними бороться? Тут нам помогает как раз инженерия распределённых систем.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНапример, «избыточность» — это не только когда реплики данных пишутся в три дата-центра. Это ещё и когда у конференции есть одновременно спикеры, эксперты и ведущие. Такая схема с тремя ролями означает, что если связь с кем-то временно пропадёт, двое других заполнят паузу в эфире, не оставляя зрителей наедине с пустотой.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003EВ общем, от «Гидры» можно ожидать неплохой отказоустойчивости (подробнее можно почитать \u003Ca href=\"https:\u002F\u002Ft.me\u002Fchannel_23derevo\u002F204\" rel=\"nofollow noopener noreferrer\"\u003Eздесь\u003C\u002Fa\u003E). А чего ещё ждать? Расписали под катом — и заодно приложили ссылку на доклады предыдущей Hydra. \u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"status":"published","plannedPublishTime":null,"checked":null},"561630":{"id":"561630","timePublished":"2021-06-08T12:35:45+00:00","isCorporative":true,"lang":"ru","titleHtml":"Инженерная надежность и отказоустойчивость распределенной системы","editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"highscalability.com","originalUrl":"http:\u002F\u002Fhighscalability.com\u002Fblog\u002F2021\u002F2\u002F19\u002Fengineering-dependability-and-fault-tolerance-in-a-distribut.html"}}],"author":{"id":"1547287","alias":"MaxRokatansky","fullname":"OTUS","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb9f\u002Fbaf\u002F5f9\u002Fb9fbaf5f96ae52973706a0716bd9216e.jpg","speciality":"Редактор"},"statistics":{"commentsCount":0,"favoritesCount":34,"readingCount":2789,"score":10,"votesCount":10},"hubs":[{"id":"21052","alias":"otus","type":"corporative","title":"Блог компании OTUS","titleHtml":"Блог компании OTUS","isProfiled":false},{"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"}],"relatedData":null,"leadData":{"textHtml":"\u003Cp\u003E\u003Cem\u003EЭто гостевая публикация от&nbsp;\u003C\u002Fem\u003E\u003Ca href=\"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fpaddybyers\u002F\"\u003E\u003Cu\u003EПэдди Байерса (Paddy Byers)\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003Cem\u003E, сооснователя и технического директора&nbsp;\u003C\u002Fem\u003E\u003Ca href=\"https:\u002F\u002Fwww.ably.io\u002F\"\u003E\u003Cu\u003EAbly\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003Cem\u003E&nbsp; — платформы для стриминга данных в реальном времени. Оригинал статьи опубликован в&nbsp;\u003C\u002Fem\u003E\u003Ca href=\"https:\u002F\u002Fwww.ably.io\u002Fblog\u002Fengineering-dependability-and-fault-tolerance-in-a-distributed-system\"\u003E\u003Cu\u003Eблоге Ably\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003Cem\u003E.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EЛюди хотят быть уверены в надежности используемого сервиса. Однако в реальности отдельные компоненты неизбежно отказывают, и у нас должна быть возможность продолжать работу, несмотря на это.\u003C\u002Fp\u003E\u003Cp\u003EВ этой статье мы подробно рассмотрим концепции надежности и отказоустойчивости, которые стали определяющими при разработке платформы Ably.\u003C\u002Fp\u003E\u003Cp\u003EДля начала дадим несколько определений:\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EНадежность\u003C\u002Fstrong\u003E —\u003Cstrong\u003E \u003C\u002Fstrong\u003Ecтепень того, насколько пользователи могут положиться на продукт или сервис для решения своих задач.&nbsp;Доступность&nbsp;и&nbsp;устойчивость&nbsp;являются видами надежности.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EДоступность \u003C\u002Fstrong\u003E— степень&nbsp;готовности&nbsp;продукта или сервиса к эксплуатации по требованию. Это понятие часто сcодят к обеспечению необходимого излишка ресурсов с учетом&nbsp;\u003Ca href=\"https:\u002F\u002Fwww.ibm.com\u002Fsupport\u002Fknowledgecenter\u002FSTXNRM_3.15.1\u002Fcoss.doc\u002FcorrelatedFailureMitigation_defining_independent_versus_correlated_failures.html\"\u003E\u003Cu\u003Eстатистически независимых отказов\u003C\u002Fu\u003E\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EУстойчивость \u003C\u002Fstrong\u003E—\u003Cstrong\u003E \u003C\u002Fstrong\u003Ecпособность продукта или сервиса&nbsp;соответствовать заявленным характеристикам&nbsp;в процессе использования. Это значит, что система не просто готова к эксплуатации: благодаря дополнительным мощностям, предусмотренным в ходе проектирования,&nbsp;она может продолжать работать под нагрузкой, как и ожидают пользователи.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EОтказоустойчивость \u003C\u002Fstrong\u003E—\u003Cstrong\u003E \u003C\u002Fstrong\u003Eспособность системы сохранять&nbsp;надежность&nbsp;(доступность и устойчивость) при отказе отдельных компонентов или сбоях в подсистемах.\u003C\u002Fp\u003E\u003Cp\u003EОтказоустойчивые системы спроектированы таким образом, чтобы смягчать воздействие неблагоприятных факторов и оставаться надежными для конечного пользователя. Методы обеспечения отказоустойчивости могут использоваться для улучшения доступности и устойчивости.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F607\u002Fc13\u002Ffc1\u002F607c13fc1a6cc6f96fa0317660b7641f.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F607\u002Fc13\u002Ffc1\u002F607c13fc1a6cc6f96fa0317660b7641f.png","fit":"cover","positionY":0,"positionX":0}},"status":"published","plannedPublishTime":null,"checked":null}}},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{"mikhanoid":{"scoreStats":{"score":189.6,"votesCount":553},"rating":0.5,"relatedData":null,"contacts":[{"title":"Хабр Карьера","url":"https:\u002F\u002Fcareer.habr.com\u002Fm-bakhterev","value":"m-bakhterev"}],"authorContacts":[{"title":"Хабр Карьера","url":"https:\u002F\u002Fcareer.habr.com\u002Fm-bakhterev","value":"m-bakhterev"}],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"7252","alias":"mikhanoid","fullname":"Михаил Бахтерев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F5e0\u002F66a\u002F28f\u002F5e066a28f8ee8a2fcb1e1082af1de698.jpg","speciality":"Системное программирование"}},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.670ab961.js" defer></script><script src="https://assets.habr.com/habr-web/js/chunk-f458c7c4.6e221df6.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.76acc47b.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
